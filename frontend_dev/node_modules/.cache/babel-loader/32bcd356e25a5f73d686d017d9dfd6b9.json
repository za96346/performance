{"ast":null,"code":"import _slicedToArray from\"/Users/admin/Downloads/code/dajia/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useParams}from\"react-router-dom\";import{admin_sidebar,backend}from\"../api\";import{useEffect,useState}from\"react\";import{Return_component}from\"../backend_component/data_input\";import{Search_year,Search_name,Search_month,New_employee}from\"../backend_component/search_input\";import{Loading}from\"../backend_component/loading\";import{sequential_search}from\"../ algorithm/sequential_search\";import{intersection}from\"../ algorithm/intersection\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Performance_per_month=function Performance_per_month(_ref){var data=_ref.data,synchronize_update=_ref.synchronize_update,synchronize=_ref.synchronize;var _useParams=useParams(),page=_useParams.page;var _useParams2=useParams(),article_page=_useParams2.article_page;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),page_data_arr=_useState2[0],set_page_data_arr=_useState2[1];var _useState3=useState('未更改'),_useState4=_slicedToArray(_useState3,2),new_emp=_useState4[0],set_new_emp=_useState4[1];var _useState5=useState({name:'請選擇組員',year:undefined,month:undefined}),_useState6=_slicedToArray(_useState5,2),search=_useState6[0],set_search=_useState6[1];useEffect(function(){if(data.length!==0){set_page_data_arr(data);}else{set_page_data_arr([]);}},[page,article_page,data]);useEffect(function(){var result_name=[];var result_year=[];var result_month=[];console.log('search',search);if(page_data_arr!==undefined&&data){search.name!=='請選擇組員'?result_name=sequential_search(data,1,search.name):result_name=data;search.year!==undefined&&search.year.length>0?result_year=sequential_search(data,4,parseInt(search.year)):result_year=data;search.month!==undefined&&search.month.length>0?result_month=sequential_search(data,5,parseInt(search.month)):result_month=data;var result=intersection(result_month,result_name,result_year);console.log(\"data\\u9577\\u5EA6\".concat(data.length));console.log(\"\\u540D\\u5B57 \\u6536\\u5C0B\\u7D50\\u679C\".concat(result_name.length,\"\\u5247\"));console.log(\"\\u5E74\\u5EA6 \\u6536\\u5C0B\\u7D50\\u679C\".concat(result_year.length,\"\\u5247\"));console.log(\"\\u6708\\u4EFD \\u6536\\u5C0B\\u7D50\\u679C\".concat(result_month.length,\"\\u5247\"));console.log(\"\\u7E3D\\u6536\\u5C0B\\u7D50\\u679C\".concat(result.length,\"\\u5247\"));set_page_data_arr(result);}},[search,data]);function bar(){if(admin_sidebar.indexOf(page)===-1){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(New_employee,{new_emp:new_emp}),/*#__PURE__*/_jsx(Search_year,{search:search,set_search:set_search}),/*#__PURE__*/_jsx(Search_month,{search:search,set_search:set_search})]});}else{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(New_employee,{new_emp:new_emp}),/*#__PURE__*/_jsx(Search_name,{search:search,set_search:set_search}),/*#__PURE__*/_jsx(Search_year,{search:search,set_search:set_search}),/*#__PURE__*/_jsx(Search_month,{search:search,set_search:set_search})]});}}if(!page_data_arr||synchronize===true){return/*#__PURE__*/_jsx(Loading,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"search_bar\",children:/*#__PURE__*/_jsx(\"div\",{children:bar()})}),page_data_arr.length!==0?/*#__PURE__*/_jsx(Return_component,{number:1,page:page,set_new_emp:set_new_emp,synchronize_update:synchronize_update,arr_params:page_data_arr}):/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:\"\\u67E5\\u7121\\u7D50\\u679C\"})]});};export default Performance_per_month;","map":{"version":3,"sources":["/Users/admin/Downloads/code/dajia/frontend/src/page/article_page/performance_per_month.js"],"names":["useParams","admin_sidebar","backend","useEffect","useState","Return_component","Search_year","Search_name","Search_month","New_employee","Loading","sequential_search","intersection","Performance_per_month","data","synchronize_update","synchronize","page","article_page","page_data_arr","set_page_data_arr","new_emp","set_new_emp","name","year","undefined","month","search","set_search","length","result_name","result_year","result_month","console","log","parseInt","result","bar","indexOf"],"mappings":"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","sourcesContent":["import { useParams } from \"react-router-dom\";\nimport { admin_sidebar,backend } from \"../api\";\nimport { useEffect,useState } from \"react\";\nimport  {Return_component}  from \"../backend_component/data_input\";\nimport {Search_year,Search_name,Search_month,New_employee} from \"../backend_component/search_input\";\nimport { Loading } from \"../backend_component/loading\";\nimport { sequential_search } from \"../ algorithm/sequential_search\";\nimport { intersection } from \"../ algorithm/intersection\";\nconst Performance_per_month=({data,synchronize_update,synchronize})=>{\n    const {page}=useParams()\n    const {article_page}=useParams()\n\n    const [page_data_arr,set_page_data_arr]=useState([])\n    const [new_emp,set_new_emp]=useState('未更改')\n    const [search,set_search]=useState({\n        name:'請選擇組員',\n        year:undefined,\n        month:undefined,\n    })\n\n    useEffect(()=>{\n        if(data.length!==0){\n            set_page_data_arr(data)\n        }\n        else{\n            set_page_data_arr([])\n        }\n    },[page,article_page,data])\n    useEffect(()=>{\n        var result_name=[]\n        var result_year=[]\n        var result_month=[]\n        console.log('search',search)\n        if(page_data_arr!==undefined&&data){\n            search.name!=='請選擇組員'\n            ?result_name=sequential_search(data,1,search.name)\n            :result_name=data\n            search.year!==undefined && search.year.length>0\n            ?result_year=sequential_search(data,4,parseInt(search.year))\n            :result_year=data\n            search.month!==undefined && search.month.length>0\n            ?result_month=sequential_search(data,5,parseInt(search.month))\n            :result_month=data\n            \n            \n            var result=intersection(result_month,result_name,result_year)\n            console.log(`data長度${data.length}`)\n            console.log(`名字 收尋結果${result_name.length}則`)\n            console.log(`年度 收尋結果${result_year.length}則`)\n            console.log(`月份 收尋結果${result_month.length}則`)\n            console.log(`總收尋結果${result.length}則`)\n            set_page_data_arr(result)\n        }\n    },[search,data])\n\n\n    function bar(){\n        if(admin_sidebar.indexOf(page)===-1){\n            return(\n                <> \n                    <New_employee new_emp={new_emp}/>{/*自動存取的按鈕 */}\n                    <Search_year search={search} set_search={set_search}/>\n                    <Search_month search={search} set_search={set_search}/>\n                </>\n            )\n        }\n        else{\n            return(\n            <>\n                <New_employee new_emp={new_emp}/>{/*自動存取的按鈕 */}\n                <Search_name search={search} set_search={set_search}/>\n                <Search_year search={search} set_search={set_search}/>\n                <Search_month search={search} set_search={set_search}/>\n            </>\n            )\n        }\n    }\n    if(!page_data_arr||synchronize===true){\n        return(<Loading/>)\n    }\n    return(\n        <>\n        <div className=\"search_bar\">\n            <div>\n                {\n                    bar()\n                }\n            </div>\n        </div>\n        {\n            page_data_arr.length!==0\n            ?<Return_component\n            number={1}\n            page={page}\n            set_new_emp={set_new_emp}\n            synchronize_update={synchronize_update} \n            arr_params={page_data_arr} />\n            :<div className=\"container\">查無結果</div>\n        }\n        </>\n    )\n}\nexport default Performance_per_month;"]},"metadata":{},"sourceType":"module"}