{"ast":null,"code":"import _slicedToArray from\"/Users/admin/Downloads/code/dajia/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useNavigate,useParams}from\"react-router-dom\";import{admin_sidebar,backend}from\"../api\";import{useEffect,useState}from\"react\";import{Return_component}from\"../backend_component/data_input\";import{Search_year,Search_name,Search_month,New_employee}from\"../backend_component/search_input\";import{Loading}from\"../backend_component/loading\";import{sequential_search}from\"../ algorithm/sequential_search\";import{intersection}from\"../ algorithm/intersection\";import FileViewer from'react-file-viewer';import Word_preview from\"../backend_component/word_preview\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Performance_per_month=function Performance_per_month(_ref){var data=_ref.data,synchronize_update=_ref.synchronize_update,synchronize=_ref.synchronize;var _useParams=useParams(),page=_useParams.page;var navigate=useNavigate();var _useParams2=useParams(),article_page=_useParams2.article_page;var _useState=useState('none'),_useState2=_slicedToArray(_useState,2),display=_useState2[0],set_display=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),page_data_arr=_useState4[0],set_page_data_arr=_useState4[1];var _useState5=useState('未更改'),_useState6=_slicedToArray(_useState5,2),new_emp=_useState6[0],set_new_emp=_useState6[1];var _useState7=useState({name:'請選擇組員',year:undefined,month:undefined}),_useState8=_slicedToArray(_useState7,2),search=_useState8[0],set_search=_useState8[1];var permession=window.sessionStorage.getItem('permession');useEffect(function(){if(data.length!==0){set_page_data_arr(data);}else{set_page_data_arr([]);}},[page,article_page,data]);useEffect(function(){var result_name=[];var result_year=[];var result_month=[];console.log('search',search);if(page_data_arr!==undefined&&data){search.name!=='請選擇組員'?result_name=sequential_search(data,1,search.name):result_name=data;search.year!==undefined&&search.year.length>0?result_year=sequential_search(data,4,parseInt(search.year)):result_year=data;search.month!==undefined&&search.month.length>0?result_month=sequential_search(data,5,parseInt(search.month)):result_month=data;var result=intersection(result_month,result_name,result_year);console.log(\"data\\u9577\\u5EA6\".concat(data.length));console.log(\"\\u540D\\u5B57 \\u6536\\u5C0B\\u7D50\\u679C\".concat(result_name.length,\"\\u5247\"));console.log(\"\\u5E74\\u5EA6 \\u6536\\u5C0B\\u7D50\\u679C\".concat(result_year.length,\"\\u5247\"));console.log(\"\\u6708\\u4EFD \\u6536\\u5C0B\\u7D50\\u679C\".concat(result_month.length,\"\\u5247\"));console.log(\"\\u7E3D\\u6536\\u5C0B\\u7D50\\u679C\".concat(result.length,\"\\u5247\"));set_page_data_arr(result);}},[search,data]);function bar(){if(admin_sidebar.indexOf(page)===-1){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(New_employee,{new_emp:new_emp}),/*#__PURE__*/_jsx(Search_year,{search:search,set_search:set_search}),/*#__PURE__*/_jsx(Search_month,{search:search,set_search:set_search})]});}else{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(New_employee,{new_emp:new_emp}),/*#__PURE__*/_jsx(Search_name,{search:search,set_search:set_search}),/*#__PURE__*/_jsx(Search_year,{search:search,set_search:set_search}),/*#__PURE__*/_jsx(Search_month,{search:search,set_search:set_search})]});}}if(!page_data_arr||synchronize===true){return/*#__PURE__*/_jsx(Loading,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"search_bar\",children:/*#__PURE__*/_jsx(\"div\",{children:bar()})}),page_data_arr.length!==0?/*#__PURE__*/_jsx(Return_component,{number:1,page:page,set_new_emp:set_new_emp,synchronize_update:synchronize_update,arr_params:page_data_arr}):/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:\"\\u67E5\\u7121\\u7D50\\u679C\"}),/*#__PURE__*/_jsx(\"div\",{style:{overflow:'auto',width:'100%',alignItems:'center',justifyContent:'center',display:'flex'},children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate(\"/backend/wordFile/\".concat(page,\"/\").concat(search.name,\"/\").concat(search.year,\"/\").concat(search.month));},children:\"\\u9810\\u89BD\\u5217\\u5370\"})})]});};export default Performance_per_month;","map":{"version":3,"sources":["/Users/admin/Downloads/code/dajia/frontend/src/page/article_page/performance_per_month.js"],"names":["useNavigate","useParams","admin_sidebar","backend","useEffect","useState","Return_component","Search_year","Search_name","Search_month","New_employee","Loading","sequential_search","intersection","FileViewer","Word_preview","Performance_per_month","data","synchronize_update","synchronize","page","navigate","article_page","display","set_display","page_data_arr","set_page_data_arr","new_emp","set_new_emp","name","year","undefined","month","search","set_search","permession","window","sessionStorage","getItem","length","result_name","result_year","result_month","console","log","parseInt","result","bar","indexOf","overflow","width","alignItems","justifyContent"],"mappings":"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","sourcesContent":["import { useNavigate, useParams } from \"react-router-dom\";\nimport { admin_sidebar,backend } from \"../api\";\nimport { useEffect,useState } from \"react\";\nimport  {Return_component}  from \"../backend_component/data_input\";\nimport {Search_year,Search_name,Search_month,New_employee} from \"../backend_component/search_input\";\nimport { Loading } from \"../backend_component/loading\";\nimport { sequential_search } from \"../ algorithm/sequential_search\";\nimport { intersection } from \"../ algorithm/intersection\";\nimport FileViewer from 'react-file-viewer';\nimport Word_preview from \"../backend_component/word_preview\";\nconst Performance_per_month=({data,synchronize_update,synchronize})=>{\n    const {page}=useParams()\n    const navigate=useNavigate()\n    const {article_page}=useParams()\n    const [display,set_display]=useState('none')\n    const [page_data_arr,set_page_data_arr]=useState([])\n    const [new_emp,set_new_emp]=useState('未更改')\n    const [search,set_search]=useState({\n        name:'請選擇組員',\n        year:undefined,\n        month:undefined,\n    })\n    var permession=window.sessionStorage.getItem('permession')\n\n    useEffect(()=>{\n        if(data.length!==0){\n            set_page_data_arr(data)\n        }\n        else{\n            set_page_data_arr([])\n        }\n    },[page,article_page,data])\n    useEffect(()=>{\n        var result_name=[]\n        var result_year=[]\n        var result_month=[]\n        console.log('search',search)\n        if(page_data_arr!==undefined&&data){\n            search.name!=='請選擇組員'\n            ?result_name=sequential_search(data,1,search.name)\n            :result_name=data\n            search.year!==undefined && search.year.length>0\n            ?result_year=sequential_search(data,4,parseInt(search.year))\n            :result_year=data\n            search.month!==undefined && search.month.length>0\n            ?result_month=sequential_search(data,5,parseInt(search.month))\n            :result_month=data\n            \n            \n            var result=intersection(result_month,result_name,result_year)\n            console.log(`data長度${data.length}`)\n            console.log(`名字 收尋結果${result_name.length}則`)\n            console.log(`年度 收尋結果${result_year.length}則`)\n            console.log(`月份 收尋結果${result_month.length}則`)\n            console.log(`總收尋結果${result.length}則`)\n            set_page_data_arr(result)\n        }\n    },[search,data])\n\n\n    function bar(){\n        if(admin_sidebar.indexOf(page)===-1){\n            return(\n                <> \n                    <New_employee new_emp={new_emp}/>{/*自動存取的按鈕 */}\n                    <Search_year search={search} set_search={set_search}/>\n                    <Search_month search={search} set_search={set_search}/>\n                </>\n            )\n        }\n        else{\n            return(\n            <>\n                <New_employee new_emp={new_emp}/>{/*自動存取的按鈕 */}\n                <Search_name search={search} set_search={set_search}/>\n                <Search_year search={search} set_search={set_search}/>\n                <Search_month search={search} set_search={set_search}/>\n            </>\n            )\n        }\n    }\n    if(!page_data_arr||synchronize===true){\n        return(<Loading/>)\n    }\n    return(\n        <>\n        <div className=\"search_bar\">\n            <div>\n                {\n                    bar()\n                }\n            </div>\n        </div>\n\n        {\n            page_data_arr.length!==0\n            ?<Return_component\n            number={1}\n            page={page}\n            set_new_emp={set_new_emp}\n            synchronize_update={synchronize_update} \n            arr_params={page_data_arr} />\n            :<div className=\"container\">查無結果</div>\n        }\n        \n        <div style={{overflow:'auto',width:'100%',alignItems:'center',justifyContent:'center',display:'flex'}}>\n            \n                <button onClick={()=>navigate(`/backend/wordFile/${page}/${search.name}/${search.year}/${search.month}`)}>\n                    預覽列印\n                </button>\n        </div>\n        </>\n    )\n}\nexport default Performance_per_month;"]},"metadata":{},"sourceType":"module"}