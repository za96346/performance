{"ast":null,"code":"import _slicedToArray from\"/Users/admin/Downloads/code/dajia/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Article from\"./backend_component/article\";import Sidebar from\"./backend_component/sidebar\";import Title from\"./backend_component/title\";import{useEffect,useState,useCallback}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import{personal_sidebar,log_out}from\"./api\";import{useRef}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Personal=function Personal(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),synchronize=_useState2[0],synchronize_update=_useState2[1];//設定同步頁面\nvar _useParams=useParams(),page=_useParams.page;var _useParams2=useParams(),article_page=_useParams2.article_page;var navigate=useNavigate();var permession=window.sessionStorage.getItem('permession');var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],set_data=_useState4[1];var combine=personal_sidebar.concat(log_out);var identifyCallback=useCallback(function(){function identify(){if(page!=='登出'){var value;if(page===personal_sidebar[0]){set_data([]);}else if(page===personal_sidebar[1]){value=JSON.parse(window.sessionStorage.getItem('data'))[permession];set_data(value.length>0?value:[]);}else if(page===personal_sidebar[2]){value=JSON.parse(window.sessionStorage.getItem('year_performance'))[permession];set_data(value.length>0?value:[]);}}}console.log('\\n\\n\\n\\n\\n\\nchange\\n\\n\\n\\n\\n\\n\\n\\n');identify();},[synchronize,article_page,page]);useEffect(function(){identifyCallback();},[identifyCallback]);useEffect(function(){if(combine.indexOf(page)===-1){navigate('/access====>error');}else if(article_page){navigate('/access====>error');}});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"head\",children:[/*#__PURE__*/_jsx(Title,{sidebar_arr:personal_sidebar}),/*#__PURE__*/_jsx(Sidebar,{sidebar_arr:combine,style:\"lesssmall\"}),/*#__PURE__*/_jsx(Sidebar,{sidebar_arr:combine,style:\"small\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"body\",children:[/*#__PURE__*/_jsx(Sidebar,{sidebar_arr:combine,style:\"large\"}),/*#__PURE__*/_jsx(Article,{data:data,synchronize:synchronize,synchronize_update:synchronize_update})]})]});};export default Personal;","map":{"version":3,"sources":["/Users/admin/Downloads/code/dajia/frontend/src/page/personal.js"],"names":["Article","Sidebar","Title","useEffect","useState","useCallback","useNavigate","useParams","personal_sidebar","log_out","useRef","Personal","synchronize","synchronize_update","page","article_page","navigate","permession","window","sessionStorage","getItem","data","set_data","combine","concat","identifyCallback","identify","value","JSON","parse","length","console","log","indexOf"],"mappings":"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","sourcesContent":["import Article from \"./backend_component/article\";\nimport Sidebar from \"./backend_component/sidebar\";\nimport Title from \"./backend_component/title\";\nimport { useEffect,useState,useCallback } from \"react\";\nimport { useNavigate,useParams } from \"react-router-dom\";\nimport { personal_sidebar,log_out } from \"./api\";\nimport { useRef } from \"react\";\nconst Personal=()=>{\n    const [synchronize,synchronize_update]=useState(false)//設定同步頁面\n    const {page}=useParams()\n    const {article_page}=useParams()\n    const navigate=useNavigate()\n    var permession= window.sessionStorage.getItem('permession')\n    const [data,set_data]=useState([]);\n\n    const combine=personal_sidebar.concat(log_out)\n\n    const identifyCallback=useCallback(()=>{\n        function identify(){\n            if(page!=='登出'){\n                var value\n                if(page===personal_sidebar[0]){\n                    set_data([])\n                }\n                else if(page===personal_sidebar[1]){\n                    value=JSON.parse(window.sessionStorage.getItem('data'))[permession]\n                    set_data(value.length>0?value:[])\n                }\n                else if(page===personal_sidebar[2]){\n                    value=JSON.parse(window.sessionStorage.getItem('year_performance'))[permession]\n                    set_data(value.length>0?value:[])\n                }\n            }\n        }\n        console.log('\\n\\n\\n\\n\\n\\nchange\\n\\n\\n\\n\\n\\n\\n\\n')\n        identify()\n    },[synchronize,article_page,page])\n\n    useEffect(()=>{\n        identifyCallback()\n    },[identifyCallback])\n\n    useEffect(() => {\n        if(combine.indexOf(page)===-1){\n            navigate('/access====>error')\n        }else if(article_page){\n            navigate('/access====>error')\n        }\n    });\n\n    return(\n    <>\n    <div className=\"head\">\n        <Title sidebar_arr={personal_sidebar}/>\n        <Sidebar sidebar_arr={combine} style={\"lesssmall\"} />\n        <Sidebar sidebar_arr={combine} style={\"small\"} />\n    </div>\n\n    <div className=\"body\">\n        <Sidebar sidebar_arr={combine} style={\"large\"}/>\n        <Article data={data} synchronize={synchronize} synchronize_update={synchronize_update}/>\n    </div>\n    </>\n    \n    )\n}\nexport default Personal;"]},"metadata":{},"sourceType":"module"}