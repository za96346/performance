{"ast":null,"code":"import axios from \"axios\";\nimport { Route } from \"react-router-dom\";\nimport Backend from \"./backend\";\nexport const config = {\n  url: 'http://localhost:5000/'\n};\nexport function select_route(navigate) {\n  var permession = window.sessionStorage.getItem('permession');\n\n  if (permession === \"admin\") {\n    navigate('/backend/admin');\n  } else if (permession === \"manager\") {\n    navigate('/backend/manager');\n  } else {\n    navigate('/back');\n  }\n}\nexport async function login(login_data, navigate) {\n  await axios({\n    method: 'POST',\n    url: config.url,\n    data: {\n      'account': login_data.account,\n      'password': login_data.password\n    },\n    headers: {\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    var data = response.data;\n    console.log(data);\n    window.sessionStorage.setItem('token', data.token);\n    window.sessionStorage.setItem('user_name', data.user_name);\n    window.sessionStorage.setItem('banch', data.banch);\n    window.sessionStorage.setItem('permession', data.permession);\n    select_route(navigate);\n  }).catch(error => {\n    alert('帳號或密碼輸入錯誤');\n  });\n}","map":{"version":3,"sources":["/Users/admin/Downloads/code/dajia/frontend/src/page/api.js"],"names":["axios","Route","Backend","config","url","select_route","navigate","permession","window","sessionStorage","getItem","login","login_data","method","data","account","password","headers","then","response","console","log","setItem","token","user_name","banch","catch","error","alert"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAO,MAAMC,MAAM,GAAC;AAChBC,EAAAA,GAAG,EAAC;AADY,CAAb;AAGP,OAAQ,SAASC,YAAT,CAAsBC,QAAtB,EAA+B;AAEnC,MAAIC,UAAU,GAACC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,YAA9B,CAAf;;AACA,MAAGH,UAAU,KAAG,OAAhB,EAAwB;AACtBD,IAAAA,QAAQ,CAAC,gBAAD,CAAR;AACD,GAFD,MAGK,IAAGC,UAAU,KAAG,SAAhB,EAA0B;AAC3BD,IAAAA,QAAQ,CAAC,kBAAD,CAAR;AACH,GAFI,MAGD;AACAA,IAAAA,QAAQ,CAAC,OAAD,CAAR;AACH;AACF;AAGH,OAAO,eAAeK,KAAf,CAAqBC,UAArB,EAAgCN,QAAhC,EAAyC;AAC5C,QAAMN,KAAK,CAAC;AACRa,IAAAA,MAAM,EAAC,MADC;AAERT,IAAAA,GAAG,EAACD,MAAM,CAACC,GAFH;AAGRU,IAAAA,IAAI,EAAC;AACD,iBAAUF,UAAU,CAACG,OADpB;AAED,kBAAWH,UAAU,CAACI;AAFrB,KAHG;AAORC,IAAAA,OAAO,EAAC;AACJ,sBAAgB,kBADZ;AAEJ,qCAA8B;AAF1B;AAPA,GAAD,CAAL,CAWHC,IAXG,CAWGC,QAAD,IAAY;AAChB,QAAIL,IAAI,GAACK,QAAQ,CAACL,IAAlB;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAYP,IAAZ;AACAN,IAAAA,MAAM,CAACC,cAAP,CAAsBa,OAAtB,CAA8B,OAA9B,EAAsCR,IAAI,CAACS,KAA3C;AACAf,IAAAA,MAAM,CAACC,cAAP,CAAsBa,OAAtB,CAA8B,WAA9B,EAA0CR,IAAI,CAACU,SAA/C;AACAhB,IAAAA,MAAM,CAACC,cAAP,CAAsBa,OAAtB,CAA8B,OAA9B,EAAsCR,IAAI,CAACW,KAA3C;AACAjB,IAAAA,MAAM,CAACC,cAAP,CAAsBa,OAAtB,CAA8B,YAA9B,EAA2CR,IAAI,CAACP,UAAhD;AACAF,IAAAA,YAAY,CAACC,QAAD,CAAZ;AAEH,GApBK,EAoBHoB,KApBG,CAoBIC,KAAD,IAAS;AACdC,IAAAA,KAAK,CAAC,WAAD,CAAL;AAEH,GAvBK,CAAN;AAwBH","sourcesContent":["import axios from \"axios\"\nimport { Route } from \"react-router-dom\";\nimport Backend from \"./backend\";\nexport const config={\n    url:'http://localhost:5000/'\n};\nexport  function select_route(navigate){\n\n    var permession=window.sessionStorage.getItem('permession')\n    if(permession===\"admin\"){\n      navigate('/backend/admin')\n    }\n    else if(permession===\"manager\"){\n        navigate('/backend/manager')\n    }\n    else{\n        navigate('/back')\n    }\n  }\n\n\nexport async function login(login_data,navigate){\n    await axios({\n        method:'POST',\n        url:config.url,\n        data:{\n            'account':login_data.account,\n            'password':login_data.password\n        },\n        headers:{\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin':'*'\n        }\n    }).then((response)=>{\n        var data=response.data\n        console.log(data)\n        window.sessionStorage.setItem('token',data.token)\n        window.sessionStorage.setItem('user_name',data.user_name)\n        window.sessionStorage.setItem('banch',data.banch)\n        window.sessionStorage.setItem('permession',data.permession)\n        select_route(navigate)\n\n    }).catch((error)=>{\n        alert('帳號或密碼輸入錯誤')\n        \n    })\n}"]},"metadata":{},"sourceType":"module"}