{"ast":null,"code":"import _toConsumableArray from\"/Users/admin/Downloads/code/dajia/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/admin/Downloads/code/dajia/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{bubble_sorting}from\"../ algorithm/bubble_sorting\";import{fixed_title,fixed_title_emp,group_change,position_arr,select_all_banch}from\"../api\";import{rule_num_letter,rule_num,search,obj_to_arr,update,check_and_recatch_data}from\"../method/method_func\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function Return_component(props){var page_data_arr=props.page_data_arr,set_page_data_arr=props.set_page_data_arr,number=props.number,page=props.page,arr_params=props.arr_params,set_new_emp=props.set_new_emp,synchronize_update=props.synchronize_update,set_confirm_data=props.set_confirm_data,confirm_data=props.confirm_data;var itemSize=30;var bufferSize=20;var screenHeight=0;number===5?screenHeight=200:screenHeight=500;var visibleCount=screenHeight/itemSize;var fixed_title_size=40;var ele=useRef(null);var arr=arr_params;var _useParams=useParams(),article_page=_useParams.article_page;var arrHeight=itemSize*arr.length;var _useState=useState(),_useState2=_slicedToArray(_useState,2),now_item=_useState2[0],set_now_item=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),startIndex=_useState4[0],setStartIndex=_useState4[1];var _useState5=useState(visibleCount),_useState6=_slicedToArray(_useState5,2),endIndex=_useState6[0],setEndIndex=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),offset=_useState8[0],setoffset=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),itemOffset=_useState10[0],setItemoffset=_useState10[1];useEffect(function(){setoffset(startIndex*30);},[startIndex]);useEffect(function(){setStartIndex(0);setEndIndex(Math.min(visibleCount+bufferSize,arr.length));},[arr,page]);function onScroll(e){var Top=ele.current.scrollTop;var startidx=Math.floor(Top/itemSize);var endidx=startidx+visibleCount;var startoffset=Top-Top%itemSize;console.log(startIndex,endIndex,offset);var originStartIdx=startidx;setStartIndex(Math.max(originStartIdx-bufferSize,0));setEndIndex(Math.min(originStartIdx+visibleCount+bufferSize,arr.length));console.log(arr.length);};function render_display(startidx,endidx,now_item,itemOffset){var content=[];for(var i=startidx;i<=endidx;++i){var Height='';var Zindex=0;var Bgcolor='';var Boxshadow='';var Color='';var Top=i*itemSize+fixed_title_size+'px';if(now_item===i){Height=itemOffset+'px';Zindex=15;Bgcolor='rgb(255,255,255)';Boxshadow='2px 2px 10px rgb(112,128,144)';Color='rgb(0,0,0)';}else{Height=itemSize+'px';Zindex='';Bgcolor='';Boxshadow='';Color='';}if(i>now_item){Top=itemOffset+i*itemSize+fixed_title_size+'px';}content.push({index:i,Style:{transition:'all 0.2s linear',boxShadow:Boxshadow,height:Height,backgroundColor:Bgcolor,zIndex:Zindex,color:Color,position:\"absolute\",left:0,right:0,top:Top}});}return content;}return/*#__PURE__*/_jsx(\"div\",{ref:ele,onScroll:onScroll,style:arr&&arrHeight>screenHeight||arr&&arr.length===0?{height:\"\".concat(screenHeight,\"px\")}:{height:\"\".concat(screenHeight,\"px\")},className:\"all_employee\",children:/*#__PURE__*/_jsxs(\"div\",{style:article_page!=='每月考核績效'&&page!=='每月考核績效'?{height:\"\".concat(arrHeight+itemOffset+fixed_title_size,\"px\"),width:'100%'}:{height:\"\".concat(arrHeight+itemOffset+fixed_title_size,\"px\"),width:'900px'},className:\"employee\",children:[/*#__PURE__*/_jsx(Fixed_title,{page_data_arr:page_data_arr,set_page_data_arr:set_page_data_arr,component_state:number}),/*#__PURE__*/_jsx(\"div\",{className:\"employee_container\",children:arr instanceof Array&&arr.length>0?arr.slice(startIndex,endIndex).map(function(item,index){var style_content=render_display(startIndex,endIndex,now_item,itemOffset);var style_arr=style_content[index];return/*#__PURE__*/_jsx(Id_name,{confirm_data:confirm_data,set_confirm_data:set_confirm_data,synchronize_update:synchronize_update//同步狀態更新\n,page_data_arr:page_data_arr,set_new_emp:set_new_emp,setItemoffset:setItemoffset,item_index:style_arr.index,style:style_arr.Style,set_page_data_arr:set_page_data_arr,set:set_now_item,component_state:number,item:item},style_arr.index);}):/*#__PURE__*/_jsx(_Fragment,{})})]})});}export function Id_name(props){var page_data_arr=props.page_data_arr,set_page_data_arr=props.set_page_data_arr,set=props.set,item=props.item,component_state=props.component_state,style=props.style,set_new_emp=props.set_new_emp,item_index=props.item_index,setItemoffset=props.setItemoffset,synchronize_update=props.synchronize_update,set_confirm_data=props.set_confirm_data,confirm_data=props.confirm_data;var rowitem_ref=useRef(0);var textarea1_ref=useRef(null);var textarea2_ref=useRef(null);var timeout=useRef(null);var composition=useRef(false);var reCatchData=useRef(false);var token=window.sessionStorage.getItem('token');var _useParams2=useParams(),page=_useParams2.page;var _useParams3=useParams(),article_page=_useParams3.article_page;var data=JSON.parse(window.sessionStorage.getItem('banch_index'));var permession=window.sessionStorage.getItem('permession');var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),toggle=_useState12[0],set_toggle=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),bg=_useState14[0],set_bg=_useState14[1];var value=useRef({});var navigate=useNavigate();useEffect(function(){if(component_state===1){//每月考核績效\nvalue.current={id:item[0]||'',name:item[1]||'',goal:item[2]||'',account:item[3],year:parseInt(item[4])||0,month:parseInt(item[5])||0,attitude:parseInt(item[6])||0,efficient:parseInt(item[7])||0,professional:parseInt(item[8])||0,award:(item[6]+item[7]+item[8])*100||0,describes:item[9]||'',be_late:parseInt(item[10])||0,day_off_not_on_rule:parseInt(item[11])||0};}else if(component_state===4){//console.log(`item:[${item}]    item_index:${item_index}`)\n//各組首頁\nvalue.current={account:item[0]==='+'?'':item[0]||'',password:item[1]||'',name:item[2]||'',group:item[3]||'',id:item[4]||'',onWorkDay:item[5]||'',position:item[6]||'',workState:item[7]==='on'?'on':'off'};}},[item,component_state]);useEffect(function(){item[7]==='on'?set_toggle({marginLeft:'20px'}):set_toggle({marginRight:'20px'});item[7]==='on'?set_bg({backgroundColor:'rgb(136,255,136)'}):set_bg({backgroundColor:''});},[value.current.workState,item]);function autoSave(e){var values=e.target.value;var name=e.target.name;clearTimeout(timeout.current);set_new_emp('更改中');if(component_state===1&&!composition.current){if(name==='goal'){value.current.goal=values;}else if(name==='attitude'){value.current.attitude=rule_num(e,10);}else if(name==='efficient'){value.current.efficient=rule_num(e,10);}else if(name==='professional'){value.current.professional=rule_num(e,10);}else if(name==='describes'){value.current.describes=values;}else if(name==='be_late'){value.current.be_late=rule_num(e,100);}else if(name==='day_off_not_on_rule'){value.current.day_off_not_on_rule=rule_num(e,100);}//每次去計算 award 績效獎金\nvalue.current.award=(value.current.attitude+value.current.efficient+value.current.professional)*100;timeout.current=setTimeout(function(){set_new_emp('存取中...');update(obj_to_arr(value.current),set_new_emp);},500);}else if(component_state===4&&!composition.current){if(name==='id'){value.current.id=rule_num_letter(e);reCatchData.current=true;}else if(name==='name'){value.current.name=values;reCatchData.current=true;}else if(name==='group'){value.current.group=values;reCatchData.current=true;}else if(name==='account'){var return_status=window.confirm(\"\\u78BA\\u5B9A\\u5E33\\u865F\\u70BA'\".concat(values,\"'?\\n\\u78BA\\u8A8D\\u5F8C\\u7121\\u6CD5\\u66F4\\u6539\"));if(return_status===true){value.current.account=rule_num_letter(e);reCatchData.current=true;}else{return;}}else if(name==='password'){value.current.password=rule_num_letter(e);}else if(name==='onWorkDay'){value.current.onWorkDay=rule_num(e,10000);}else if(name==='position'){value.current.position=values;reCatchData.current=true;}else if(name==='workState'){value.current.workState==='on'?value.current.workState='off':value.current.workState='on';reCatchData.current=true;}timeout.current=setTimeout(function(){set_new_emp('存取中...');console.log('useeffect',value.current);var list=search(page_data_arr,item_index,obj_to_arr(value.current),reCatchData.current,synchronize_update);data[page]=list;window.sessionStorage.setItem('banch_index',JSON.stringify(data));var new_data=JSON.parse(window.sessionStorage.getItem('banch_index'))[page];set_page_data_arr([].concat(_toConsumableArray(new_data),[['+']]));setTimeout(function(){set_new_emp('已儲存變更');},500);},500);}}function get_scrollHeight(e){set(item_index);if(textarea1_ref.current.value.length>textarea2_ref.current.value.length){if(textarea1_ref.current.scrollHeight){setTimeout(function(){setItemoffset(textarea1_ref.current.scrollHeight);},10);}}else{if(textarea2_ref.current.scrollHeight){setTimeout(function(){setItemoffset(textarea2_ref.current.scrollHeight);},10);}}}function get_clientHeight(){set(item_index);//console.log('rowitem_ref.current',rowitem_ref.current)\nsetItemoffset(rowitem_ref.current.clientHeight!==null&&rowitem_ref!==null?rowitem_ref.current.clientHeight:0);}function composition_method(e){var isChrome=!!window.chrome&&!!window.chrome.webstore;console.log('e.target.value',e.target.value);if(e.type==='compositionstart'){composition.current=true;console.log('e.type:',e.type);console.log('composition:',composition);}else if(e.type==='compositionend'){composition.current=false;console.log('e.type:',e.type);console.log('composition:',composition);autoSave(e);if(!composition&&isChrome){// fire onChange\n}}}function change_confirm_data(e){//新增年度\nvar values=e.target.value;var name=e.target.name;var arr=confirm_data.map(function(item){if(item[0]===name){return[item[0],item[1],values];}return item;});set_confirm_data(arr);}if(component_state===1){var readOnly=page==='每月考核績效'?true:false;return/*#__PURE__*/_jsxs(\"div\",{className:\"row_container\",onClick:get_scrollHeight,style:style,children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'2vw'},readOnly:true,children:value.current.id}),/*#__PURE__*/_jsx(\"div\",{style:{width:'5vw',overflow:'hidden',height:style.height},children:value.current.name}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"textarea\",{ref:textarea1_ref,name:\"goal\",defaultValue:value.current.goal,onInput:function onInput(e){autoSave(e);get_scrollHeight(e);},style:{width:'30vw',height:style.height}})}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},defaultValue:value.current.year,readOnly:true}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},defaultValue:value.current.month,readOnly:true}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},name:\"attitude\",onInput:function onInput(e){return autoSave(e);},defaultValue:value.current.attitude,type:\"text\",readOnly:readOnly}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},name:\"efficient\",onInput:function onInput(e){return autoSave(e);},defaultValue:value.current.efficient,type:\"text\",readOnly:readOnly}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},name:\"professional\",onInput:function onInput(e){return autoSave(e);},defaultValue:value.current.professional,type:\"text\",readOnly:readOnly}),/*#__PURE__*/_jsx(\"input\",{style:{width:'4vw',display:permession!=='admin'?'none':'block'},name:\"award\",onInput:function onInput(e){return autoSave(e);},defaultValue:value.current.award,type:\"text\",readOnly:true}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"textarea\",{ref:textarea2_ref,name:\"describes\",defaultValue:value.current.describes,onInput:function onInput(e){autoSave(e);get_scrollHeight(e);},style:{width:'20vw',height:style.height},readOnly:readOnly})}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},name:\"be_late\",onInput:function onInput(e){return autoSave(e);},defaultValue:value.current.be_late,type:\"text\",readOnly:readOnly}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},name:\"day_off_not_on_rule\",onInput:function onInput(e){return autoSave(e);},defaultValue:value.current.day_off_not_on_rule,type:\"text\",readOnly:readOnly})]});}else if(component_state===2){return/*#__PURE__*/_jsxs(\"div\",{onDoubleClick:function onDoubleClick(){article_page==='年度考核分數'?navigate(\"/backend/\".concat(permession,\"/\").concat(page,\"/\\u6BCF\\u6708\\u8003\\u6838\\u7E3E\\u6548\"),{state:{name:item[1],year:''+item[3]}}):navigate(\"/backend/\".concat(permession,\"/\\u6BCF\\u6708\\u8003\\u6838\\u7E3E\\u6548\"),{state:{name:item[1],year:''+item[3]}});},ref:rowitem_ref,className:\"row_container2\",onClick:get_clientHeight,style:style,children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'2vw'},children:/*#__PURE__*/_jsx(\"div\",{children:item[0]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'5vw',overflow:'hidden',height:style.height},children:item[1]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'2vw'},children:item[3]}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'2vw'},children:[item[4],\" \"]})]});}else if(component_state===3){return/*#__PURE__*/_jsxs(\"div\",{onDoubleClick:function onDoubleClick(){return navigate(\"/backend/\".concat(permession,\"/\").concat(page,\"/\\u6BCF\\u6708\\u8003\\u6838\\u7E3E\\u6548\"),{state:{name:item[1],year:undefined}});},ref:rowitem_ref,className:\"row_container2\",onClick:get_clientHeight,style:style,children:[/*#__PURE__*/_jsx(\"input\",{style:{width:'10vw'},placeholder:item[0],type:\"text\"}),/*#__PURE__*/_jsx(\"input\",{style:{width:'10vw',overflow:'hidden',height:style.height},placeholder:item[1],type:\"text\"})]});}else if(component_state===4){if(item[0]==='+'){return/*#__PURE__*/_jsx(\"div\",{ref:rowitem_ref,className:\"row_container\",onClick:function onClick(){var page_data=page_data_arr.slice(0,page_data_arr.length-1);set_page_data_arr([].concat(_toConsumableArray(page_data),[['','','',page,'','',position_arr[0],'on'],['+']]));get_clientHeight();},style:style,children:item});}else{return/*#__PURE__*/_jsxs(\"div\",{onDoubleClick:function onDoubleClick(){return navigate(\"/backend/\".concat(permession,\"/\").concat(page,\"/\\u6BCF\\u6708\\u8003\\u6838\\u7E3E\\u6548\"),{state:{name:value.current.name,year:undefined}});},ref:rowitem_ref,className:\"row_container\",onClick:function onClick(){get_clientHeight();},style:style,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},onInput:autoSave,name:'id',defaultValue:value.current.id,type:\"text\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{onCompositionEnd:function onCompositionEnd(e){composition_method(e);},onCompositionStart:function onCompositionStart(e){return composition_method(e);},style:{width:'10vw',overflow:'hidden',height:style.height},onInput:autoSave,name:'name',defaultValue:value.current.name,type:\"text\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"select\",{style:{width:'3vw'},onInput:autoSave,name:'group',value:value.current.group,type:\"text\",readOnly:page==='離職員工'?false:true,children:JSON.parse(window.sessionStorage.getItem('all_banch')).map(function(item,index){return/*#__PURE__*/_jsx(\"option\",{children:item},index);})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{disabled:value.current.account!==''?true:false,style:{width:'10vw'},onInput:autoSave,onBlur:function onBlur(e){composition.current=false;autoSave(e);},onFocus:function onFocus(){composition.current=true;},onKeyDown:function onKeyDown(e){if(e.key==='Enter'||e.key==='enter'){composition.current=false;autoSave(e);}},name:'account',defaultValue:value.current.account,type:\"text\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{style:{width:'10vw'},onInput:autoSave,name:'password',defaultValue:value.current.password,type:\"text\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},onInput:autoSave,name:'onWorkDay',defaultValue:value.current.onWorkDay,type:\"text\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"select\",{style:{width:'10vw'},value:value.current.position,onInput:autoSave,name:'position',children:position_arr.map(function(items,index){return/*#__PURE__*/_jsx(\"option\",{children:items},index);})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{onInput:autoSave,name:'workState',type:\"checkbox\",className:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"btn-box\",style:bg,children:/*#__PURE__*/_jsx(\"span\",{className:\"btn\",style:toggle})})]})})]});}}else if(component_state===5){return/*#__PURE__*/_jsxs(\"div\",{ref:rowitem_ref,className:\"row_container2\",onClick:get_clientHeight,style:style,children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'10%'},children:item[4]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'10%'},children:item[2]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'10%'},children:/*#__PURE__*/_jsx(\"input\",{onChange:change_confirm_data,name:item[0],value:'yes',type:\"radio\",defaultChecked:true})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'10%'},children:/*#__PURE__*/_jsx(\"input\",{onChange:change_confirm_data,name:item[0],value:'no',type:\"radio\"})})]});}}export function Fixed_title(_ref){var component_state=_ref.component_state,page_data_arr=_ref.page_data_arr,set_page_data_arr=_ref.set_page_data_arr;function sort_fun(tar_position,step){//console.log('page_data_arr',page_data_arr)\nvar arr;arr=bubble_sorting(page_data_arr,tar_position,step);set_page_data_arr(arr);}if(component_state===1){var permession=window.sessionStorage.getItem('permession');return/*#__PURE__*/_jsxs(\"div\",{className:'row_container',id:'fixed_title',children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return sort_fun(0,0);},style:{width:'2vw'},children:fixed_title[0]}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return sort_fun(1,0);},style:{width:'5vw'},children:fixed_title[1]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'30vw',overflow:'hidden'},children:fixed_title[2]}),/*#__PURE__*/_jsx(\"input\",{onClick:function onClick(){return sort_fun(4,0);},style:{width:'2vw'},readOnly:true,defaultValue:fixed_title[3],type:\"text\"}),/*#__PURE__*/_jsx(\"input\",{onClick:function onClick(){return sort_fun(5,0);},style:{width:'2vw'},readOnly:true,defaultValue:fixed_title[4],type:\"text\"}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},disabled:true,defaultValue:fixed_title[5],type:\"text\"}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},disabled:true,defaultValue:fixed_title[6],type:\"text\"}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},disabled:true,defaultValue:fixed_title[7],type:\"text\"}),/*#__PURE__*/_jsx(\"input\",{style:{width:'4vw',display:permession!=='admin'?'none':'block'},disabled:true,defaultValue:fixed_title[8],type:\"text\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:'20vw'},children:fixed_title[9]}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},disabled:true,defaultValue:fixed_title[10],type:\"text\"}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},disabled:true,defaultValue:fixed_title[11],type:\"text\"})]});}else if(component_state===2){return/*#__PURE__*/_jsxs(\"div\",{className:'row_container2',id:'fixed_title',children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return sort_fun(0,0);},style:{width:'2vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title[0]})}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return sort_fun(1,0);},style:{width:'5vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title[1]})}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return sort_fun(3,0);},style:{width:'2vw'},children:fixed_title[3]}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return sort_fun(4,0);},style:{width:'2vw'},children:fixed_title[12]})]});}else if(component_state===3){return/*#__PURE__*/_jsxs(\"div\",{className:'row_container2',id:'fixed_title',children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return sort_fun(0,0);},style:{width:'10vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title[0]})}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return sort_fun(1,0);},style:{width:'10vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title[1]})})]});}else if(component_state===4){return/*#__PURE__*/_jsxs(\"div\",{className:'row_container',id:'fixed_title',children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return sort_fun(4,1);},style:{width:'2vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title_emp[0]})}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return sort_fun(2,1);},style:{width:'10vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title_emp[1]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'3vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title_emp[2]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'10vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title_emp[3]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'10vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title_emp[4]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'2vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title_emp[5]})}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return sort_fun(6,1);},style:{width:'10vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title_emp[6]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'3vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title_emp[7]})})]});}else if(component_state===5){return/*#__PURE__*/_jsxs(\"div\",{className:'row_container2',id:'fixed_title',children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return sort_fun(0,0);},style:{width:'10%'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title_emp[0]})}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return sort_fun(1,0);},style:{width:'10%'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title_emp[1]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'10%'},children:\"\\u65B0\\u589E\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:'10%'},children:\"\\u4E0D\\u65B0\\u589E\"})]});}};","map":{"version":3,"sources":["/Users/admin/Downloads/code/dajia/frontend/src/page/backend_component/data_input.js"],"names":["React","useEffect","useRef","useState","useParams","useNavigate","bubble_sorting","fixed_title","fixed_title_emp","group_change","position_arr","select_all_banch","rule_num_letter","rule_num","search","obj_to_arr","update","check_and_recatch_data","Return_component","props","page_data_arr","set_page_data_arr","number","page","arr_params","set_new_emp","synchronize_update","set_confirm_data","confirm_data","itemSize","bufferSize","screenHeight","visibleCount","fixed_title_size","ele","arr","article_page","arrHeight","length","now_item","set_now_item","startIndex","setStartIndex","endIndex","setEndIndex","offset","setoffset","itemOffset","setItemoffset","Math","min","onScroll","e","Top","current","scrollTop","startidx","floor","endidx","startoffset","console","log","originStartIdx","max","render_display","content","i","Height","Zindex","Bgcolor","Boxshadow","Color","push","index","Style","transition","boxShadow","height","backgroundColor","zIndex","color","position","left","right","top","width","Array","slice","map","item","style_content","style_arr","Id_name","set","component_state","style","item_index","rowitem_ref","textarea1_ref","textarea2_ref","timeout","composition","reCatchData","token","window","sessionStorage","getItem","data","JSON","parse","permession","toggle","set_toggle","bg","set_bg","value","navigate","id","name","goal","account","year","parseInt","month","attitude","efficient","professional","award","describes","be_late","day_off_not_on_rule","password","group","onWorkDay","workState","marginLeft","marginRight","autoSave","values","target","clearTimeout","setTimeout","return_status","confirm","list","setItem","stringify","new_data","get_scrollHeight","scrollHeight","get_clientHeight","clientHeight","composition_method","isChrome","chrome","webstore","type","change_confirm_data","readOnly","overflow","display","state","undefined","page_data","key","items","Fixed_title","sort_fun","tar_position","step"],"mappings":"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","sourcesContent":["import React, { useEffect,useRef,useState} from \"react\"\nimport {  useParams,useNavigate } from \"react-router-dom\"\nimport { bubble_sorting } from \"../ algorithm/bubble_sorting\"\nimport { fixed_title,fixed_title_emp,group_change,position_arr, select_all_banch } from \"../api\"\nimport { rule_num_letter,rule_num,search,obj_to_arr, update, check_and_recatch_data } from \"../method/method_func\"\n\n\n\nexport function Return_component(props){\n    var {page_data_arr\n        ,set_page_data_arr\n        ,number,page\n        ,arr_params\n        ,set_new_emp\n        ,synchronize_update\n        ,set_confirm_data\n        ,confirm_data\n    }=props\n\n    const itemSize=30\n    const bufferSize=20\n    var screenHeight=0\n    number===5\n    ?screenHeight=200\n    :screenHeight=500\n    const visibleCount=screenHeight/itemSize\n    const fixed_title_size=40\n   \n    const ele=useRef(null)\n\n    const arr=arr_params\n    const {article_page}=useParams()\n\n\n    const arrHeight=itemSize*arr.length\n\n    const [now_item,set_now_item]=useState()\n\n\n    const [startIndex,setStartIndex]=useState(0)\n    const [endIndex,setEndIndex]=useState(visibleCount)\n    const [offset,setoffset]=useState(0)\n\n    const [itemOffset,setItemoffset]=useState(0)\n\n    useEffect(()=>{\n       \n        setoffset(startIndex*30)\n    },[startIndex])\n    useEffect(()=>{\n        setStartIndex(0)\n        setEndIndex(Math.min(\n            visibleCount + bufferSize,\n            arr.length\n        ))\n    },[arr,page])\n    function onScroll(e){\n        var Top=ele.current.scrollTop\n        var startidx=Math.floor(Top/itemSize)\n        var endidx=startidx+visibleCount\n        var startoffset=Top - (Top % itemSize);\n        \n        console.log(startIndex,endIndex,offset)\n\n        let originStartIdx=startidx\n        \n        setStartIndex(Math.max(originStartIdx - bufferSize, 0))\n        setEndIndex(Math.min(\n            originStartIdx + visibleCount + bufferSize,\n            arr.length\n        ))\n        console.log(arr.length)\n\n    };  \n\n    function render_display(startidx,endidx,now_item,itemOffset){\n        const content = [];\n        for(let i=startidx;i<=endidx;++i){\n            var Height=''\n            var Zindex=0\n            var Bgcolor=''\n            var Boxshadow=''\n            var Color=''\n            var Top=i * itemSize+fixed_title_size+'px'\n            if(now_item===i){\n    \n                Height=itemOffset+'px'\n                Zindex=15\n                Bgcolor='rgb(255,255,255)'\n                Boxshadow='2px 2px 10px rgb(112,128,144)'\n                Color='rgb(0,0,0)'\n            }\n            else{\n                Height=itemSize+'px'\n                Zindex=''\n                Bgcolor=''\n                Boxshadow=''\n                Color=''\n            }\n            if(i>now_item){\n            \n                Top=itemOffset+i * itemSize+fixed_title_size+'px'\n            }\n        \n            content.push({\n                index:i,\n                Style:\n                {\n                    transition: 'all 0.2s linear',\n                    boxShadow:Boxshadow,\n                    height:Height,\n                    backgroundColor:Bgcolor,\n                    zIndex:Zindex,\n                    color:Color,\n                \n\n                    position: \"absolute\",\n                    \n                    left: 0,\n                    right: 0,\n                    top: Top\n                }\n            })\n        }\n        return content\n    }\n    return(                \n        <div  \n            ref={ele} \n            onScroll={onScroll} \n            style={(arr&&arrHeight>screenHeight)||(arr&&arr.length===0)\n                    ?{height:`${screenHeight}px`}\n                    :{height:`${screenHeight}px`}}\n            className=\"all_employee\">\n        <div \n            style={article_page!=='每月考核績效'&&page!=='每月考核績效'\n                    ?{height:`${arrHeight+itemOffset+fixed_title_size}px`,width:'100%'}\n                    :{height:`${arrHeight+itemOffset+fixed_title_size}px`,width:'900px'}}\n            className=\"employee\">\n            <Fixed_title page_data_arr={page_data_arr} set_page_data_arr={set_page_data_arr} component_state={number}/>\n            <div className=\"employee_container\">\n                {\n                    arr instanceof Array && arr.length>0\n                    ? arr.slice(startIndex,endIndex).map((item,index)=>{\n                        var style_content=render_display(startIndex,endIndex,now_item,itemOffset)\n                        var style_arr=style_content[index]\n                        return(\n                            <Id_name \n                            confirm_data={confirm_data}\n                            set_confirm_data={set_confirm_data}\n                            synchronize_update={synchronize_update}//同步狀態更新\n                            page_data_arr={page_data_arr}\n                                set_new_emp={set_new_emp}\n                                setItemoffset={setItemoffset}\n                                item_index={style_arr.index}\n                                style={style_arr.Style}\n                                set_page_data_arr={set_page_data_arr}\n                                set={set_now_item}\n                                component_state={number}\n                                key={style_arr.index}\n                                item={item} />\n                            )\n                    })\n                    :<></>\n                }\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport function Id_name(props){\n    \n    var {page_data_arr//所有的資料  UseState state\n        ,set_page_data_arr//設定所有的資料 UseState set_state\n        ,set//設定目前onclick的元件編號item_index UseState set_state\n        ,item//每個元件中所需的資料['','','','','','','','','','']\n        ,component_state//返回對應元件的號碼 的元件種類\n        ,style//各個元件的樣式\n        ,set_new_emp//設定按鈕的字 UseState set_state ex:=>未更改 更改中 已儲存變更\n        ,item_index//每個元件的編號 獨一無二\n        ,setItemoffset//設定獲取clientHight後 所有元件對應增加的偏移量px UseState set_state\n        ,synchronize_update//設定同步畫面的出現與否 UseState set_state =>true or false\n        ,set_confirm_data\n        ,confirm_data\n    }=props\n\n    var rowitem_ref=useRef(0)\n    var textarea1_ref=useRef(null)\n    var textarea2_ref=useRef(null)\n\n    var timeout=useRef(null)\n    var composition=useRef(false)\n    var reCatchData=useRef(false)\n\n\n    var token=window.sessionStorage.getItem('token')\n    const {page}=useParams()\n    const {article_page}=useParams()\n\n    var data=JSON.parse(window.sessionStorage.getItem('banch_index'))\n    var permession=window.sessionStorage.getItem('permession')\n    \n    const [toggle,set_toggle]=useState()\n    const [bg,set_bg]=useState()\n    const value=useRef({})\n    const navigate=useNavigate()\n\n\n    useEffect(()=>{\n        \n        if(component_state===1){\n            //每月考核績效\n\n            value.current={\n                id:item[0]||'',\n                name:item[1]||'',\n                goal:item[2]||'',\n                account:item[3],\n                year:parseInt(item[4])||0,\n                month:parseInt(item[5])||0,\n                attitude:parseInt(item[6])||0,\n                efficient:parseInt(item[7])||0,\n                professional:parseInt(item[8])||0,\n                award:(item[6]+item[7]+item[8])*100||0,\n                describes:item[9]||'',\n                be_late:parseInt(item[10])||0,\n                day_off_not_on_rule:parseInt(item[11])||0\n            }\n        }\n        else if(component_state===4){\n            //console.log(`item:[${item}]    item_index:${item_index}`)\n            //各組首頁\n            value.current={\n                account:item[0]==='+'?'':item[0]||'',\n                password:item[1]||'',\n                name:item[2]||'',\n                group:item[3]||'',\n                id:item[4]||'',\n                onWorkDay:item[5]||'',\n                position:item[6]||'',\n                workState:item[7]==='on'?'on':'off'\n            }\n        }\n    },[item,component_state])\n    useEffect(()=>{\n        item[7]==='on'?set_toggle({marginLeft:'20px'}):set_toggle({marginRight:'20px'})\n        item[7]==='on'?set_bg({backgroundColor:'rgb(136,255,136)'}):set_bg({backgroundColor:''})\n    },[value.current.workState,item])\n\n    function autoSave(e){\n        var values =e.target.value\n        var name=e.target.name\n        clearTimeout(timeout.current)\n        set_new_emp('更改中')\n        if(component_state===1&&!composition.current){\n            \n            if(name==='goal'){\n                \n                value.current.goal=values\n            }\n            else if(name==='attitude'){\n                value.current.attitude=rule_num(e,10)\n            }\n            else if(name==='efficient'){\n                value.current.efficient=rule_num(e,10)\n            }\n            else if(name==='professional'){\n                value.current.professional=rule_num(e,10)\n            }\n            else if(name==='describes'){\n                value.current.describes=values\n            }\n            else if(name==='be_late'){\n                value.current.be_late=rule_num(e,100)\n            }\n            else if(name==='day_off_not_on_rule'){\n                value.current.day_off_not_on_rule=rule_num(e,100)\n            }\n            //每次去計算 award 績效獎金\n            value.current.award=(value.current.attitude+value.current.efficient+value.current.professional)*100\n            \n            timeout.current=setTimeout(() => {\n                set_new_emp('存取中...')\n                update(obj_to_arr(value.current),set_new_emp)    \n\n            }, 500);\n        }\n        else if(component_state===4 && !composition.current){\n            if(name==='id'){\n                value.current.id=rule_num_letter(e)\n                reCatchData.current=true\n                \n            }\n            else if(name==='name'){\n                value.current.name=values\n                reCatchData.current=true\n            }\n            else if(name==='group'){\n                value.current.group=values\n                reCatchData.current=true\n            }\n            else if(name==='account'){\n                var return_status=window.confirm(`確定帳號為'${values}'?\\n確認後無法更改`)\n                if(return_status===true){\n                    value.current.account=rule_num_letter(e)\n                    reCatchData.current=true\n                }\n                else{\n                    return\n                }\n            }\n            else if(name==='password'){\n                \n                value.current.password=rule_num_letter(e)\n            }\n            else if(name==='onWorkDay'){\n                value.current.onWorkDay=rule_num(e,10000)\n            }\n            else if(name==='position'){\n                value.current.position=values\n                reCatchData.current=true\n            }\n            else if(name==='workState'){\n                value.current.workState==='on'?value.current.workState='off':value.current.workState='on'\n                reCatchData.current=true\n            }\n        timeout.current= setTimeout(() => {\n            set_new_emp('存取中...')\n            console.log('useeffect',value.current)\n            var list=search(page_data_arr,item_index,obj_to_arr(value.current),reCatchData.current,synchronize_update)\n            data[page]=list\n            \n            window.sessionStorage.setItem('banch_index',JSON.stringify(data))\n            var new_data=JSON.parse(window.sessionStorage.getItem('banch_index'))[page]\n            set_page_data_arr([...new_data,['+']])\n\n            setTimeout(()=>{\n                set_new_emp('已儲存變更')\n            },500)\n        }, 500)\n        }\n    }\n    function get_scrollHeight(e){\n        set(item_index)\n\n        if(textarea1_ref.current.value.length>textarea2_ref.current.value.length){\n            if(textarea1_ref.current.scrollHeight){\n                setTimeout(() => {\n                    setItemoffset(textarea1_ref.current.scrollHeight)\n                },10);\n            }\n        }\n        else{\n            if(textarea2_ref.current.scrollHeight){\n                setTimeout(() => {\n                    setItemoffset(textarea2_ref.current.scrollHeight)\n                },10);\n            }\n        }\n    }\n    function get_clientHeight(){\n        set(item_index)\n        //console.log('rowitem_ref.current',rowitem_ref.current)\n        setItemoffset(rowitem_ref.current.clientHeight!==null&&rowitem_ref!==null?rowitem_ref.current.clientHeight:0)\n    }\n\n    function composition_method(e){\n        const isChrome = !!window.chrome && !!window.chrome.webstore\n        \n        console.log('e.target.value',e.target.value)\n        if(e.type==='compositionstart'){\n            composition.current=true\n            console.log('e.type:',e.type)\n            console.log('composition:',composition)\n        }\n        \n        else if(e.type==='compositionend'){\n            composition.current=false\n            console.log('e.type:',e.type)\n            console.log('composition:',composition)\n            autoSave(e)\n            if (!composition && isChrome) {\n                // fire onChange\n            }\n        }\n    }\n    function change_confirm_data(e){\n        //新增年度\n        var values=e.target.value\n        var name=e.target.name\n        var arr =confirm_data.map((item)=>{\n            if(item[0]===name){\n                return[item[0],item[1],values]\n            }\n            return item\n        })\n        set_confirm_data(arr)\n    }\n\n\n    if(component_state===1){\n        var readOnly=page==='每月考核績效'?true:false\n        \n        return(\n            <div \n                className=\"row_container\" \n                onClick={get_scrollHeight}\n                style={style}>\n                <div style={{width:'2vw'}} readOnly>{value.current.id}</div>\n                <div style={{width:'5vw',overflow:'hidden',height:style.height}}>{value.current.name}</div>\n                <div><textarea  ref={textarea1_ref}\n                        name='goal'\n                        defaultValue={value.current.goal}\n                        onInput={(e)=>{\n                            autoSave(e)\n                            get_scrollHeight(e)}}\n                        style={{width:'30vw',height:style.height}}></textarea></div>\n                <input style={{width:'2vw'}}  defaultValue={value.current.year} readOnly/>\n                <input style={{width:'2vw'}}  defaultValue={value.current.month} readOnly/>\n                <input style={{width:'2vw'}} name='attitude' onInput={(e)=>autoSave(e)} defaultValue={value.current.attitude}  type='text' readOnly={readOnly}/>\n                <input style={{width:'2vw'}} name='efficient' onInput={(e)=>autoSave(e)} defaultValue={value.current.efficient}  type='text'readOnly={readOnly}/>\n                <input style={{width:'2vw'}} name='professional' onInput={(e)=>autoSave(e)} defaultValue={value.current.professional}  type='text'readOnly={readOnly}/>\n                <input style={{width:'4vw',display:permession!=='admin'?'none':'block'}} name='award' onInput={(e)=>autoSave(e)} defaultValue={value.current.award}  type='text' readOnly/>\n                <div><textarea \n                        ref={textarea2_ref}\n                        name='describes'\n                        defaultValue={value.current.describes}\n                        onInput={(e)=>{ \n                            autoSave(e)\n                            get_scrollHeight(e)\n                            }} \n                        style={{width:'20vw',height:style.height}}\n                        readOnly={readOnly}></textarea></div>\n                <input style={{width:'2vw'}} name='be_late' onInput={(e)=>autoSave(e)} defaultValue={value.current.be_late}  type='text'readOnly={readOnly}/>\n                <input style={{width:'2vw'}} name='day_off_not_on_rule' onInput={(e)=>autoSave(e)} defaultValue={value.current.day_off_not_on_rule} type='text'readOnly={readOnly}/>          \n            </div>\n            )\n    }\n    else if(component_state===2){\n        return(\n            <div \n                onDoubleClick={()=>{\n                    article_page==='年度考核分數'\n                    ?navigate(`/backend/${permession}/${page}/每月考核績效`,{state:{name:item[1],year:''+item[3]}})\n                    :navigate(`/backend/${permession}/每月考核績效`,{state:{name:item[1],year:''+item[3]}})\n                    \n                }}\n                ref={rowitem_ref} \n                className=\"row_container2\" \n                onClick={get_clientHeight}\n                style={style}>\n                <div style={{width:'2vw'}}><div>{item[0]}</div></div> \n                <div style={{width:'5vw',overflow:'hidden',height:style.height}}>{item[1]}</div>\n                {/* \n                <div style={{width:'30vw',overflow:'hidden',height:style.height}}>{item[2]}</div>\n                */}\n                <div style={{width:'2vw'}}>{item[3]}</div>\n                <div style={{width:'2vw'}}>{item[4]} </div>\n            </div>\n        )\n    }\n    else if(component_state===3){\n        return(\n            <div\n                onDoubleClick={()=>navigate(`/backend/${permession}/${page}/每月考核績效`,{state:{name:item[1],year:undefined}})}\n                ref={rowitem_ref} \n                className=\"row_container2\" \n                onClick={get_clientHeight}\n                style={style}>\n                <input style={{width:'10vw'}} placeholder={item[0]} type='text'/>\n                <input style={{width:'10vw',overflow:'hidden',height:style.height}} placeholder={item[1]} type='text'/>\n            </div>\n        )\n    }\n    else if(component_state===4){\n        if(item[0]==='+'){\n            return( <div ref={rowitem_ref}\n                className=\"row_container\"\n                onClick={()=>{            \n                    var page_data=page_data_arr.slice(0,page_data_arr.length-1)\n                    set_page_data_arr([...page_data,['','','',page,'','',position_arr[0],'on'],['+']])\n                    get_clientHeight()}}\n                style={style}>{item}</div>)\n        }else{\n            \n            return(\n            \n                <div\n                    onDoubleClick={()=>navigate(`/backend/${permession}/${page}/每月考核績效`,{state:{name:value.current.name,year:undefined}})}\n                    ref={rowitem_ref}\n                    className=\"row_container\"\n                    onClick={()=>{\n                        get_clientHeight()}}\n                    style={style}>\n    \n                    <div><input \n                            style={{width:'2vw'}} onInput={autoSave}\n                            name={'id'} defaultValue={value.current.id} type='text'/></div>\n                    <div><input\n                            onCompositionEnd={(e)=>{composition_method(e)}} \n                            onCompositionStart={(e)=>composition_method(e)}\n                            style={{width:'10vw',overflow:'hidden',height:style.height}} \n                            onInput={autoSave} name={'name'}\n                            defaultValue={value.current.name} type='text'/></div>\n                    <div>\n                        <select style={{width:'3vw'}} onInput={autoSave} name={'group'} value={value.current.group} type='text' \n                                readOnly={page==='離職員工'?false:true}>\n                            {\n                                JSON.parse(window.sessionStorage.getItem('all_banch')).map((item,index)=>{\n                                    return(\n                                        <option key={index}>{item}</option>\n                                    )\n                                })\n                            }\n                                \n                        </select>\n                    </div>\n                    <div><input disabled={value.current.account!==''?true:false} \n                                style={{width:'10vw'}} \n                                onInput={autoSave}\n                                onBlur={(e)=>{composition.current=false;autoSave(e)}} \n                                onFocus={()=>{composition.current=true}}\n                                onKeyDown={(e)=>{\n                                    if(e.key==='Enter'||e.key==='enter'){composition.current=false;autoSave(e)}}}\n                                name={'account'} defaultValue={value.current.account} type='text'/></div>\n                    <div><input style={{width:'10vw'}} onInput={autoSave} name={'password'} defaultValue={value.current.password} type='text'/></div>\n                    <div><input style={{width:'2vw'}} onInput={autoSave} name={'onWorkDay'} defaultValue={value.current.onWorkDay} type='text'/></div>\n                    <div><select style={{width:'10vw'}} value={value.current.position} onInput={autoSave} name={'position'}>\n                        {\n                            position_arr.map((items,index)=>{\n                                    return(<option key={index} >{items}</option>)\n                            })\n                        }\n                        </select></div>\n                    <div>\n                        <label>\n                            <input onInput={autoSave} name={'workState'} type='checkbox' className=\"checkbox\"/>\n                            <span className=\"btn-box\" style={bg}>\n                                <span className=\"btn\" style={toggle}>\n\n                                </span>\n                            </span>\n                        </label>\n                    </div>\n\n                </div>\n            )\n        }\n    }else if(component_state===5){\n        return(\n            <div ref={rowitem_ref} \n                className=\"row_container2\" \n                onClick={get_clientHeight}\n                style={style}>\n                    <div style={{width:'10%'}}>{item[4]}</div>\n                    <div style={{width:'10%'}}>{item[2]}</div>\n                    <div style={{width:'10%'}}><input onChange={change_confirm_data} name={item[0]} value={'yes'} type='radio' defaultChecked/></div>\n                    <div style={{width:'10%'}}><input onChange={change_confirm_data} name={item[0]} value={'no'} type='radio'/></div>\n            </div>\n        )\n\n    }\n\n}\nexport function Fixed_title({component_state,page_data_arr,set_page_data_arr}){\n    function sort_fun(tar_position,step){\n        //console.log('page_data_arr',page_data_arr)\n        var arr\n        arr=bubble_sorting(page_data_arr,tar_position,step)\n        set_page_data_arr(arr)\n    }\n    if(component_state===1){\n        var permession=window.sessionStorage.getItem('permession')\n        return(\n             <div className={'row_container'} id={'fixed_title'}>\n                <div onClick={()=>sort_fun(0,0)} style={{width:'2vw'}}>{fixed_title[0]}</div> \n                <div onClick={()=>sort_fun(1,0)} style={{width:'5vw'}}>{fixed_title[1]}</div>\n                <div style={{width:'30vw',overflow:'hidden'}}>{fixed_title[2]}</div>\n                                \n                <input onClick={()=>sort_fun(4,0)} style={{width:'2vw'}} readOnly defaultValue={fixed_title[3]} type='text'/>\n                <input onClick={()=>sort_fun(5,0)} style={{width:'2vw'}} readOnly defaultValue={fixed_title[4]} type='text'/>\n                <input style={{width:'2vw'}} disabled defaultValue={fixed_title[5]} type='text'/>\n                <input style={{width:'2vw'}} disabled defaultValue={fixed_title[6]} type='text'/>\n                <input style={{width:'2vw'}} disabled defaultValue={fixed_title[7]} type='text'/>\n                <input style={{width:'4vw',display:permession!=='admin'?'none':'block'}} disabled defaultValue={fixed_title[8]} type='text'/>\n                <div style={{width:'20vw'}}>{fixed_title[9]}</div>\n                <input style={{width:'2vw'}} disabled defaultValue={fixed_title[10]} type='text'/>\n                <input style={{width:'2vw'}}disabled defaultValue={fixed_title[11]} type='text'/>\n            </div>    \n        )\n    }\n    else if(component_state===2){\n        return(\n            <div  className={'row_container2'} id={'fixed_title'}>\n                <div onClick={()=>sort_fun(0,0)} style={{width:'2vw'}}><div>{fixed_title[0]}</div></div> \n                <div onClick={()=>sort_fun(1,0)} style={{width:'5vw'}}><div>{fixed_title[1]}</div></div>\n                {/* \n                <div style={{width:'30vw',overflow:'hidden'}}>{fixed_title[2]}</div>\n                */}\n                <div onClick={()=>sort_fun(3,0)} style={{width:'2vw'}}>{fixed_title[3]}</div>\n                <div onClick={()=>sort_fun(4,0)} style={{width:'2vw'}}>{fixed_title[12]}</div>\n            </div>    \n        )\n    }\n    else if(component_state===3){\n        return(\n            <div className={'row_container2'} id={'fixed_title'}>\n                <div onClick={()=>sort_fun(0,0)} style={{width:'10vw'}}><div>{fixed_title[0]}</div></div> \n                <div onClick={()=>sort_fun(1,0)} style={{width:'10vw'}}><div>{fixed_title[1]}</div></div>\n            </div>\n        )\n    }\n    else if(component_state===4){\n        return(\n            <div className={'row_container'} id={'fixed_title'}>\n                <div onClick={()=>sort_fun(4,1)} style={{width:'2vw'}}><div>{fixed_title_emp[0]}</div></div> \n                <div onClick={()=>sort_fun(2,1)} style={{width:'10vw'}}><div>{fixed_title_emp[1]}</div></div>\n                <div style={{width:'3vw'}}><div>{fixed_title_emp[2]}</div></div>\n                <div style={{width:'10vw'}}><div>{fixed_title_emp[3]}</div></div>\n                <div style={{width:'10vw'}}><div>{fixed_title_emp[4]}</div></div>\n                <div style={{width:'2vw'}}><div>{fixed_title_emp[5]}</div></div>\n                <div onClick={()=>sort_fun(6,1)} style={{width:'10vw'}}><div>{fixed_title_emp[6]}</div></div>\n                <div style={{width:'3vw'}}><div>{fixed_title_emp[7]}</div></div>\n            </div>\n        )\n    }\n    else if(component_state===5){\n        return(\n            <div className={'row_container2'} id={'fixed_title'}>\n                <div onClick={()=>sort_fun(0,0)} style={{width:'10%'}}><div>{fixed_title_emp[0]}</div></div> \n                <div onClick={()=>sort_fun(1,0)} style={{width:'10%'}}><div>{fixed_title_emp[1]}</div></div>\n                <div style={{width:'10%'}}>新增</div>\n                <div style={{width:'10%'}}>不新增</div>\n            </div>\n        )\n\n    }\n};\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}