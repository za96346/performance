{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Downloads/code/dajia/frontend/src/page/backend_component/data_input.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { select_emp_name_id } from \"../api\";\nimport { Loading } from \"./loading\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function virtual_table(arr, itemSize, screenHeight, scrollTop) {}\nexport function Return_component(_ref) {\n  _s();\n\n  let {\n    number,\n    page,\n    arr_params\n  } = _ref;\n  const arr = arr_params[page];\n  const ele = useRef(null);\n  const {\n    article_page\n  } = useParams();\n  const itemSize = 2;\n  const screenHeight = 10;\n  const [now_item, set_now_item] = useState();\n  const [scrollTop, setScrollTop] = useState(0);\n  const [arrHeight, setArrHeight] = useState();\n  const [visibleCount, setVisibleCount] = useState();\n  const [startIndex, setStartIndex] = useState(0);\n  const [endIndex, setEndIndex] = useState();\n  const [visibleData, setVirtualData] = useState([]);\n  const [offset, setoffset] = useState();\n  const [Style, setStyle] = useState();\n\n  function onScroll(e) {\n    var scrollTop = ele.current.scrollTop;\n    var startidx = Math.floor(scrollTop / itemSize);\n    var endidx = startidx + visibleCount;\n    var offset = scrollTop - scrollTop % itemSize;\n\n    if (endidx >= visibleData.length - 1) {\n      setVirtualData(arr.slice(startidx, endidx));\n      console.log(arr.length, startidx, endidx);\n      render_display(startidx, endidx);\n    }\n\n    setScrollTop(scrollTop);\n    setStartIndex(startidx);\n    setEndIndex(endidx);\n    setoffset(offset);\n  }\n\n  ;\n\n  function render_display(startidx, endidx) {\n    const content = [];\n\n    for (let i = startidx; i <= endidx; ++i) {\n      content.push({\n        index: i,\n        Style: {\n          width: '100%',\n          height: itemSize + 'vh',\n          position: \"relative\",\n          left: 0,\n          right: 0,\n          top: i * itemSize + 'vh',\n          borderBottom: \"1px solid #000\"\n        }\n      });\n      setStyle(content);\n    }\n  }\n\n  useEffect(() => {\n    var visible = Math.ceil(screenHeight / itemSize);\n    var startidx = Math.floor(scrollTop / itemSize);\n    var endidx = startIndex + visible;\n    setArrHeight(itemSize * arr.length);\n    setVisibleCount(visible);\n    setStartIndex(startidx);\n    setEndIndex(endidx);\n    setVirtualData(arr.slice(startidx, endidx));\n    console.log(itemSize * arr.length, startidx, endidx);\n    render_display(startidx, endidx);\n  }, []);\n\n  if (visibleData) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: ele,\n        onScroll: onScroll,\n        className: \"all_employee\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            minHeight: `${arrHeight}vh`\n          },\n          className: \"employee\",\n          children: visibleData.map((item, index) => {\n            return /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(Id_name, {\n                style: Style[index].Style,\n                set: set_now_item,\n                now_item: now_item,\n                component_state: number,\n                item: item,\n                index: index\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 45\n              }, this)\n            }, void 0, false);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this)\n    }, void 0, false);\n  }\n}\n\n_s(Return_component, \"hqRRjTMlV7N6wFtcB7yKyRiB0qo=\", false, function () {\n  return [useParams];\n});\n\n_c = Return_component;\nexport function Id_name(_ref2) {\n  _s2();\n\n  let {\n    set,\n    now_item,\n    item,\n    index,\n    component_state,\n    style\n  } = _ref2;\n  const [height, set_height] = useState('2vh');\n  useEffect(() => {\n    if (now_item === index) {\n      set_height('');\n    } else {\n      set_height('4vh');\n    }\n  }, [now_item]);\n\n  if (component_state === 1) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        onClick: () => {\n          set(index);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: style,\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: '1vw'\n              },\n              children: item[0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 37\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: '5vw',\n                overflow: \"hidden\",\n                height: height\n              },\n              children: item[1]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: '20vw',\n                overflow: 'hidden',\n                height: height\n              },\n              children: item[2]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                width: '2vw'\n              },\n              placeholder: item[4],\n              type: \"text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                width: '2vw'\n              },\n              placeholder: item[5],\n              type: \"text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                width: '2vw'\n              },\n              placeholder: item[6],\n              type: \"text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                width: '2vw'\n              },\n              placeholder: item[7],\n              type: \"text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                width: '2vw'\n              },\n              placeholder: item[8],\n              type: \"text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                width: '4vw'\n              },\n              placeholder: item[9],\n              type: \"text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              defaultValue: item[10],\n              maxLength: 50,\n              style: {\n                width: '20vw',\n                overflow: 'hidden',\n                height: height\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                width: '2vw'\n              },\n              placeholder: item[11],\n              type: \"text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                width: '2vw'\n              },\n              vplaceholder: item[12],\n              type: \"text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 25\n      }, this)\n    }, void 0, false);\n  } else if (component_state === 2) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: item[0],\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: item[1],\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: item[2],\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: item[3],\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 59\n      }, this)]\n    }, void 0, true);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: item[0],\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: item[1],\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 59\n      }, this)]\n    }, void 0, true);\n  }\n}\n\n_s2(Id_name, \"m69MQuyTz3tIpdAhMOjmAOZhBiI=\");\n\n_c2 = Id_name;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Return_component\");\n$RefreshReg$(_c2, \"Id_name\");","map":{"version":3,"sources":["/Users/admin/Downloads/code/dajia/frontend/src/page/backend_component/data_input.js"],"names":["React","useEffect","useRef","useState","useParams","select_emp_name_id","Loading","virtual_table","arr","itemSize","screenHeight","scrollTop","Return_component","number","page","arr_params","ele","article_page","now_item","set_now_item","setScrollTop","arrHeight","setArrHeight","visibleCount","setVisibleCount","startIndex","setStartIndex","endIndex","setEndIndex","visibleData","setVirtualData","offset","setoffset","Style","setStyle","onScroll","e","current","startidx","Math","floor","endidx","length","slice","console","log","render_display","content","i","push","index","width","height","position","left","right","top","borderBottom","visible","ceil","minHeight","map","item","Id_name","set","component_state","style","set_height","overflow"],"mappings":"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","sourcesContent":["import React, { useEffect,useRef,useState} from \"react\"\nimport { useParams } from \"react-router-dom\"\nimport { select_emp_name_id } from \"../api\"\nimport { Loading } from \"./loading\"\n\n\n\nexport function virtual_table(arr,itemSize,screenHeight,scrollTop){\n\n\n}\n\n\nexport function Return_component({number,page,arr_params}){\n    const arr=arr_params[page]\n    const ele=useRef(null)\n    const {article_page}=useParams()\n    const itemSize=2\n    const screenHeight=10\n\n    const [now_item,set_now_item]=useState()\n    const [scrollTop,setScrollTop]=useState(0)\n    const [arrHeight,setArrHeight]=useState()\n    const [visibleCount,setVisibleCount]=useState()\n    const [startIndex,setStartIndex]=useState(0)\n    const [endIndex,setEndIndex]=useState()\n    const [visibleData,setVirtualData]=useState([])\n    const [offset,setoffset]=useState()\n    const [Style,setStyle]=useState()\n\n\n    function onScroll(e){\n        var scrollTop=ele.current.scrollTop\n        var startidx=Math.floor(scrollTop/itemSize)\n        var endidx=startidx+visibleCount\n        var offset=scrollTop - (scrollTop % itemSize);\n        if(endidx>=visibleData.length-1){\n            \n            setVirtualData(arr.slice(startidx,endidx))\n            console.log(arr.length,startidx,endidx)\n            render_display(startidx,endidx)\n        }\n        setScrollTop(scrollTop)\n        setStartIndex(startidx)\n        setEndIndex(endidx)\n        setoffset(offset)\n        \n    };\n    function render_display(startidx,endidx){\n        const content = [];\n        for(let i=startidx;i<=endidx;++i){\n            content.push({\n                index:i,\n                Style:(\n                {\n                    width: '100%',\n                    height: itemSize+'vh',\n                    position: \"relative\",\n                    left: 0,\n                    right: 0,\n                    top: i * itemSize+'vh',\n                    borderBottom: \"1px solid #000\",\n                }\n            )}\n            )\n            \n            setStyle(content)\n            \n        }\n    }\n\n    \n    useEffect(()=>{\n        var visible=Math.ceil(screenHeight/itemSize)\n        var startidx=Math.floor(scrollTop/itemSize)\n        var endidx=startIndex+visible\n\n        setArrHeight(itemSize*arr.length)\n        setVisibleCount(visible)\n        setStartIndex(startidx)\n        setEndIndex(endidx)\n        setVirtualData(arr.slice(startidx,endidx))\n        console.log(itemSize*arr.length,startidx,endidx)\n        render_display(startidx,endidx)\n\n    },[])\n\n    if(visibleData){\n        return(                \n            <>\n            <div ref={ele} onScroll={onScroll} className=\"all_employee\">\n                <div style={{minHeight:`${arrHeight}vh`}} className=\"employee\">\n                                {\n                                    visibleData.map((item,index)=>{\n                                        \n                                        return(\n                                            <>\n                                            <Id_name \n                                            style={Style[index].Style}\n                                            set={set_now_item}\n                                            now_item={now_item}\n                                            component_state={number} \n                                            key={index} item={item} \n                                            index={index} />\n                                            </>\n                                        )\n                                    })\n                                }\n                </div>\n            </div>\n            </>)\n    }\n\n    \n}\n\nexport function Id_name({set,now_item,item,index,component_state,style}){\n    const [height,set_height]=useState('2vh')\n\n    useEffect(()=>{\n        if(now_item===index){\n            set_height('')\n        }\n        else{\n            set_height('4vh')\n        }\n    },[now_item])\n        if(component_state===1){\n            return(\n                <>\n                        <tr  onClick={()=>{\n                            set(index)\n                        }}>\n                            <div style={style}>\n                                <td><div style={{width:'1vw'}}>{item[0]}</div> </td>\n                                <td><div style={{width:'5vw',overflow:\"hidden\",height:height}}>{item[1]}</div></td>\n                                <td><div style={{width:'20vw',overflow:'hidden',height:height}}>{item[2]}</div></td>\n                                <td><input style={{width:'2vw'}} placeholder={item[4]} type='text'/></td>\n                                <td><input style={{width:'2vw'}} placeholder={item[5]} type='text'/></td>\n                                <td><input style={{width:'2vw'}} placeholder={item[6]} type='text'/></td>\n                                <td><input style={{width:'2vw'}} placeholder={item[7]} type='text'/></td>\n                                <td><input style={{width:'2vw'}} placeholder={item[8]} type='text'/></td>\n                                <td><input style={{width:'4vw'}} placeholder={item[9]} type='text'/></td>\n                                <td><textarea defaultValue={item[10]} maxLength={50} style={{width:'20vw',overflow:'hidden',height:height}}></textarea></td>\n                                <td><input style={{width:'2vw'}} placeholder={item[11]} type='text'/></td>\n                                <td><input style={{width:'2vw'}} vplaceholder={item[12]} type='text'/></td>\n                            </div>\n                        </tr>\n            </>\n            )\n        }\n        else if(component_state===2){\n            return(\n                <>\n                <input placeholder={item[0]}  type='text'/>\n                <input placeholder={item[1]} type='text'/>\n                <input placeholder={item[2]} type='text'/>\n                <input placeholder={item[3]} type='text'/><br/>\n                </>\n            )\n\n        }\n        else{\n            return(\n                <>\n                <input placeholder={item[0]}  type='text'/>\n                <input placeholder={item[1]} type='text'/><br/>\n                </>\n            )\n            \n        }\n\n\n}"]},"metadata":{},"sourceType":"module"}