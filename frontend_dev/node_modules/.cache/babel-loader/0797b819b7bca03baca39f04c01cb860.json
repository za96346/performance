{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Downloads/code/dajia/frontend/src/page/api.js\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const config = {\n  url: 'http://localhost:5000/'\n};\nexport async function login(login_data, navigate) {\n  await axios({\n    method: 'POST',\n    url: config.url,\n    data: {\n      'account': login_data.account,\n      'password': login_data.password\n    },\n    headers: {\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    var data = response.data;\n    console.log(data);\n    window.sessionStorage.setItem('token', data.token);\n    window.sessionStorage.setItem('user_name', data.user_name);\n    window.sessionStorage.setItem('banch', data.banch);\n    window.sessionStorage.setItem('permession', data.permession);\n\n    function select_route() {\n      var permession = window.sessionStorage.getItem('permession');\n\n      if (permession === \"admin\") {\n        return /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/backend/admin\",\n          element: /*#__PURE__*/_jsxDEV(Backend, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 72\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 22\n        }, this);\n      } else if (permession === \"manager\") {\n        return /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/backend/manager\",\n          element: /*#__PURE__*/_jsxDEV(Backend, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 76\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 24\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/backend/personal\",\n          element: /*#__PURE__*/_jsxDEV(Backend, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 77\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 24\n        }, this);\n      }\n    }\n  }).catch(error => {\n    alert('帳號或密碼輸入錯誤');\n  });\n}","map":{"version":3,"sources":["/Users/admin/Downloads/code/dajia/frontend/src/page/api.js"],"names":["axios","config","url","login","login_data","navigate","method","data","account","password","headers","then","response","console","log","window","sessionStorage","setItem","token","user_name","banch","permession","select_route","getItem","catch","error","alert"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,OAAO,MAAMC,MAAM,GAAC;AAChBC,EAAAA,GAAG,EAAC;AADY,CAAb;AAMP,OAAO,eAAeC,KAAf,CAAqBC,UAArB,EAAgCC,QAAhC,EAAyC;AAC5C,QAAML,KAAK,CAAC;AACRM,IAAAA,MAAM,EAAC,MADC;AAERJ,IAAAA,GAAG,EAACD,MAAM,CAACC,GAFH;AAGRK,IAAAA,IAAI,EAAC;AACD,iBAAUH,UAAU,CAACI,OADpB;AAED,kBAAWJ,UAAU,CAACK;AAFrB,KAHG;AAORC,IAAAA,OAAO,EAAC;AACJ,sBAAgB,kBADZ;AAEJ,qCAA8B;AAF1B;AAPA,GAAD,CAAL,CAWHC,IAXG,CAWGC,QAAD,IAAY;AAChB,QAAIL,IAAI,GAACK,QAAQ,CAACL,IAAlB;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAYP,IAAZ;AACAQ,IAAAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,EAAsCV,IAAI,CAACW,KAA3C;AACAH,IAAAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,WAA9B,EAA0CV,IAAI,CAACY,SAA/C;AACAJ,IAAAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,EAAsCV,IAAI,CAACa,KAA3C;AACAL,IAAAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,YAA9B,EAA2CV,IAAI,CAACc,UAAhD;;AACA,aAASC,YAAT,GAAuB;AACnB,UAAID,UAAU,GAACN,MAAM,CAACC,cAAP,CAAsBO,OAAtB,CAA8B,YAA9B,CAAf;;AACA,UAAGF,UAAU,KAAG,OAAhB,EAAwB;AACtB,4BAAO,QAAC,KAAD;AAAO,UAAA,KAAK,EAAE,IAAd;AAAoB,UAAA,IAAI,EAAC,gBAAzB;AAAyC,UAAA,OAAO,eAAE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAlD;AAAA;AAAA;AAAA;AAAA,gBAAP;AACD,OAFD,MAGK,IAAGA,UAAU,KAAG,SAAhB,EAA0B;AAC3B,4BAAO,QAAC,KAAD;AAAO,UAAA,KAAK,EAAE,IAAd;AAAoB,UAAA,IAAI,EAAC,kBAAzB;AAA2C,UAAA,OAAO,eAAE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAApD;AAAA;AAAA;AAAA;AAAA,gBAAP;AACH,OAFI,MAGD;AACA,4BAAO,QAAC,KAAD;AAAO,UAAA,KAAK,EAAE,IAAd;AAAoB,UAAA,IAAI,EAAC,mBAAzB;AAA4C,UAAA,OAAO,eAAE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAArD;AAAA;AAAA;AAAA;AAAA,gBAAP;AACH;AACF;AAEN,GA/BK,EA+BHG,KA/BG,CA+BIC,KAAD,IAAS;AACdC,IAAAA,KAAK,CAAC,WAAD,CAAL;AAEH,GAlCK,CAAN;AAmCH","sourcesContent":["import axios from \"axios\"\n\nexport const config={\n    url:'http://localhost:5000/'\n}\n\n\n\nexport async function login(login_data,navigate){\n    await axios({\n        method:'POST',\n        url:config.url,\n        data:{\n            'account':login_data.account,\n            'password':login_data.password\n        },\n        headers:{\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin':'*'\n        }\n    }).then((response)=>{\n        var data=response.data\n        console.log(data)\n        window.sessionStorage.setItem('token',data.token)\n        window.sessionStorage.setItem('user_name',data.user_name)\n        window.sessionStorage.setItem('banch',data.banch)\n        window.sessionStorage.setItem('permession',data.permession)\n        function select_route(){\n            var permession=window.sessionStorage.getItem('permession')\n            if(permession===\"admin\"){\n              return(<Route exact={true} path=\"/backend/admin\"element={<Backend/>}/>)\n            }\n            else if(permession===\"manager\"){\n                return(<Route exact={true} path=\"/backend/manager\"element={<Backend/>}/>)\n            }\n            else{\n                return(<Route exact={true} path=\"/backend/personal\"element={<Backend/>}/>)\n            }\n          }\n\n    }).catch((error)=>{\n        alert('帳號或密碼輸入錯誤')\n        \n    })\n}"]},"metadata":{},"sourceType":"module"}