{"ast":null,"code":"import _asyncToGenerator from\"/Users/admin/Downloads/code/dajia/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/admin/Downloads/code/dajia/frontend/node_modules/@babel/runtime/regenerator/index.js\";import axios from\"axios\";import{useReducer}from\"react\";export var ip='172.21.1.17';export var config={url:\"http://\".concat(ip,\":5000/\"),urlYearPerformance:'backend/year_performance',urlBanchIndex:'backend/banch_index',urlBackEnd:'backend',urlInsertBanchTable:'backend/InsertBanchTable',urlInsertPerformanceTable:'backend/InsertPerformanceTable',urlUpdatePerformance:'backend/UpdatePerformanceTable',urlGroupChange:'backend/GroupChange',urlSelectAllBanch:'backend/SelectAllBanch'};export var article_bar_arr=['首頁','年度考核分數','每月考核績效'];export var log_out=['登出'];export var personal_sidebar=['每月考核績效','年度考核分數'];export function admin_sidebar(){var admin_sidebar_orignal=['組別管理','幹部','離職員工','新增年度'];var banch=JSON.parse(window.sessionStorage.getItem('all_banch'));//console.log(banch)\nif(banch===null||banch===undefined){return admin_sidebar_orignal;}for(var item=0;item<banch.length;item++){admin_sidebar_orignal.splice(item+2,0,banch[item]);}//console.log(admin_sidebar_orignal)\nreturn admin_sidebar_orignal;}export function manager_sidebar(){var banch=window.sessionStorage.getItem('banch');var manager=[banch];return manager;}export var position_arr=['','管理員','主管','一般職員'];export var fixed_title=['id','姓名','年度目標','年度','月份','態度','效率','專業','績效獎金','績效描述','遲到','不當請假','分數'];export var fixed_title_emp=['id','姓名','組別','帳號','密碼','入職日','職位權限','狀態'];export function select_emp_name_id(number){var emp_arr=[];if(number===1){for(var i=0;i<40;i++){emp_arr.push([i,'name: '+i,'goal'+i,'attitude','efficiency','professional',2000+i,'directions'+i,i,0,0]);}return emp_arr;}else if(number===2){for(var _i=0;_i<40;_i++){emp_arr.push([_i,'name: '+_i,'goal'+_i,80+_i]);}return emp_arr;}else{for(var _i2=0;_i2<40;_i2++){emp_arr.push([_i2,'name: '+_i2]);}return emp_arr;}}export function select_route(navigate){var permession=window.sessionStorage.getItem('permession');if(permession===\"admin\"){console.log('\\nRoute==>',permession);navigate(\"/backend/admin/\".concat(admin_sidebar()[1]));//跳過 組別管理\n}else if(permession===\"manager\"){console.log('\\nRoute==>',permession);navigate(\"/backend/manager/\".concat(manager_sidebar()[0]));}else if(permession==='personal'){console.log('\\nRoute==>',permession);navigate(\"/backend/personal/\".concat(personal_sidebar[0]));}else{navigate('/');}}export function group_change(_x,_x2){return _group_change.apply(this,arguments);}function _group_change(){_group_change=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(token,data){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios({method:'POST',url:config.url+config.urlGroupChange,data:JSON.stringify({'data':data}),headers:{'token':token,'Content-Type':'application/json','Access-Control-Allow-Origin':'*'}}).then(function(response){console.log(response);return true;}).catch(function(error){console.log(error);return false;});case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}}},_callee);}));return _group_change.apply(this,arguments);}export function updata_performance_table(_x3,_x4){return _updata_performance_table.apply(this,arguments);}function _updata_performance_table(){_updata_performance_table=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data,token){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios({method:'POST',url:config.url+config.urlUpdatePerformance,data:JSON.stringify({'data':data}),headers:{'token':token,'Content-Type':'application/json','Access-Control-Allow-Origin':'*'}}).then(function(response){console.log(response);return true;}).catch(function(error){console.log(error);return false;});case 2:return _context2.abrupt(\"return\",_context2.sent);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _updata_performance_table.apply(this,arguments);};export function insert_performance_table(_x5,_x6){return _insert_performance_table.apply(this,arguments);}function _insert_performance_table(){_insert_performance_table=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(token,data){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios({method:'POST',url:config.url+config.urlInsertPerformanceTable,data:JSON.stringify({'data':data}),headers:{'token':token,'Content-Type':'application/json','Access-Control-Allow-Origin':'*'}}).then(function(response){console.log('InsertPerformanceTable',response);return response.data;}).catch(function(error){console.log(error);return error;});case 2:return _context3.abrupt(\"return\",_context3.sent);case 3:case\"end\":return _context3.stop();}}},_callee3);}));return _insert_performance_table.apply(this,arguments);}export function insert_banch_table(_x7,_x8){return _insert_banch_table.apply(this,arguments);}function _insert_banch_table(){_insert_banch_table=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(token,data){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios({method:'POST',url:config.url+config.urlInsertBanchTable,data:JSON.stringify({'data':data}),headers:{'token':token,'Content-Type':'application/json','Access-Control-Allow-Origin':'*'}}).then(function(response){console.log('response data===>',response.data['data']);return response.data['data'];//data=>insert or update\n//insert=>tell you that this people is a new create.\n//updata=>tell you that this people is exist.\n}).catch(function(error){console.log(error);return false;});case 2:return _context4.abrupt(\"return\",_context4.sent);case 3:case\"end\":return _context4.stop();}}},_callee4);}));return _insert_banch_table.apply(this,arguments);}export function backend(_x9){return _backend.apply(this,arguments);}function _backend(){_backend=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(token){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return axios({method:'POST',url:config.url+config.urlBackEnd,headers:{'token':token,'Content-Type':'application/json','Access-Control-Allow-Origin':'*'}}).then(function(response){var data=response.data;console.log('每月績效',data);window.sessionStorage.setItem('data',JSON.stringify(data));return true;}).catch(function(error){console.log(error);console.log('token error =>backend');return false;});case 2:return _context5.abrupt(\"return\",_context5.sent);case 3:case\"end\":return _context5.stop();}}},_callee5);}));return _backend.apply(this,arguments);}export function banch_index(_x10){return _banch_index.apply(this,arguments);}function _banch_index(){_banch_index=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(token){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return axios({method:'POST',url:config.url+config.urlBanchIndex,headers:{'token':token,'Content-Type':'application/json','Access-Control-Allow-Origin':'*'}}).then(function(response){var data=response.data;console.log('組員資料',data);window.sessionStorage.setItem('banch_index',JSON.stringify(data));return true;}).catch(function(error){console.log(error);console.log('token error =>banch_index');return false;});case 2:return _context6.abrupt(\"return\",_context6.sent);case 3:case\"end\":return _context6.stop();}}},_callee6);}));return _banch_index.apply(this,arguments);}export function year_performance(_x11){return _year_performance.apply(this,arguments);}function _year_performance(){_year_performance=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(token){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return axios({method:'POST',url:config.url+config.urlYearPerformance,headers:{'token':token,'Content-Type':'application/json','Access-Control-Allow-Origin':'*'}}).then(function(response){var data=response.data;console.log('年度績效',data);window.sessionStorage.setItem('year_performance',JSON.stringify(data));return true;}).catch(function(error){console.log(error);console.log('token error =>year_performance');return false;});case 2:return _context7.abrupt(\"return\",_context7.sent);case 3:case\"end\":return _context7.stop();}}},_callee7);}));return _year_performance.apply(this,arguments);}export function select_all_banch(_x12){return _select_all_banch.apply(this,arguments);}function _select_all_banch(){_select_all_banch=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(token){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return axios({method:'POST',url:config.url+config.urlSelectAllBanch,headers:{'token':token,'Content-Type':'application/json','Access-Control-Allow-Origin':'*'}}).then(function(response){var data=response.data;console.log('所有組別',data);window.sessionStorage.setItem('all_banch',JSON.stringify(data));return true;}).catch(function(error){console.log(error);console.log('token error =>select_all_banch');return false;});case 2:return _context8.abrupt(\"return\",_context8.sent);case 3:case\"end\":return _context8.stop();}}},_callee8);}));return _select_all_banch.apply(this,arguments);}export function login(_x13){return _login.apply(this,arguments);}function _login(){_login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(login_data){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return axios({method:'POST',url:config.url,data:JSON.stringify({'account':login_data.account,'password':login_data.password}),headers:{'Content-Type':'application/json','Access-Control-Allow-Origin':'*'}}).then(function(response){var data=response.data;console.log(data);window.sessionStorage.setItem('token',data.token);window.sessionStorage.setItem('user_name',data.user_name);window.sessionStorage.setItem('banch',data.banch);window.sessionStorage.setItem('permession',data.permession);console.log(data.token);return true;}).catch(function(error){console.log(error);alert('帳號或密碼輸入錯誤');return false;});case 2:return _context9.abrupt(\"return\",_context9.sent);case 3:case\"end\":return _context9.stop();}}},_callee9);}));return _login.apply(this,arguments);}","map":{"version":3,"sources":["/Users/admin/Downloads/code/dajia/frontend/src/page/api.js"],"names":["axios","useReducer","ip","config","url","urlYearPerformance","urlBanchIndex","urlBackEnd","urlInsertBanchTable","urlInsertPerformanceTable","urlUpdatePerformance","urlGroupChange","urlSelectAllBanch","article_bar_arr","log_out","personal_sidebar","admin_sidebar","admin_sidebar_orignal","banch","JSON","parse","window","sessionStorage","getItem","undefined","item","length","splice","manager_sidebar","manager","position_arr","fixed_title","fixed_title_emp","select_emp_name_id","number","emp_arr","i","push","select_route","navigate","permession","console","log","group_change","token","data","method","stringify","headers","then","response","catch","error","updata_performance_table","insert_performance_table","insert_banch_table","backend","setItem","banch_index","year_performance","select_all_banch","login","login_data","account","password","user_name","alert"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport { useReducer } from \"react\";\n\nexport const ip='172.21.1.17'\nexport const config={\n    url:`http://${ip}:5000/`,\n    urlYearPerformance:'backend/year_performance',\n    urlBanchIndex:'backend/banch_index',\n    urlBackEnd:'backend',\n    urlInsertBanchTable:'backend/InsertBanchTable',\n    urlInsertPerformanceTable:'backend/InsertPerformanceTable',\n    urlUpdatePerformance:'backend/UpdatePerformanceTable',\n    urlGroupChange:'backend/GroupChange',\n    urlSelectAllBanch:'backend/SelectAllBanch'\n};\nexport const article_bar_arr=['首頁','年度考核分數','每月考核績效']\nexport const log_out=['登出']\nexport const personal_sidebar=['每月考核績效','年度考核分數'];\n \nexport function admin_sidebar(){\n    const admin_sidebar_orignal=['組別管理','幹部','離職員工','新增年度'];\n    var banch=JSON.parse(window.sessionStorage.getItem('all_banch'))\n    //console.log(banch)\n    if(banch===null||banch===undefined){\n        return admin_sidebar_orignal\n    }\n    for(let item=0;item<banch.length;item++){\n        admin_sidebar_orignal.splice(item+2,0,banch[item])\n    }\n    //console.log(admin_sidebar_orignal)\n    return  admin_sidebar_orignal\n    \n}\nexport function manager_sidebar(){\n    var banch=window.sessionStorage.getItem('banch');\n    const manager= [banch];\n    return manager\n}\n\nexport const position_arr=['','管理員','主管','一般職員']\nexport const fixed_title=['id','姓名','年度目標','年度','月份','態度','效率','專業','績效獎金','績效描述','遲到','不當請假','分數']\nexport const fixed_title_emp=['id','姓名','組別','帳號','密碼','入職日','職位權限','狀態']\n\n\n\n\nexport function select_emp_name_id(number){\n\n    const emp_arr=[]\n    if(number===1){\n        for(let i=0;i<40;i++){\n            emp_arr.push([i,'name: '+i,'goal'+i,'attitude','efficiency','professional',2000+i,'directions'+i,i,0,0])\n        }\n        return(emp_arr)\n    }\n    else if(number===2){\n        for(let i=0;i<40;i++){\n            emp_arr.push([i,'name: '+i,'goal'+i,80+i])\n        }\n        return(emp_arr)\n\n    }\n    else{\n        for(let i=0;i<40;i++){\n            emp_arr.push([i,'name: '+i])\n        }\n        return(emp_arr)\n    }\n    \n\n\n}\n\nexport function select_route(navigate){\n\n    var permession=window.sessionStorage.getItem('permession')\n    if(permession===\"admin\"){\n        console.log('\\nRoute==>',permession)\n        navigate(`/backend/admin/${admin_sidebar()[1]}`)//跳過 組別管理\n    }\n    else if(permession===\"manager\"){\n        console.log('\\nRoute==>',permession)\n        navigate(`/backend/manager/${manager_sidebar()[0]}`)\n    }\n    else if(permession==='personal'){\n        console.log('\\nRoute==>',permession)\n        navigate(`/backend/personal/${personal_sidebar[0]}`)\n    }\n    else{navigate('/')}\n}\n\n\nexport async function group_change(token,data){\n    return await axios({\n        method:'POST',\n        url:config.url+config.urlGroupChange,\n        data:JSON.stringify({\n            'data':data\n        }),\n        headers:{\n            'token':token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin':'*'\n        }\n    }).then((response)=>{\n        console.log(response)\n        return true\n    }).catch((error)=>{\n        console.log(error)\n        return false\n    })\n}\n\nexport async function updata_performance_table(data,token){\n    return await axios({\n        method:'POST',\n        url:config.url+config.urlUpdatePerformance,\n        data:JSON.stringify({\n            'data':data\n        }),\n        headers:{\n            'token':token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin':'*'\n        }\n    }).then((response)=>{\n        console.log(response)\n        return true\n    }).catch((error)=>{\n        console.log(error)\n        return false\n    })\n};\n\nexport async function insert_performance_table(token,data){\n    return await axios({\n        method:'POST',\n        url:config.url+config.urlInsertPerformanceTable,\n        data:JSON.stringify({\n            'data':data\n        }),\n        headers:{\n            'token':token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin':'*'\n        }\n\n    }).then((response)=>{\n        console.log('InsertPerformanceTable',response)\n        return response.data\n    }).catch((error)=>{\n        console.log(error)\n        return error\n    })\n}\n\nexport async function insert_banch_table(token,data){\n    \n    return await axios({\n            method:'POST',\n            url:config.url+config.urlInsertBanchTable,\n            data:JSON.stringify({\n                'data':data,\n            }),\n            headers:{\n                'token':token,\n                'Content-Type': 'application/json',\n                'Access-Control-Allow-Origin':'*'\n            }\n    }).then((response)=>{\n        console.log('response data===>',response.data['data'])\n        return response.data['data']//data=>insert or update\n        //insert=>tell you that this people is a new create.\n        //updata=>tell you that this people is exist.\n    }).catch((error)=>{\n        console.log(error)\n        \n        return false\n    })\n}\n\n\nexport async function backend(token){\n    return await axios({\n        method:'POST',\n        url:config.url+config.urlBackEnd,\n        headers:{\n            'token':token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin':'*'\n        }\n    }).then((response)=>{\n        var data=response.data\n        console.log('每月績效',data)\n        window.sessionStorage.setItem('data',JSON.stringify(data))\n        return true\n\n    }).catch((error)=>{\n\n        console.log(error)\n        console.log('token error =>backend')\n        return false\n        \n    })\n}\n\nexport async function banch_index(token){\n    return await axios({\n        method:'POST',\n        url:config.url+config.urlBanchIndex,\n        headers:{\n            'token':token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin':'*'\n        }\n    }).then((response)=>{\n        var data=response.data\n        console.log('組員資料',data)\n        window.sessionStorage.setItem('banch_index',JSON.stringify(data))\n        return true\n    }).catch((error)=>{\n        console.log(error)\n        console.log('token error =>banch_index')\n        return false\n    })\n}\n\nexport async function year_performance(token){\n    return await axios({\n        method:'POST',\n        url:config.url+config.urlYearPerformance,\n        headers:{\n            'token':token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin':'*'\n        }\n    }).then((response)=>{\n        var data=response.data\n        console.log('年度績效',data)\n        window.sessionStorage.setItem('year_performance',JSON.stringify(data))\n        return true\n    }).catch((error)=>{\n        console.log(error)\n        console.log('token error =>year_performance')\n        return false\n    })\n}\n\nexport async function select_all_banch(token){\n    return await axios({\n        method:'POST',\n        url:config.url+config.urlSelectAllBanch,\n        headers:{\n            'token':token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin':'*'\n        }\n    }).then((response)=>{\n        var data=response.data\n        console.log('所有組別',data)\n        window.sessionStorage.setItem('all_banch',JSON.stringify(data))\n        return true\n    }).catch((error)=>{\n        console.log(error)\n        console.log('token error =>select_all_banch')\n        return false\n    })\n}\n\n\nexport async function login(login_data){\n    return await axios({\n        method:'POST',\n        url:config.url,\n        data:JSON.stringify({\n            'account':login_data.account,\n            'password':login_data.password\n        }),\n        headers:{\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin':'*'\n        }\n    }).then((response)=>{\n        var data=response.data\n\n        console.log(data)\n        window.sessionStorage.setItem('token',data.token)\n        window.sessionStorage.setItem('user_name',data.user_name)\n        window.sessionStorage.setItem('banch',data.banch)\n        window.sessionStorage.setItem('permession',data.permession)\n        console.log(data.token)\n        return true\n \n    }).catch((error)=>{\n        console.log(error)\n        alert('帳號或密碼輸入錯誤')\n        return false\n        \n    })\n}"]},"metadata":{},"sourceType":"module"}