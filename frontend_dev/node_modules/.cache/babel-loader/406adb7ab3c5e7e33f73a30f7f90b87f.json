{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Downloads/code/dajia/frontend/src/page/backend_component/data_input.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { select_emp_name_id } from \"../api\";\nimport { Loading } from \"./loading\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function virtual_table(arr, itemSize, screenHeight, scrollTop) {}\nconst itemSize = 30;\nconst bufferSize = 20;\nconst screenHeight = 500;\nconst visibleCount = screenHeight / itemSize;\nexport function Return_component(_ref) {\n  _s();\n\n  let {\n    number,\n    page,\n    arr_params\n  } = _ref;\n  const ele = useRef(null);\n  const arr = arr_params[page];\n  const {\n    article_page\n  } = useParams();\n  const arrHeight = itemSize * arr.length;\n  const [now_item, set_now_item] = useState();\n  const [startIndex, setStartIndex] = useState(0);\n  const [endIndex, setEndIndex] = useState(visibleCount);\n  const [offset, setoffset] = useState(0);\n  const [itemOffset, setItemoffset] = useState(0);\n  useEffect(() => {\n    console.log(startIndex, endIndex, offset);\n  }, []);\n  useEffect(() => {\n    setoffset(startIndex * 30);\n  }, [startIndex]);\n  useEffect(() => {\n    render_display(startIndex, endIndex);\n  }, [now_item]);\n\n  function onScroll(e) {\n    var Top = ele.current.scrollTop;\n    var startidx = Math.floor(Top / itemSize);\n    var endidx = startidx + visibleCount;\n    var startoffset = Top - Top % itemSize;\n    console.log(startIndex, endIndex, offset);\n    let originStartIdx = startidx;\n    setStartIndex(Math.max(originStartIdx - bufferSize, 0));\n    setEndIndex(Math.min(originStartIdx + visibleCount + bufferSize, arr.length - 1));\n    render_display(startIndex, endIndex);\n  }\n\n  ;\n\n  function render_display(startidx, endidx) {\n    const content = [];\n\n    for (let i = startidx; i <= endidx; ++i) {\n      var Height = '';\n      var Zindex = 0;\n      var Bgcolor = '';\n      var Boxshadow = '';\n      var Color = '';\n      var Top = i * itemSize + 'px';\n\n      if (now_item === i) {\n        Height = '';\n        Zindex = 15;\n        Bgcolor = 'rgb(255,255,255)';\n        Boxshadow = '2px 2px 10px rgb(112,128,144)';\n        Color = 'rgb(0,0,0)';\n      } else {\n        Height = itemSize + 'px';\n        Zindex = '';\n        Bgcolor = '';\n        Boxshadow = '';\n        Color = '';\n      }\n\n      if (i > now_item) {\n        Top = itemOffset + i * itemSize + 'px';\n      }\n\n      content.push({\n        index: i,\n        Style: {\n          boxShadow: Boxshadow,\n          height: Height,\n          backgroundColor: Bgcolor,\n          zIndex: Zindex,\n          color: Color,\n          position: \"absolute\",\n          left: 0,\n          right: 0,\n          top: Top\n        }\n      });\n    }\n\n    window.sessionStorage.setItem('style_arr', JSON.stringify(content));\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: ele,\n      onScroll: onScroll,\n      style: arr && arrHeight > screenHeight || arr && arr.length === 0 ? {\n        height: `${screenHeight}px`\n      } : {\n        height: `${0}px`\n      },\n      className: \"all_employee\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: `${arrHeight}px`\n        },\n        className: \"employee\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"employee_container\",\n          children: arr instanceof Array && arr.length > 0 && window.sessionStorage.getItem('style_arr') ? arr.slice(startIndex, endIndex).map((item, index) => {\n            render_display(startIndex, endIndex);\n            var style_arr = JSON.parse(window.sessionStorage.getItem('style_arr'))[index];\n            return /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(Id_name, {\n                setItemoffset: setItemoffset,\n                item_index: style_arr.index,\n                style: style_arr.Style,\n                startIndex: startIndex,\n                set: set_now_item,\n                now_item: now_item,\n                component_state: number,\n                item: item,\n                index: index\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 45\n              }, this)\n            }, void 0, false);\n          }) : /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 38\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }, this)\n  }, void 0, false);\n}\n\n_s(Return_component, \"Y4YEwSLAcshICCg/Yh5R8lNso0A=\", false, function () {\n  return [useParams];\n});\n\n_c = Return_component;\nexport function Id_name(_ref2) {\n  _s2();\n\n  let {\n    set,\n    now_item,\n    item,\n    index,\n    component_state,\n    style,\n    startIndex,\n    item_index,\n    setItemoffset\n  } = _ref2;\n  const rowitem_ref = useRef(null);\n  const [Top, setTop] = useState(0);\n  useEffect(() => {\n    if (item_index > now_item) {\n      setTop(rowitem_ref.current.clientHeight);\n    } else {\n      setTop(0);\n    }\n  }, []);\n\n  if (component_state === 1) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: rowitem_ref,\n        className: \"row_container\",\n        onClick: () => {\n          setItemoffset(rowitem_ref.current.clientHeight);\n          set(item_index);\n        },\n        style: { ...style,\n          top: style.top + Top\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '2vw'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: item[0]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 60\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '5vw'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: item[1]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 60\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '40vw',\n            overflow: 'hidden',\n            height: style.height\n          },\n          children: item[2]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            width: '2vw'\n          },\n          placeholder: item[4],\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            width: '2vw'\n          },\n          placeholder: item[5],\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            width: '2vw'\n          },\n          placeholder: item[6],\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            width: '2vw'\n          },\n          placeholder: item[7],\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            width: '2vw'\n          },\n          placeholder: item[8],\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            width: '4vw'\n          },\n          placeholder: item[9],\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          defaultValue: item[10],\n          maxLength: 50,\n          style: {\n            width: '20vw'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            width: '2vw'\n          },\n          placeholder: item[11],\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            width: '2vw'\n          },\n          vplaceholder: item[12],\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 29\n      }, this)\n    }, void 0, false);\n  } else if (component_state === 2) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: item[0],\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: item[1],\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: item[2],\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: item[3],\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 59\n      }, this)]\n    }, void 0, true);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: item[0],\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: item[1],\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 59\n      }, this)]\n    }, void 0, true);\n  }\n}\n\n_s2(Id_name, \"TsbujWCvvUcWKHDVFbYZrPM1Pt4=\");\n\n_c2 = Id_name;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Return_component\");\n$RefreshReg$(_c2, \"Id_name\");","map":{"version":3,"sources":["/Users/admin/Downloads/code/dajia/frontend/src/page/backend_component/data_input.js"],"names":["React","useEffect","useRef","useState","useParams","select_emp_name_id","Loading","virtual_table","arr","itemSize","screenHeight","scrollTop","bufferSize","visibleCount","Return_component","number","page","arr_params","ele","article_page","arrHeight","length","now_item","set_now_item","startIndex","setStartIndex","endIndex","setEndIndex","offset","setoffset","itemOffset","setItemoffset","console","log","render_display","onScroll","e","Top","current","startidx","Math","floor","endidx","startoffset","originStartIdx","max","min","content","i","Height","Zindex","Bgcolor","Boxshadow","Color","push","index","Style","boxShadow","height","backgroundColor","zIndex","color","position","left","right","top","window","sessionStorage","setItem","JSON","stringify","Array","getItem","slice","map","item","style_arr","parse","Id_name","set","component_state","style","item_index","rowitem_ref","setTop","clientHeight","width","overflow"],"mappings":"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","sourcesContent":["import React, { useEffect,useRef,useState} from \"react\"\nimport { useParams } from \"react-router-dom\"\nimport { select_emp_name_id } from \"../api\"\nimport { Loading } from \"./loading\"\n\n\n\nexport function virtual_table(arr,itemSize,screenHeight,scrollTop){\n\n\n}\nconst itemSize=30\nconst bufferSize=20\nconst screenHeight=500\nconst visibleCount=screenHeight/itemSize\n\n\nexport function Return_component({number,page,arr_params}){\n   \n    const ele=useRef(null)\n\n    const arr=arr_params[page]\n    const {article_page}=useParams()\n\n    const arrHeight=itemSize*arr.length\n\n    const [now_item,set_now_item]=useState()\n\n    const [startIndex,setStartIndex]=useState(0)\n    const [endIndex,setEndIndex]=useState(visibleCount)\n    const [offset,setoffset]=useState(0)\n\n   \n    const [itemOffset,setItemoffset]=useState(0)\n    useEffect(()=>{\n        console.log(startIndex,endIndex,offset)\n        \n    },[])\n    useEffect(()=>{\n       \n        setoffset(startIndex*30)\n    },[startIndex])\n    useEffect(()=>{\n        render_display(startIndex,endIndex)\n    },[now_item])\n\n    function onScroll(e){\n        var Top=ele.current.scrollTop\n        var startidx=Math.floor(Top/itemSize)\n        var endidx=startidx+visibleCount\n        var startoffset=Top - (Top % itemSize);\n        \n        console.log(startIndex,endIndex,offset)\n\n        let originStartIdx=startidx\n        \n            \n        setStartIndex(Math.max(originStartIdx - bufferSize, 0))\n        setEndIndex(Math.min(\n            originStartIdx + visibleCount + bufferSize,\n            arr.length - 1\n        ))\n        render_display(startIndex,endIndex)\n        \n        \n    };\n\n\n    function render_display(startidx,endidx){\n        const content = [];\n        for(let i=startidx;i<=endidx;++i){\n            var Height=''\n            var Zindex=0\n            var Bgcolor=''\n            var Boxshadow=''\n            var Color=''\n            var Top=i * itemSize+'px'\n            if(now_item===i){\n\n                Height=''\n                Zindex=15\n                Bgcolor='rgb(255,255,255)'\n                Boxshadow='2px 2px 10px rgb(112,128,144)'\n                Color='rgb(0,0,0)'\n            }\n            else{\n                Height=itemSize+'px'\n                Zindex=''\n                Bgcolor=''\n                Boxshadow=''\n                Color=''\n            }\n            if(i>now_item){\n                Top=itemOffset+i * itemSize+'px'\n            }\n        \n            content.push({\n                index:i,\n                Style:\n                {\n                    boxShadow:Boxshadow,\n                    height:Height,\n                    backgroundColor:Bgcolor,\n                    zIndex:Zindex,\n                    color:Color,\n                \n                    position: \"absolute\",\n                    \n                    left: 0,\n                    right: 0,\n                    top: Top\n                }\n            })\n\n                \n\n        }\n        window.sessionStorage.setItem('style_arr',JSON.stringify(content))\n\n    }\n\n        \n        return(                \n            <>\n                \n                <div  ref={ele} \n                    onScroll={onScroll} \n                    style={(arr&&arrHeight>screenHeight)||(arr&&arr.length===0)\n                        ?{height:`${screenHeight}px`}\n                        :{height:`${0}px`}}\n                    className=\"all_employee\">\n\n                <div style={{height:`${arrHeight}px`}} \n                    className=\"employee\">\n\n                    <div \n                        \n                        className=\"employee_container\">\n\n                                {\n                                    arr instanceof Array && arr.length>0 &&window.sessionStorage.getItem('style_arr')\n                                    ? arr.slice(startIndex,endIndex).map((item,index)=>{\n                                        render_display(startIndex,endIndex)\n                                        var style_arr=JSON.parse(window.sessionStorage.getItem('style_arr'))[index]\n                                        \n                                        \n                                        return(\n                                            <>\n                                            <Id_name \n                                            setItemoffset={setItemoffset}\n                                            item_index={style_arr.index}\n                                            style={style_arr.Style}\n                                            startIndex={startIndex}\n                                            set={set_now_item}\n                                            now_item={now_item}\n                                            component_state={number} \n                                            key={index}\n                                            item={item} \n                                            index={index} />\n                                            </>\n                                        )\n                                    })\n                                    :<Loading/>\n                                }\n                    </div>\n                </div>\n                </div>\n            \n            </>)\n}\n\nexport function Id_name({set,now_item,item,index,component_state,style,startIndex,item_index,setItemoffset}){\n    const rowitem_ref=useRef(null)\n    const [Top,setTop]=useState(0)\n    useEffect(()=>{\n        if(item_index>now_item){\n            \n            setTop(rowitem_ref.current.clientHeight)\n        }\n        else{\n            setTop(0)\n        }\n    },[])\n\n        if(component_state===1){\n            return(\n                <>\n                        \n                            <div ref={rowitem_ref} \n                                className=\"row_container\" \n                                onClick={()=>{\n                                    setItemoffset(rowitem_ref.current.clientHeight)\n                                    set(item_index)}}\n                                        style={{...style,top:style.top+Top}}>\n                                <div style={{width:'2vw'}}><div>{item[0]}</div></div> \n                                <div style={{width:'5vw'}}><div>{item[1]}</div></div>\n                                <div style={{width:'40vw',overflow:'hidden',height:style.height}}>{item[2]}</div>\n                                <input style={{width:'2vw'}} placeholder={item[4]} type='text'/>\n                                <input style={{width:'2vw'}} placeholder={item[5]} type='text'/>\n                                <input style={{width:'2vw'}} placeholder={item[6]} type='text'/>\n                                <input style={{width:'2vw'}} placeholder={item[7]} type='text'/>\n                                <input style={{width:'2vw'}} placeholder={item[8]} type='text'/>\n                                <input style={{width:'4vw'}} placeholder={item[9]} type='text'/>\n                                <textarea defaultValue={item[10]} maxLength={50} style={{width:'20vw'}}></textarea>\n                                <input style={{width:'2vw'}} placeholder={item[11]} type='text'/>\n                                <input style={{width:'2vw'}} vplaceholder={item[12]} type='text'/>\n                                \n                            </div>\n                        \n                </>\n            )\n        }\n        else if(component_state===2){\n            return(\n                <>\n                <input placeholder={item[0]}  type='text'/>\n                <input placeholder={item[1]} type='text'/>\n                <input placeholder={item[2]} type='text'/>\n                <input placeholder={item[3]} type='text'/><br/>\n                </>\n            )\n\n        }\n        else{\n            return(\n                <>\n                <input placeholder={item[0]}  type='text'/>\n                <input placeholder={item[1]} type='text'/><br/>\n                </>\n            )\n            \n        }\n\n\n}"]},"metadata":{},"sourceType":"module"}