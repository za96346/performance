{"ast":null,"code":"import _slicedToArray from\"/Users/admin/Downloads/code/dajia/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Article from\"./backend_component/article\";import Sidebar from\"./backend_component/sidebar\";import Title from\"./backend_component/title\";import{article_bar_arr,manager_sidebar}from\"./api\";import{personal_sidebar}from\"./api\";import{log_out}from\"./api\";import{useNavigate,useParams}from\"react-router-dom\";import{useEffect,useState,useCallback}from\"react\";import{sequential_search}from\"./ algorithm/sequential_search\";import{useRef}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Manager=function Manager(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),synchronize=_useState2[0],synchronize_update=_useState2[1];//設定同步頁面\nvar _useParams=useParams(),page=_useParams.page;var _useParams2=useParams(),article_page=_useParams2.article_page;var navigate=useNavigate();var combine=manager_sidebar().concat(personal_sidebar,log_out);var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],set_data=_useState4[1];var account=window.sessionStorage.getItem('account');//article_bar_arr=['首頁','年度考核分數','每月考核績效']\n//personal_sidebar=['個人年度目標','每月考核績效','年度考核分數'];\nvar identifyCallback=useCallback(function(){function identify(){if(page!=='登出'){var year_perform=JSON.parse(window.sessionStorage.getItem('year_performance'))[page];var manager_personal_year=JSON.parse(window.sessionStorage.getItem('year_performance'))['manager_personal'];var month_perform=JSON.parse(window.sessionStorage.getItem('data'))[page];var manager_personal_month=JSON.parse(window.sessionStorage.getItem('data'))['manager_personal'];if(article_page===article_bar_arr[1]){set_data(year_perform.length>0?year_perform:[]);}else if(article_page===article_bar_arr[2]){set_data(month_perform.length>0?month_perform:[]);}else if(page===personal_sidebar[0]){set_data([]);}else if(page===personal_sidebar[1]){set_data(manager_personal_month.length>0?manager_personal_month:[]);}else if(page===personal_sidebar[2]){set_data(manager_personal_year.length>0?manager_personal_year:[]);}else{var value=JSON.parse(window.sessionStorage.getItem('banch_index'))[page];set_data(value.length>0?value:[]);}}}console.log('\\n\\n\\n\\n\\n\\nchange\\n\\n\\n\\n\\n\\n\\n\\n');identify();},[synchronize,article_page,page]);useEffect(function(){identifyCallback();},[identifyCallback]);useEffect(function(){if(combine.indexOf(page)===-1){navigate('/access====>error');}else if(personal_sidebar.indexOf(page)!==-1&&article_page){navigate('/page====>error');}else if(article_page){if(personal_sidebar.indexOf(article_page)===-1){navigate('/access====>error');}}});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"head\",children:[/*#__PURE__*/_jsx(Title,{sidebar_arr:manager_sidebar()}),/*#__PURE__*/_jsx(Sidebar,{sidebar_arr:combine,style:\"lesssmall\"}),/*#__PURE__*/_jsx(Sidebar,{sidebar_arr:combine,style:\"small\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"body\",children:[/*#__PURE__*/_jsx(Sidebar,{sidebar_arr:combine,style:\"large\"}),/*#__PURE__*/_jsx(Article,{data:data,synchronize:synchronize,synchronize_update:synchronize_update})]})]});};export default Manager;","map":{"version":3,"sources":["/Users/admin/Downloads/code/dajia/frontend/src/page/manager.js"],"names":["Article","Sidebar","Title","article_bar_arr","manager_sidebar","personal_sidebar","log_out","useNavigate","useParams","useEffect","useState","useCallback","sequential_search","useRef","Manager","synchronize","synchronize_update","page","article_page","navigate","combine","concat","data","set_data","account","window","sessionStorage","getItem","identifyCallback","identify","year_perform","JSON","parse","manager_personal_year","month_perform","manager_personal_month","length","value","console","log","indexOf"],"mappings":"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","sourcesContent":["import Article from \"./backend_component/article\";\nimport Sidebar from \"./backend_component/sidebar\";\nimport Title from \"./backend_component/title\";\nimport { article_bar_arr, manager_sidebar } from \"./api\";\nimport { personal_sidebar } from \"./api\";\nimport { log_out } from \"./api\";\nimport { useNavigate,useParams } from \"react-router-dom\";\nimport { useEffect,useState,useCallback } from \"react\";\nimport { sequential_search } from \"./ algorithm/sequential_search\";\nimport { useRef } from \"react\";\nconst Manager=()=>{\n    const [synchronize,synchronize_update]=useState(false)//設定同步頁面\n    const {page}=useParams()\n    const {article_page}=useParams()\n    const navigate=useNavigate()\n    const combine=manager_sidebar().concat(personal_sidebar,log_out)\n    const [data,set_data]=useState([])\n    var account=window.sessionStorage.getItem('account')\n\n\n    //article_bar_arr=['首頁','年度考核分數','每月考核績效']\n    //personal_sidebar=['個人年度目標','每月考核績效','年度考核分數'];\n    const identifyCallback=useCallback(()=>{\n\n        function identify(){\n            if(page!=='登出'){\n                var year_perform=JSON.parse(window.sessionStorage.getItem('year_performance'))[page]\n                var manager_personal_year=JSON.parse(window.sessionStorage.getItem('year_performance'))['manager_personal']\n                \n                var month_perform=JSON.parse(window.sessionStorage.getItem('data'))[page]\n                var manager_personal_month=JSON.parse(window.sessionStorage.getItem('data'))['manager_personal']\n                if(article_page===article_bar_arr[1]){\n                    set_data(year_perform.length>0?year_perform:[])\n                }\n                else if(article_page===article_bar_arr[2]){\n                    set_data(month_perform.length>0?month_perform:[])\n                }\n                else if(page===personal_sidebar[0]){\n                    set_data([])\n                }\n                else if(page===personal_sidebar[1]){\n                    set_data(manager_personal_month.length>0?manager_personal_month:[])\n                }\n                else if(page===personal_sidebar[2]){\n                    set_data(manager_personal_year.length>0?manager_personal_year:[])\n                }\n                else{\n                    var value=JSON.parse(window.sessionStorage.getItem('banch_index'))[page]\n                    set_data(value.length>0?value:[])\n                }\n            }\n        }\n        console.log('\\n\\n\\n\\n\\n\\nchange\\n\\n\\n\\n\\n\\n\\n\\n')\n        identify()\n    },[synchronize,article_page,page])\n\n\n\n    useEffect(()=>{\n        identifyCallback()\n    },[identifyCallback])\n\n    useEffect(() => {\n        if(combine.indexOf(page)===-1){\n            navigate('/access====>error')\n        }else if(personal_sidebar.indexOf(page)!==-1 && article_page ){\n            navigate('/page====>error')\n        }\n        else if(article_page){\n            if(personal_sidebar.indexOf(article_page)===-1){\n                navigate('/access====>error')\n            }\n        }\n    });\n    \n    return(\n    \n    <>\n    <div className=\"head\">\n        <Title sidebar_arr={manager_sidebar()}/>\n        <Sidebar sidebar_arr={combine} style={\"lesssmall\"} />\n        <Sidebar sidebar_arr={combine} style={\"small\"} />\n    </div>\n\n    <div className=\"body\"> \n        <Sidebar sidebar_arr={combine} style={\"large\"}/>\n        <Article data={data} synchronize={synchronize} synchronize_update={synchronize_update}/>\n    </div>\n    </>\n    \n    )\n}\nexport default Manager;"]},"metadata":{},"sourceType":"module"}