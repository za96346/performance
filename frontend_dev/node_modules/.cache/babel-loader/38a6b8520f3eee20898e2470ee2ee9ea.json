{"ast":null,"code":"import _toConsumableArray from\"/Users/admin/Downloads/code/dajia/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/admin/Downloads/code/dajia/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from\"react\";import{useParams}from\"react-router-dom\";import{fixed_title,fixed_title_emp,group_change,position_arr}from\"../api\";import{rule_num_letter,rule_num,search,obj_to_arr,update,check_and_recatch_data}from\"../method/method_func\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function Return_component(props){var page_data_arr=props.page_data_arr,set_page_data_arr=props.set_page_data_arr,number=props.number,page=props.page,arr_params=props.arr_params,set_new_emp=props.set_new_emp,synchronize_update=props.synchronize_update,set_confirm_data=props.set_confirm_data,confirm_data=props.confirm_data;var itemSize=30;var bufferSize=20;var screenHeight=0;number===5?screenHeight=200:screenHeight=500;var visibleCount=screenHeight/itemSize;var fixed_title_size=40;var ele=useRef(null);var arr=arr_params;var _useParams=useParams(),article_page=_useParams.article_page;var arrHeight=itemSize*arr.length;var _useState=useState(),_useState2=_slicedToArray(_useState,2),now_item=_useState2[0],set_now_item=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),startIndex=_useState4[0],setStartIndex=_useState4[1];var _useState5=useState(visibleCount),_useState6=_slicedToArray(_useState5,2),endIndex=_useState6[0],setEndIndex=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),offset=_useState8[0],setoffset=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),itemOffset=_useState10[0],setItemoffset=_useState10[1];useEffect(function(){setoffset(startIndex*30);},[startIndex]);useEffect(function(){setStartIndex(0);setEndIndex(Math.min(visibleCount+bufferSize,arr.length));},[arr,page]);function onScroll(e){var Top=ele.current.scrollTop;var startidx=Math.floor(Top/itemSize);var endidx=startidx+visibleCount;var startoffset=Top-Top%itemSize;console.log(startIndex,endIndex,offset);var originStartIdx=startidx;setStartIndex(Math.max(originStartIdx-bufferSize,0));setEndIndex(Math.min(originStartIdx+visibleCount+bufferSize,arr.length));console.log(arr.length);};function render_display(startidx,endidx,now_item,itemOffset){var content=[];for(var i=startidx;i<=endidx;++i){var Height='';var Zindex=0;var Bgcolor='';var Boxshadow='';var Color='';var Top=i*itemSize+fixed_title_size+'px';if(now_item===i){Height=itemOffset+'px';Zindex=15;Bgcolor='rgb(255,255,255)';Boxshadow='2px 2px 10px rgb(112,128,144)';Color='rgb(0,0,0)';}else{Height=itemSize+'px';Zindex='';Bgcolor='';Boxshadow='';Color='';}if(i>now_item){Top=itemOffset+i*itemSize+fixed_title_size+'px';}content.push({index:i,Style:{transition:'all 0.2s linear',boxShadow:Boxshadow,height:Height,backgroundColor:Bgcolor,zIndex:Zindex,color:Color,position:\"absolute\",left:0,right:0,top:Top}});}return content;}return/*#__PURE__*/_jsx(\"div\",{ref:ele,onScroll:onScroll,style:arr&&arrHeight>screenHeight||arr&&arr.length===0?{height:\"\".concat(screenHeight,\"px\")}:{height:\"\".concat(screenHeight,\"px\")},className:\"all_employee\",children:/*#__PURE__*/_jsxs(\"div\",{style:article_page!=='每月考核績效'&&page!=='每月考核績效'?{height:\"\".concat(arrHeight+itemOffset+fixed_title_size,\"px\"),width:'100%'}:{height:\"\".concat(arrHeight+itemOffset+fixed_title_size,\"px\"),width:'900px'},className:\"employee\",children:[/*#__PURE__*/_jsx(Fixed_title,{component_state:number}),/*#__PURE__*/_jsx(\"div\",{className:\"employee_container\",children:arr instanceof Array&&arr.length>0?arr.slice(startIndex,endIndex).map(function(item,index){var style_content=render_display(startIndex,endIndex,now_item,itemOffset);var style_arr=style_content[index];return/*#__PURE__*/_jsx(Id_name,{confirm_data:confirm_data,set_confirm_data:set_confirm_data,synchronize_update:synchronize_update//同步狀態更新\n,page_data_arr:page_data_arr,set_new_emp:set_new_emp,setItemoffset:setItemoffset,item_index:style_arr.index,style:style_arr.Style,set_page_data_arr:set_page_data_arr,set:set_now_item,component_state:number,item:item},style_arr.index);}):/*#__PURE__*/_jsx(_Fragment,{})})]})});}export function Id_name(props){var page_data_arr=props.page_data_arr,set_page_data_arr=props.set_page_data_arr,set=props.set,item=props.item,component_state=props.component_state,style=props.style,set_new_emp=props.set_new_emp,item_index=props.item_index,setItemoffset=props.setItemoffset,synchronize_update=props.synchronize_update,set_confirm_data=props.set_confirm_data,confirm_data=props.confirm_data;var rowitem_ref=useRef(null);var textarea1_ref=useRef(null);var textarea2_ref=useRef(null);var timeout=useRef(null);var composition=useRef(false);var reCatchData=useRef(false);var token=window.sessionStorage.getItem('token');var _useParams2=useParams(),page=_useParams2.page;var data=JSON.parse(window.sessionStorage.getItem('banch_index'));var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),toggle=_useState12[0],set_toggle=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),bg=_useState14[0],set_bg=_useState14[1];var value=useRef({});useEffect(function(){if(component_state===1){//每月考核績效\nvalue.current={id:item[0]||'',name:item[1]||'',goal:item[2]||'',account:item[3],year:parseInt(item[4])||0,month:parseInt(item[5])||0,attitude:parseInt(item[6])||0,efficient:parseInt(item[7])||0,professional:parseInt(item[8])||0,award:(item[6]+item[7]+item[8])*100||0,describes:item[9]||'',be_late:parseInt(item[10])||0,day_off_not_on_rule:parseInt(item[11])||0};}else if(component_state===4||component_state===6){//console.log(`item:[${item}]    item_index:${item_index}`)\n//各組首頁\nvalue.current={account:item[0]==='+'?'':item[0]||'',password:item[1]||'',name:item[2]||'',group:item[3]||'',id:item[4]||'',onWorkDay:item[5]||'',position:item[6]||'',workState:item[7]==='on'?'on':'off'};}},[item,component_state]);useEffect(function(){item[7]==='on'?set_toggle({marginLeft:'20px'}):set_toggle({marginRight:'20px'});item[7]==='on'?set_bg({backgroundColor:'rgb(136,255,136)'}):set_bg({backgroundColor:''});},[value.current.workState,item]);function autoSave(e){var values=e.target.value;var name=e.target.name;clearTimeout(timeout.current);set_new_emp('更改中');if(component_state===1&&!composition.current){if(name==='goal'){value.current.goal=values;}else if(name==='attitude'){value.current.attitude=rule_num(e,10);}else if(name==='efficient'){value.current.efficient=rule_num(e,10);}else if(name==='professional'){value.current.professional=rule_num(e,10);}else if(name==='describes'){value.current.describes=values;}else if(name==='be_late'){value.current.be_late=rule_num(e,100);}else if(name==='day_off_not_on_rule'){value.current.day_off_not_on_rule=rule_num(e,100);}//每次去計算 award 績效獎金\nvalue.current.award=(value.current.attitude+value.current.efficient+value.current.professional)*100;timeout.current=setTimeout(function(){set_new_emp('存取中...');update(obj_to_arr(value.current),set_new_emp);},500);}else if(component_state===4&&!composition.current){if(name==='id'){value.current.id=rule_num_letter(e);reCatchData.current=true;}else if(name==='name'){value.current.name=values;reCatchData.current=true;}else if(name==='group'){value.current.group=values;}else if(name==='account'){var return_status=window.confirm(\"\\u78BA\\u5B9A\\u5E33\\u865F\\u70BA'\".concat(values,\"'?\\n\\u78BA\\u8A8D\\u5F8C\\u7121\\u6CD5\\u66F4\\u6539\"));if(return_status===true){value.current.account=rule_num_letter(e);reCatchData.current=true;}else{return;}}else if(name==='password'){value.current.password=rule_num_letter(e);}else if(name==='onWorkDay'){value.current.onWorkDay=rule_num(e,10000);}else if(name==='position'){value.current.position=values;}else if(name==='workState'){value.current.workState==='on'?value.current.workState='off':value.current.workState='on';reCatchData.current=true;}timeout.current=setTimeout(function(){set_new_emp('存取中...');console.log('useeffect',value.current);var list=search(page_data_arr,item_index,obj_to_arr(value.current),reCatchData.current,synchronize_update);data[page]=list;window.sessionStorage.setItem('banch_index',JSON.stringify(data));var new_data=JSON.parse(window.sessionStorage.getItem('banch_index'))[page];set_page_data_arr([].concat(_toConsumableArray(new_data),[['+']]));setTimeout(function(){set_new_emp('已儲存變更');},500);},500);}else if(component_state===6&&!composition.current){if(name==='group'){value.current.group=values;}timeout.current=setTimeout(function(){//api\nset_new_emp('存取中...');group_change(token,[value.current.account,value.current.group]);//check_and_recatch_data(token,synchronize_update,1000)\nsetTimeout(function(){set_new_emp('已儲存變更');},500);},500);}}function get_scrollHeight(e){set(item_index);var name=e.target.name;var timer;if(textarea1_ref.current.value.length>textarea2_ref.current.value.length){if(textarea1_ref.current.scrollHeight){timer=setInterval(function(){setItemoffset(textarea1_ref.current.scrollHeight);clearInterval(timer);},10);}}else{if(textarea2_ref.current.scrollHeight){timer=setInterval(function(){setItemoffset(textarea2_ref.current.scrollHeight);clearInterval(timer);},10);}}}function get_clientHeight(){set(item_index);if(rowitem_ref.current.clientHeight){var timer=setInterval(function(){setItemoffset(rowitem_ref.current.clientHeight);clearInterval(timer);},100);}}function composition_method(e){var isChrome=!!window.chrome&&!!window.chrome.webstore;console.log('e.target.value',e.target.value);if(e.type==='compositionstart'){composition.current=true;console.log('e.type:',e.type);console.log('composition:',composition);}else if(e.type==='compositionend'){composition.current=false;console.log('e.type:',e.type);console.log('composition:',composition);autoSave(e);if(!composition&&isChrome){// fire onChange\n}}}function change_confirm_data(e){//新增年度\nvar values=e.target.value;var name=e.target.name;var arr=confirm_data.map(function(item){if(item[0]===name){return[item[0],item[1],values];}return item;});set_confirm_data(arr);}if(component_state===1){var readOnly=page==='每月考核績效'?true:false;var permession=window.sessionStorage.getItem('permession');return/*#__PURE__*/_jsxs(\"div\",{className:\"row_container\",onClick:get_scrollHeight,style:style,children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'2vw'},readOnly:true,children:value.current.id}),/*#__PURE__*/_jsx(\"div\",{style:{width:'5vw',overflow:'hidden',height:style.height},children:value.current.name}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"textarea\",{ref:textarea1_ref,name:\"goal\",defaultValue:value.current.goal,onInput:function onInput(e){autoSave(e);get_scrollHeight(e);},style:{width:'30vw',height:style.height}})}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},defaultValue:value.current.year,readOnly:true}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},defaultValue:value.current.month,readOnly:true}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},name:\"attitude\",onInput:function onInput(e){return autoSave(e);},defaultValue:value.current.attitude,type:\"text\",readOnly:readOnly}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},name:\"efficient\",onInput:function onInput(e){return autoSave(e);},defaultValue:value.current.efficient,type:\"text\",readOnly:readOnly}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},name:\"professional\",onInput:function onInput(e){return autoSave(e);},defaultValue:value.current.professional,type:\"text\",readOnly:readOnly}),/*#__PURE__*/_jsx(\"input\",{style:{width:'4vw',display:permession!=='admin'?'none':'block'},name:\"award\",onInput:function onInput(e){return autoSave(e);},defaultValue:value.current.award,type:\"text\",readOnly:true}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"textarea\",{ref:textarea2_ref,name:\"describes\",defaultValue:value.current.describes,onInput:function onInput(e){autoSave(e);get_scrollHeight(e);},style:{width:'20vw',height:style.height},readOnly:readOnly})}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},name:\"be_late\",onInput:function onInput(e){return autoSave(e);},defaultValue:value.current.be_late,type:\"text\",readOnly:readOnly}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},name:\"day_off_not_on_rule\",onInput:function onInput(e){return autoSave(e);},defaultValue:value.current.day_off_not_on_rule,type:\"text\",readOnly:readOnly})]});}else if(component_state===2){return/*#__PURE__*/_jsxs(\"div\",{ref:rowitem_ref,className:\"row_container2\",onClick:get_clientHeight,style:style,children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'2vw'},children:/*#__PURE__*/_jsx(\"div\",{children:item[0]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'5vw',overflow:'hidden',height:style.height},children:/*#__PURE__*/_jsx(\"div\",{children:item[1]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'2vw'},children:item[3]}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'2vw'},children:[item[4],\" \"]})]});}else if(component_state===3){return/*#__PURE__*/_jsxs(\"div\",{ref:rowitem_ref,className:\"row_container2\",onClick:get_clientHeight,style:style,children:[/*#__PURE__*/_jsx(\"input\",{style:{width:'10vw'},placeholder:item[0],type:\"text\"}),/*#__PURE__*/_jsx(\"input\",{style:{width:'10vw',overflow:'hidden',height:style.height},placeholder:item[1],type:\"text\"})]});}else if(component_state===4){if(item[0]==='+'){return/*#__PURE__*/_jsx(\"div\",{ref:rowitem_ref,className:\"row_container\",onClick:function onClick(){var page_data=page_data_arr.slice(0,page_data_arr.length-1);set_page_data_arr([].concat(_toConsumableArray(page_data),[['','','',page,'','',position_arr[0],'on'],['+']]));get_clientHeight();},style:style,children:item});}else{return/*#__PURE__*/_jsxs(\"div\",{ref:rowitem_ref,className:\"row_container\",onClick:function onClick(){get_clientHeight();},style:style,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},onInput:autoSave,name:'id',defaultValue:value.current.id,type:\"text\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{onCompositionEnd:function onCompositionEnd(e){composition_method(e);},onCompositionStart:function onCompositionStart(e){return composition_method(e);},style:{width:'10vw',overflow:'hidden',height:style.height},onInput:autoSave,name:'name',defaultValue:value.current.name,type:\"text\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{style:{width:'3vw'},onInput:autoSave,name:'group',defaultValue:value.current.group,type:\"text\",readOnly:true})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{disabled:value.current.account!==''?true:false,style:{width:'10vw'},onInput:autoSave,onBlur:function onBlur(e){composition.current=false;autoSave(e);},onFocus:function onFocus(){composition.current=true;},onKeyDown:function onKeyDown(e){if(e.key==='Enter'||e.key==='enter'){composition.current=false;autoSave(e);}},name:'account',defaultValue:value.current.account,type:\"text\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{style:{width:'10vw'},onInput:autoSave,name:'password',defaultValue:value.current.password,type:\"text\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},onInput:autoSave,name:'onWorkDay',defaultValue:value.current.onWorkDay,type:\"text\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"select\",{style:{width:'10vw'},value:value.current.position,onInput:autoSave,name:'position',children:position_arr.map(function(items,index){return/*#__PURE__*/_jsx(\"option\",{children:items},index);})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{onInput:autoSave,name:'workState',type:\"checkbox\",className:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"btn-box\",style:bg,children:/*#__PURE__*/_jsx(\"span\",{className:\"btn\",style:toggle})})]})})]});}}else if(component_state===5){return/*#__PURE__*/_jsxs(\"div\",{ref:rowitem_ref,className:\"row_container2\",onClick:get_clientHeight,style:style,children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'10%'},children:item[4]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'10%'},children:item[2]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'10%'},children:/*#__PURE__*/_jsx(\"input\",{onChange:change_confirm_data,name:item[0],value:'yes',type:\"radio\",defaultChecked:true})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'10%'},children:/*#__PURE__*/_jsx(\"input\",{onChange:change_confirm_data,name:item[0],value:'no',type:\"radio\"})})]});}else if(component_state===6){return/*#__PURE__*/_jsxs(\"div\",{ref:rowitem_ref,className:\"row_container\",onClick:function onClick(){get_clientHeight();},style:style,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},onInput:autoSave,name:'id',defaultValue:value.current.id,type:\"text\",readOnly:true})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{onCompositionEnd:function onCompositionEnd(e){composition_method(e);},onCompositionStart:function onCompositionStart(e){return composition_method(e);},style:{width:'10vw',overflow:'hidden',height:style.height},onInput:autoSave,name:'name',defaultValue:value.current.name,type:\"text\",readOnly:true})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{style:{width:'3vw'},onInput:autoSave,name:'group',defaultValue:value.current.group,type:\"text\"})})]});}}export function Fixed_title(_ref){var component_state=_ref.component_state;if(component_state===1){var permession=window.sessionStorage.getItem('permession');return/*#__PURE__*/_jsxs(\"div\",{className:'row_container',id:'fixed_title',children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'2vw'},children:fixed_title[0]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'5vw'},children:fixed_title[1]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'30vw',overflow:'hidden'},children:fixed_title[2]}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},disabled:true,defaultValue:fixed_title[3],type:\"text\"}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},disabled:true,defaultValue:fixed_title[4],type:\"text\"}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},disabled:true,defaultValue:fixed_title[5],type:\"text\"}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},disabled:true,defaultValue:fixed_title[6],type:\"text\"}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},disabled:true,defaultValue:fixed_title[7],type:\"text\"}),/*#__PURE__*/_jsx(\"input\",{style:{width:'4vw',display:permession!=='admin'?'none':'block'},disabled:true,defaultValue:fixed_title[8],type:\"text\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:'20vw'},children:fixed_title[9]}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},disabled:true,defaultValue:fixed_title[10],type:\"text\"}),/*#__PURE__*/_jsx(\"input\",{style:{width:'2vw'},disabled:true,defaultValue:fixed_title[11],type:\"text\"})]});}else if(component_state===2){return/*#__PURE__*/_jsxs(\"div\",{className:'row_container2',id:'fixed_title',children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'2vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title[0]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'5vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title[1]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'2vw'},children:fixed_title[3]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'2vw'},children:fixed_title[12]})]});}else if(component_state===3){return/*#__PURE__*/_jsxs(\"div\",{className:'row_container2',id:'fixed_title',children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'10vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title[0]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'10vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title[1]})})]});}else if(component_state===4){return/*#__PURE__*/_jsxs(\"div\",{className:'row_container',id:'fixed_title',children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'2vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title_emp[0]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'10vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title_emp[1]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'3vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title_emp[2]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'10vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title_emp[3]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'10vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title_emp[4]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'2vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title_emp[5]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'10vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title_emp[6]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'3vw'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title_emp[7]})})]});}else if(component_state===5){return/*#__PURE__*/_jsxs(\"div\",{className:'row_container2',id:'fixed_title',children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'10%'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title_emp[0]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'10%'},children:/*#__PURE__*/_jsx(\"div\",{children:fixed_title_emp[1]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'10%'},children:\"\\u65B0\\u589E\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:'10%'},children:\"\\u4E0D\\u65B0\\u589E\"})]});}};","map":{"version":3,"sources":["/Users/admin/Downloads/code/dajia/frontend/src/page/backend_component/data_input.js"],"names":["React","useEffect","useRef","useState","useParams","fixed_title","fixed_title_emp","group_change","position_arr","rule_num_letter","rule_num","search","obj_to_arr","update","check_and_recatch_data","Return_component","props","page_data_arr","set_page_data_arr","number","page","arr_params","set_new_emp","synchronize_update","set_confirm_data","confirm_data","itemSize","bufferSize","screenHeight","visibleCount","fixed_title_size","ele","arr","article_page","arrHeight","length","now_item","set_now_item","startIndex","setStartIndex","endIndex","setEndIndex","offset","setoffset","itemOffset","setItemoffset","Math","min","onScroll","e","Top","current","scrollTop","startidx","floor","endidx","startoffset","console","log","originStartIdx","max","render_display","content","i","Height","Zindex","Bgcolor","Boxshadow","Color","push","index","Style","transition","boxShadow","height","backgroundColor","zIndex","color","position","left","right","top","width","Array","slice","map","item","style_content","style_arr","Id_name","set","component_state","style","item_index","rowitem_ref","textarea1_ref","textarea2_ref","timeout","composition","reCatchData","token","window","sessionStorage","getItem","data","JSON","parse","toggle","set_toggle","bg","set_bg","value","id","name","goal","account","year","parseInt","month","attitude","efficient","professional","award","describes","be_late","day_off_not_on_rule","password","group","onWorkDay","workState","marginLeft","marginRight","autoSave","values","target","clearTimeout","setTimeout","return_status","confirm","list","setItem","stringify","new_data","get_scrollHeight","timer","scrollHeight","setInterval","clearInterval","get_clientHeight","clientHeight","composition_method","isChrome","chrome","webstore","type","change_confirm_data","readOnly","permession","overflow","display","page_data","key","items","Fixed_title"],"mappings":"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","sourcesContent":["import React, { useEffect,useRef,useState} from \"react\"\nimport {  useParams } from \"react-router-dom\"\nimport { fixed_title,fixed_title_emp,group_change,position_arr } from \"../api\"\nimport { rule_num_letter,rule_num,search,obj_to_arr, update, check_and_recatch_data } from \"../method/method_func\"\n\n\n\nexport function Return_component(props){\n    var {page_data_arr\n        ,set_page_data_arr\n        ,number,page\n        ,arr_params\n        ,set_new_emp\n        ,synchronize_update\n        ,set_confirm_data\n        ,confirm_data\n    }=props\n\n    const itemSize=30\n    const bufferSize=20\n    var screenHeight=0\n    number===5\n    ?screenHeight=200\n    :screenHeight=500\n    const visibleCount=screenHeight/itemSize\n    const fixed_title_size=40\n   \n    const ele=useRef(null)\n\n    const arr=arr_params\n    const {article_page}=useParams()\n\n\n    const arrHeight=itemSize*arr.length\n\n    const [now_item,set_now_item]=useState()\n\n\n    const [startIndex,setStartIndex]=useState(0)\n    const [endIndex,setEndIndex]=useState(visibleCount)\n    const [offset,setoffset]=useState(0)\n\n    const [itemOffset,setItemoffset]=useState(0)\n\n    useEffect(()=>{\n       \n        setoffset(startIndex*30)\n    },[startIndex])\n    useEffect(()=>{\n        setStartIndex(0)\n        setEndIndex(Math.min(\n            visibleCount + bufferSize,\n            arr.length\n        ))\n    },[arr,page])\n    function onScroll(e){\n        var Top=ele.current.scrollTop\n        var startidx=Math.floor(Top/itemSize)\n        var endidx=startidx+visibleCount\n        var startoffset=Top - (Top % itemSize);\n        \n        console.log(startIndex,endIndex,offset)\n\n        let originStartIdx=startidx\n        \n        setStartIndex(Math.max(originStartIdx - bufferSize, 0))\n        setEndIndex(Math.min(\n            originStartIdx + visibleCount + bufferSize,\n            arr.length\n        ))\n        console.log(arr.length)\n\n    };  \n\n    function render_display(startidx,endidx,now_item,itemOffset){\n        const content = [];\n        for(let i=startidx;i<=endidx;++i){\n            var Height=''\n            var Zindex=0\n            var Bgcolor=''\n            var Boxshadow=''\n            var Color=''\n            var Top=i * itemSize+fixed_title_size+'px'\n            if(now_item===i){\n    \n                Height=itemOffset+'px'\n                Zindex=15\n                Bgcolor='rgb(255,255,255)'\n                Boxshadow='2px 2px 10px rgb(112,128,144)'\n                Color='rgb(0,0,0)'\n            }\n            else{\n                Height=itemSize+'px'\n                Zindex=''\n                Bgcolor=''\n                Boxshadow=''\n                Color=''\n            }\n            if(i>now_item){\n            \n                Top=itemOffset+i * itemSize+fixed_title_size+'px'\n            }\n        \n            content.push({\n                index:i,\n                Style:\n                {\n                    transition: 'all 0.2s linear',\n                    boxShadow:Boxshadow,\n                    height:Height,\n                    backgroundColor:Bgcolor,\n                    zIndex:Zindex,\n                    color:Color,\n                \n\n                    position: \"absolute\",\n                    \n                    left: 0,\n                    right: 0,\n                    top: Top\n                }\n            })\n        }\n        return content\n    }\n    return(                \n        <div  \n            ref={ele} \n            onScroll={onScroll} \n            style={(arr&&arrHeight>screenHeight)||(arr&&arr.length===0)\n                    ?{height:`${screenHeight}px`}\n                    :{height:`${screenHeight}px`}}\n            className=\"all_employee\">\n        <div \n            style={article_page!=='每月考核績效'&&page!=='每月考核績效'\n                    ?{height:`${arrHeight+itemOffset+fixed_title_size}px`,width:'100%'}\n                    :{height:`${arrHeight+itemOffset+fixed_title_size}px`,width:'900px'}}\n            className=\"employee\">\n            <Fixed_title component_state={number}/>\n            <div className=\"employee_container\">\n                {\n                    arr instanceof Array && arr.length>0\n                    ? arr.slice(startIndex,endIndex).map((item,index)=>{\n                        var style_content=render_display(startIndex,endIndex,now_item,itemOffset)\n                        var style_arr=style_content[index]\n                        return(\n                            <Id_name \n                            confirm_data={confirm_data}\n                            set_confirm_data={set_confirm_data}\n                            synchronize_update={synchronize_update}//同步狀態更新\n                            page_data_arr={page_data_arr}\n                                set_new_emp={set_new_emp}\n                                setItemoffset={setItemoffset}\n                                item_index={style_arr.index}\n                                style={style_arr.Style}\n                                set_page_data_arr={set_page_data_arr}\n                                set={set_now_item}\n                                component_state={number}\n                                key={style_arr.index}\n                                item={item} />\n                            )\n                    })\n                    :<></>\n                }\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport function Id_name(props){\n    \n    var {page_data_arr//所有的資料  UseState state\n        ,set_page_data_arr//設定所有的資料 UseState set_state\n        ,set//設定目前onclick的元件編號item_index UseState set_state\n        ,item//每個元件中所需的資料['','','','','','','','','','']\n        ,component_state//返回對應元件的號碼 的元件種類\n        ,style//各個元件的樣式\n        ,set_new_emp//設定按鈕的字 UseState set_state ex:=>未更改 更改中 已儲存變更\n        ,item_index//每個元件的編號 獨一無二\n        ,setItemoffset//設定獲取clientHight後 所有元件對應增加的偏移量px UseState set_state\n        ,synchronize_update//設定同步畫面的出現與否 UseState set_state =>true or false\n        ,set_confirm_data\n        ,confirm_data\n    }=props\n\n    var rowitem_ref=useRef(null)\n    var textarea1_ref=useRef(null)\n    var textarea2_ref=useRef(null)\n\n    var timeout=useRef(null)\n    var composition=useRef(false)\n    var reCatchData=useRef(false)\n    var token=window.sessionStorage.getItem('token')\n    const {page}=useParams()\n\n    var data=JSON.parse(window.sessionStorage.getItem('banch_index'))\n    const [toggle,set_toggle]=useState()\n    const [bg,set_bg]=useState()\n    const value=useRef({})\n\n\n    useEffect(()=>{\n        \n        if(component_state===1){\n            //每月考核績效\n\n            value.current={\n                id:item[0]||'',\n                name:item[1]||'',\n                goal:item[2]||'',\n                account:item[3],\n                year:parseInt(item[4])||0,\n                month:parseInt(item[5])||0,\n                attitude:parseInt(item[6])||0,\n                efficient:parseInt(item[7])||0,\n                professional:parseInt(item[8])||0,\n                award:(item[6]+item[7]+item[8])*100||0,\n                describes:item[9]||'',\n                be_late:parseInt(item[10])||0,\n                day_off_not_on_rule:parseInt(item[11])||0\n            }\n        }\n        else if(component_state===4 ||component_state===6){\n            //console.log(`item:[${item}]    item_index:${item_index}`)\n            //各組首頁\n            value.current={\n                account:item[0]==='+'?'':item[0]||'',\n                password:item[1]||'',\n                name:item[2]||'',\n                group:item[3]||'',\n                id:item[4]||'',\n                onWorkDay:item[5]||'',\n                position:item[6]||'',\n                workState:item[7]==='on'?'on':'off'\n            }\n        }\n    },[item,component_state])\n    useEffect(()=>{\n        item[7]==='on'?set_toggle({marginLeft:'20px'}):set_toggle({marginRight:'20px'})\n        item[7]==='on'?set_bg({backgroundColor:'rgb(136,255,136)'}):set_bg({backgroundColor:''})\n    },[value.current.workState,item])\n\n    function autoSave(e){\n        var values =e.target.value\n        var name=e.target.name\n        clearTimeout(timeout.current)\n        set_new_emp('更改中')\n        if(component_state===1&&!composition.current){\n            \n            if(name==='goal'){\n                \n                value.current.goal=values\n            }\n            else if(name==='attitude'){\n                value.current.attitude=rule_num(e,10)\n            }\n            else if(name==='efficient'){\n                value.current.efficient=rule_num(e,10)\n            }\n            else if(name==='professional'){\n                value.current.professional=rule_num(e,10)\n            }\n            else if(name==='describes'){\n                value.current.describes=values\n            }\n            else if(name==='be_late'){\n                value.current.be_late=rule_num(e,100)\n            }\n            else if(name==='day_off_not_on_rule'){\n                value.current.day_off_not_on_rule=rule_num(e,100)\n            }\n            //每次去計算 award 績效獎金\n            value.current.award=(value.current.attitude+value.current.efficient+value.current.professional)*100\n            \n            timeout.current=setTimeout(() => {\n                set_new_emp('存取中...')\n                update(obj_to_arr(value.current),set_new_emp)    \n\n            }, 500);\n        }\n        else if(component_state===4 && !composition.current){\n            if(name==='id'){\n                value.current.id=rule_num_letter(e)\n                reCatchData.current=true\n                \n            }\n            else if(name==='name'){\n                value.current.name=values\n                reCatchData.current=true\n            }\n            else if(name==='group'){\n                value.current.group=values\n            }\n            else if(name==='account'){\n                var return_status=window.confirm(`確定帳號為'${values}'?\\n確認後無法更改`)\n                if(return_status===true){\n                    value.current.account=rule_num_letter(e)\n                    reCatchData.current=true\n                }\n                else{\n                    return\n                }\n            }\n            else if(name==='password'){\n                \n                value.current.password=rule_num_letter(e)\n            }\n            else if(name==='onWorkDay'){\n                value.current.onWorkDay=rule_num(e,10000)\n            }\n            else if(name==='position'){\n                value.current.position=values\n            }\n            else if(name==='workState'){\n                value.current.workState==='on'?value.current.workState='off':value.current.workState='on'\n                reCatchData.current=true\n            }\n        timeout.current= setTimeout(() => {\n            set_new_emp('存取中...')\n            console.log('useeffect',value.current)\n            var list=search(page_data_arr,item_index,obj_to_arr(value.current),reCatchData.current,synchronize_update)\n            data[page]=list\n            \n            window.sessionStorage.setItem('banch_index',JSON.stringify(data))\n            var new_data=JSON.parse(window.sessionStorage.getItem('banch_index'))[page]\n            set_page_data_arr([...new_data,['+']])\n\n            setTimeout(()=>{\n                set_new_emp('已儲存變更')\n            },500)\n        }, 500)\n        }\n        else if(component_state===6&& !composition.current){\n            if(name==='group'){\n                value.current.group=values\n            }\n            timeout.current=setTimeout(()=>{\n                //api\n                set_new_emp('存取中...')\n                group_change(token,[value.current.account,value.current.group])\n                //check_and_recatch_data(token,synchronize_update,1000)\n                setTimeout(()=>{\n                    set_new_emp('已儲存變更')\n                },500)\n            },500)\n        }\n    }\n    function get_scrollHeight(e){\n        set(item_index)\n        var name=e.target.name\n        var timer\n        if(textarea1_ref.current.value.length>textarea2_ref.current.value.length){\n            if(textarea1_ref.current.scrollHeight){\n                timer=setInterval(() => {\n                    setItemoffset(textarea1_ref.current.scrollHeight)\n                    clearInterval(timer)\n                },10);\n            }\n        }\n        else{\n            if(textarea2_ref.current.scrollHeight){\n                timer=setInterval(() => {\n                    setItemoffset(textarea2_ref.current.scrollHeight)\n                    clearInterval(timer)\n                },10);\n            }\n        }\n    }\n    function get_clientHeight(){\n        set(item_index)\n        if(rowitem_ref.current.clientHeight){\n            var timer=setInterval(() => {\n                setItemoffset(rowitem_ref.current.clientHeight)\n                clearInterval(timer)\n            },100);\n        }\n    }\n\n    function composition_method(e){\n        const isChrome = !!window.chrome && !!window.chrome.webstore\n        \n        console.log('e.target.value',e.target.value)\n        if(e.type==='compositionstart'){\n            composition.current=true\n            console.log('e.type:',e.type)\n            console.log('composition:',composition)\n        }\n        \n        else if(e.type==='compositionend'){\n            composition.current=false\n            console.log('e.type:',e.type)\n            console.log('composition:',composition)\n            autoSave(e)\n            if (!composition && isChrome) {\n                // fire onChange\n            }\n        }\n    }\n    function change_confirm_data(e){\n        //新增年度\n        var values=e.target.value\n        var name=e.target.name\n        var arr =confirm_data.map((item)=>{\n            if(item[0]===name){\n                return[item[0],item[1],values]\n            }\n            return item\n        })\n        set_confirm_data(arr)\n    }\n\n    if(component_state===1){\n        var readOnly=page==='每月考核績效'?true:false\n        var permession=window.sessionStorage.getItem('permession')\n        return(\n            <div \n                className=\"row_container\" \n                onClick={get_scrollHeight}\n                style={style}>\n                <div style={{width:'2vw'}} readOnly>{value.current.id}</div>\n                <div style={{width:'5vw',overflow:'hidden',height:style.height}}>{value.current.name}</div>\n                <div><textarea  ref={textarea1_ref}\n                        name='goal'\n                        defaultValue={value.current.goal}\n                        onInput={(e)=>{\n                            autoSave(e)\n                            get_scrollHeight(e)}}\n                        style={{width:'30vw',height:style.height}}></textarea></div>\n                <input style={{width:'2vw'}}  defaultValue={value.current.year} readOnly/>\n                <input style={{width:'2vw'}}  defaultValue={value.current.month} readOnly/>\n                <input style={{width:'2vw'}} name='attitude' onInput={(e)=>autoSave(e)} defaultValue={value.current.attitude}  type='text' readOnly={readOnly}/>\n                <input style={{width:'2vw'}} name='efficient' onInput={(e)=>autoSave(e)} defaultValue={value.current.efficient}  type='text'readOnly={readOnly}/>\n                <input style={{width:'2vw'}} name='professional' onInput={(e)=>autoSave(e)} defaultValue={value.current.professional}  type='text'readOnly={readOnly}/>\n                <input style={{width:'4vw',display:permession!=='admin'?'none':'block'}} name='award' onInput={(e)=>autoSave(e)} defaultValue={value.current.award}  type='text' readOnly/>\n                <div><textarea \n                        ref={textarea2_ref}\n                        name='describes'\n                        defaultValue={value.current.describes}\n                        onInput={(e)=>{ \n                            autoSave(e)\n                            get_scrollHeight(e)\n                            }} \n                        style={{width:'20vw',height:style.height}}\n                        readOnly={readOnly}></textarea></div>\n                <input style={{width:'2vw'}} name='be_late' onInput={(e)=>autoSave(e)} defaultValue={value.current.be_late}  type='text'readOnly={readOnly}/>\n                <input style={{width:'2vw'}} name='day_off_not_on_rule' onInput={(e)=>autoSave(e)} defaultValue={value.current.day_off_not_on_rule} type='text'readOnly={readOnly}/>          \n            </div>\n            )\n    }\n    else if(component_state===2){\n        return(\n            <div ref={rowitem_ref} \n                className=\"row_container2\" \n                onClick={get_clientHeight}\n                style={style}>\n                <div style={{width:'2vw'}}><div>{item[0]}</div></div> \n                <div style={{width:'5vw',overflow:'hidden',height:style.height}}><div>{item[1]}</div></div>\n                {/* \n                <div style={{width:'30vw',overflow:'hidden',height:style.height}}>{item[2]}</div>\n                */}\n                <div style={{width:'2vw'}}>{item[3]}</div>\n                <div style={{width:'2vw'}}>{item[4]} </div>\n            </div>\n        )\n    }\n    else if(component_state===3){\n        return(\n            <div ref={rowitem_ref} \n                className=\"row_container2\" \n                onClick={get_clientHeight}\n                style={style}>\n                <input style={{width:'10vw'}} placeholder={item[0]} type='text'/>\n                <input style={{width:'10vw',overflow:'hidden',height:style.height}} placeholder={item[1]} type='text'/>\n            </div>\n        )\n    }\n    else if(component_state===4){\n        if(item[0]==='+'){\n            return( <div ref={rowitem_ref} \n                className=\"row_container\"\n                onClick={()=>{            \n                    var page_data=page_data_arr.slice(0,page_data_arr.length-1)\n                    set_page_data_arr([...page_data,['','','',page,'','',position_arr[0],'on'],['+']])\n                    get_clientHeight()}}\n                style={style}>{item}</div>)\n        }else{\n            return(\n            \n                <div ref={rowitem_ref}\n                    className=\"row_container\"\n                    onClick={()=>{\n                        get_clientHeight()}}\n                    style={style}>\n    \n                    <div><input \n                            style={{width:'2vw'}} onInput={autoSave}\n                            name={'id'} defaultValue={value.current.id} type='text'/></div>\n                    <div><input\n                            onCompositionEnd={(e)=>{composition_method(e)}} \n                            onCompositionStart={(e)=>composition_method(e)}\n                            style={{width:'10vw',overflow:'hidden',height:style.height}} \n                            onInput={autoSave} name={'name'}\n                            defaultValue={value.current.name} type='text'/></div>\n                    <div><input style={{width:'3vw'}} onInput={autoSave} name={'group'} defaultValue={value.current.group} type='text' readOnly/></div>\n                    <div><input disabled={value.current.account!==''?true:false} \n                                style={{width:'10vw'}} \n                                onInput={autoSave}\n                                onBlur={(e)=>{composition.current=false;autoSave(e)}} \n                                onFocus={()=>{composition.current=true}}\n                                onKeyDown={(e)=>{\n                                    if(e.key==='Enter'||e.key==='enter'){composition.current=false;autoSave(e)}}}\n                                name={'account'} defaultValue={value.current.account} type='text'/></div>\n                    <div><input style={{width:'10vw'}} onInput={autoSave} name={'password'} defaultValue={value.current.password} type='text'/></div>\n                    <div><input style={{width:'2vw'}} onInput={autoSave} name={'onWorkDay'} defaultValue={value.current.onWorkDay} type='text'/></div>\n                    <div><select style={{width:'10vw'}} value={value.current.position} onInput={autoSave} name={'position'}>\n                        {\n                            position_arr.map((items,index)=>{\n                                    return(<option key={index} >{items}</option>)\n                            })\n                        }\n                        </select></div>\n                    <div>\n                        <label>\n                            <input onInput={autoSave} name={'workState'} type='checkbox' className=\"checkbox\"/>\n                            <span className=\"btn-box\" style={bg}>\n                                <span className=\"btn\" style={toggle}>\n\n                                </span>\n                            </span>\n                        </label>\n                    </div>\n\n                </div>\n            )\n        }\n    }else if(component_state===5){\n        return(\n            <div ref={rowitem_ref} \n                className=\"row_container2\" \n                onClick={get_clientHeight}\n                style={style}>\n                    <div style={{width:'10%'}}>{item[4]}</div>\n                    <div style={{width:'10%'}}>{item[2]}</div>\n                    <div style={{width:'10%'}}><input onChange={change_confirm_data} name={item[0]} value={'yes'} type='radio' defaultChecked/></div>\n                    <div style={{width:'10%'}}><input onChange={change_confirm_data} name={item[0]} value={'no'} type='radio'/></div>\n            </div>\n        )\n\n    }\n    else if(component_state===6){\n        return(\n        <div ref={rowitem_ref}\n        className=\"row_container\"\n        onClick={()=>{\n            get_clientHeight()}}\n        style={style}>\n            <div><input \n                style={{width:'2vw'}} onInput={autoSave}\n                name={'id'} defaultValue={value.current.id} type='text' readOnly/></div>\n            <div><input\n                onCompositionEnd={(e)=>{composition_method(e)}} \n                onCompositionStart={(e)=>composition_method(e)}\n                style={{width:'10vw',overflow:'hidden',height:style.height}} \n                onInput={autoSave} name={'name'}\n                defaultValue={value.current.name} type='text' readOnly/></div>\n            <div><input style={{width:'3vw'}} onInput={autoSave} name={'group'} defaultValue={value.current.group} type='text'/></div>\n        </div>\n        )\n    }\n}\nexport function Fixed_title({component_state}){\n    if(component_state===1){\n        var permession=window.sessionStorage.getItem('permession')\n        return(\n             <div className={'row_container'} id={'fixed_title'}>\n                <div style={{width:'2vw'}}>{fixed_title[0]}</div> \n                <div style={{width:'5vw'}}>{fixed_title[1]}</div>\n                <div style={{width:'30vw',overflow:'hidden'}}>{fixed_title[2]}</div>\n                                \n                <input style={{width:'2vw'}} disabled defaultValue={fixed_title[3]} type='text'/>\n                <input style={{width:'2vw'}} disabled defaultValue={fixed_title[4]} type='text'/>\n                <input style={{width:'2vw'}} disabled defaultValue={fixed_title[5]} type='text'/>\n                <input style={{width:'2vw'}} disabled defaultValue={fixed_title[6]} type='text'/>\n                <input style={{width:'2vw'}} disabled defaultValue={fixed_title[7]} type='text'/>\n                <input style={{width:'4vw',display:permession!=='admin'?'none':'block'}} disabled defaultValue={fixed_title[8]} type='text'/>\n                <div style={{width:'20vw'}}>{fixed_title[9]}</div>\n                <input style={{width:'2vw'}} disabled defaultValue={fixed_title[10]} type='text'/>\n                <input style={{width:'2vw'}}disabled defaultValue={fixed_title[11]} type='text'/>\n            </div>    \n        )\n    }\n    else if(component_state===2){\n        return(\n            <div  className={'row_container2'} id={'fixed_title'}>\n                <div style={{width:'2vw'}}><div>{fixed_title[0]}</div></div> \n                <div style={{width:'5vw'}}><div>{fixed_title[1]}</div></div>\n                {/* \n                <div style={{width:'30vw',overflow:'hidden'}}>{fixed_title[2]}</div>\n                */}\n                <div style={{width:'2vw'}}>{fixed_title[3]}</div>\n                <div style={{width:'2vw'}}>{fixed_title[12]}</div>\n            </div>    \n        )\n    }\n    else if(component_state===3){\n        return(\n            <div className={'row_container2'} id={'fixed_title'}>\n                <div style={{width:'10vw'}}><div>{fixed_title[0]}</div></div> \n                <div style={{width:'10vw'}}><div>{fixed_title[1]}</div></div>\n            </div>\n        )\n    }\n    else if(component_state===4){\n        return(\n            <div className={'row_container'} id={'fixed_title'}>\n                <div style={{width:'2vw'}}><div>{fixed_title_emp[0]}</div></div> \n                <div style={{width:'10vw'}}><div>{fixed_title_emp[1]}</div></div>\n                <div style={{width:'3vw'}}><div>{fixed_title_emp[2]}</div></div>\n                <div style={{width:'10vw'}}><div>{fixed_title_emp[3]}</div></div>\n                <div style={{width:'10vw'}}><div>{fixed_title_emp[4]}</div></div>\n                <div style={{width:'2vw'}}><div>{fixed_title_emp[5]}</div></div>\n                <div style={{width:'10vw'}}><div>{fixed_title_emp[6]}</div></div>\n                <div style={{width:'3vw'}}><div>{fixed_title_emp[7]}</div></div>\n            </div>\n        )\n    }\n    else if(component_state===5){\n        return(\n            <div className={'row_container2'} id={'fixed_title'}>\n                <div style={{width:'10%'}}><div>{fixed_title_emp[0]}</div></div> \n                <div style={{width:'10%'}}><div>{fixed_title_emp[1]}</div></div>\n                <div style={{width:'10%'}}>新增</div>\n                <div style={{width:'10%'}}>不新增</div>\n            </div>\n        )\n\n    }\n};\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}