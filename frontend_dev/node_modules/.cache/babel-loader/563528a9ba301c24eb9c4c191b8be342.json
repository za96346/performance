{"ast":null,"code":"import _slicedToArray from\"/Users/admin/Downloads/code/dajia/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Search_name,Search_year}from\"../backend_component/search_input\";import{Return_component}from\"../backend_component/data_input\";import{useParams}from\"react-router-dom\";import{useEffect,useState}from\"react\";import{backend,admin_sidebar}from\"../api\";import{Loading}from\"../backend_component/loading\";import{sequential_search}from\"../ algorithm/sequential_search\";import{intersection}from\"../ algorithm/intersection\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Performance_per_year=function Performance_per_year(_ref){var data=_ref.data,synchronize_update=_ref.synchronize_update,synchronize=_ref.synchronize;var _useParams=useParams(),page=_useParams.page;var _useParams2=useParams(),article_page=_useParams2.article_page;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),page_data_arr=_useState2[0],set_page_data_arr=_useState2[1];var _useState3=useState({name:'請選擇組員',year:undefined,month:undefined}),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],set_search=_useState4[1];var result_name=[];var result_year=[];useEffect(function(){if(data.length!==0){set_page_data_arr(data);}else{set_page_data_arr([]);}},[page,article_page,data]);useEffect(function(){console.log('search',search);if(page_data_arr!==undefined&&data){search.name!=='請選擇組員'?result_name=sequential_search(data,1,search.name):result_name=data;search.year!==undefined&&search.year.length>0?result_year=sequential_search(data,3,parseInt(search.year)):result_year=data;var result=intersection(data,result_name,result_year);console.log(\"\\u540D\\u5B57 \\u6536\\u5C0B\\u7D50\\u679C\".concat(result_name.length,\"\\u5247\"));console.log(\"\\u5E74\\u5EA6 \\u6536\\u5C0B\\u7D50\\u679C\".concat(result_year.length,\"\\u5247\"));console.log(\"\\u7E3D\\u6536\\u5C0B\\u7D50\\u679C\".concat(result.length,\"\\u5247\"));set_page_data_arr(result);}},[search,data]);function bar(){if(article_page==='年度考核分數'&&admin_sidebar.indexOf(page)!==-1){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Search_name,{search:search,set_search:set_search}),/*#__PURE__*/_jsx(Search_year,{search:search,set_search:set_search})]});}else{return/*#__PURE__*/_jsx(Search_year,{search:search,set_search:set_search});}}if(!page_data_arr||synchronize===true){return/*#__PURE__*/_jsx(Loading,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"search_bar\",children:/*#__PURE__*/_jsx(\"div\",{children:bar()})}),page_data_arr.length!==0?/*#__PURE__*/_jsx(Return_component,{number:2,synchronize_update:synchronize_update,page:page,arr_params:page_data_arr}):/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:\"\\u67E5\\u7121\\u7D50\\u679C\"})]});};export default Performance_per_year;","map":{"version":3,"sources":["/Users/admin/Downloads/code/dajia/frontend/src/page/article_page/performance_per_year.js"],"names":["Search_name","Search_year","Return_component","useParams","useEffect","useState","backend","admin_sidebar","Loading","sequential_search","intersection","Performance_per_year","data","synchronize_update","synchronize","page","article_page","page_data_arr","set_page_data_arr","name","year","undefined","month","search","set_search","result_name","result_year","length","console","log","parseInt","result","bar","indexOf"],"mappings":"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","sourcesContent":["import {Search_name,Search_year} from \"../backend_component/search_input\";\nimport  {Return_component}  from \"../backend_component/data_input\";\nimport { useParams } from \"react-router-dom\";\nimport { useEffect,useState } from \"react\";\nimport { backend,admin_sidebar } from \"../api\";\nimport { Loading } from \"../backend_component/loading\";\nimport { sequential_search } from \"../ algorithm/sequential_search\";\nimport { intersection } from \"../ algorithm/intersection\";\nconst Performance_per_year=({data,synchronize_update,synchronize})=>{\n    const {page}=useParams()\n    const {article_page}=useParams()\n\n    const [page_data_arr,set_page_data_arr]=useState([])\n    const [search,set_search]=useState({\n        name:'請選擇組員',\n        year:undefined,\n        month:undefined,\n    })\n\n    var result_name=[]\n    var result_year=[]\n\n\n    useEffect(()=>{\n        if(data.length!==0){\n            set_page_data_arr(data)\n        }else{\n            set_page_data_arr([])\n        }\n       \n    },[page,article_page,data])\n\n    useEffect(()=>{\n        console.log('search',search)\n        if(page_data_arr!==undefined && data){\n            search.name!=='請選擇組員'\n            ?result_name=sequential_search(data,1,search.name)\n            :result_name=data\n            search.year!==undefined && search.year.length>0\n            ?result_year=sequential_search(data,3,parseInt(search.year))\n            :result_year=data\n\n            var result=intersection(data,result_name,result_year)\n            console.log(`名字 收尋結果${result_name.length}則`)\n            console.log(`年度 收尋結果${result_year.length}則`)\n            console.log(`總收尋結果${result.length}則`)\n            set_page_data_arr(result)\n        }\n    },[search,data])\n    function bar(){\n        if(article_page==='年度考核分數'&&admin_sidebar.indexOf(page)!==-1){\n            return(\n                <>            \n                    <Search_name search={search} set_search={set_search}/>\n                    <Search_year search={search} set_search={set_search}/>\n                </> \n            )\n        }\n        else{\n            return(<Search_year search={search} set_search={set_search}/>)\n        }\n    }\n\n    if(!page_data_arr||synchronize===true){\n        return(<Loading/>)\n    }\n\n\n    return(\n        <>\n            <div className=\"search_bar\">\n                <div>\n                    {\n                        bar()\n                    }\n                </div>\n            </div>\n            {\n                page_data_arr.length!==0\n                ?<Return_component \n                number={2} \n                synchronize_update={synchronize_update} \n                page={page} \n                arr_params={page_data_arr} />\n                :<div className=\"container\">查無結果</div>\n            }\n        </>\n    )\n}\nexport default Performance_per_year;"]},"metadata":{},"sourceType":"module"}