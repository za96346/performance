{"ast":null,"code":"import axios from \"axios\";\nimport { ip } from \"../config\";\nimport { connectMainSocket, connectBasicSocket } from \"./socketIo\";\nexport const config = {\n  url: `http://${ip}:5001/`,\n  urlYearPerformance: 'backend/year_performance',\n  urlBanchIndex: 'backend/banch_index',\n  urlBackEnd: 'backend',\n  urlInsertBanchTable: 'backend/InsertBanchTable',\n  urlInsertPerformanceTable: 'backend/InsertPerformanceTable',\n  urlUpdatePerformance: 'backend/UpdatePerformanceTable',\n  urlGroupChange: 'backend/GroupChange',\n  urlSelectAllBanch: 'backend/SelectAllBanch',\n  urlPerformanceBanchChange: 'backend/PerformanceBanchChange',\n  urlNewEmpInsertPerformanceTable: 'backend/NewEmpInsertPerformanceTable',\n  urlChangeBanchName: 'backend/ChangeBanchName'\n};\nexport const article_bar_arr = ['首頁', '年度考核分數', '每月考核績效'];\nexport const log_out = ['登出'];\nexport const personal_sidebar = ['每月考核績效', '年度考核分數'];\nexport function admin_sidebar() {\n  const admin_sidebar_orignal = ['組別管理', '總覽', '幹部', '離職員工', '新增年度'];\n  var banch = JSON.parse(window.sessionStorage.getItem('all_banch')); //console.log(banch)\n\n  if (banch === null || banch === undefined) {\n    return admin_sidebar_orignal;\n  }\n\n  for (let item = 0; item < banch.length; item++) {\n    admin_sidebar_orignal.splice(item + 2, 0, banch[item]);\n  } //console.log(admin_sidebar_orignal)\n\n\n  return admin_sidebar_orignal;\n}\nexport function manager_sidebar() {\n  var banch = window.sessionStorage.getItem('banch');\n  const manager = [banch];\n  return manager;\n}\nexport const position_arr = ['', '管理員', '主管', '一般職員'];\nexport const fixed_title = ['id', '姓名', '年度目標', '年度', '月份', '態度', '效率', '專業', '績效獎金', '績效描述', '遲到', '不當請假', '分數'];\nexport const fixed_title_emp = ['id', '姓名', '組別', '帳號', '密碼', '入職日', '職位權限', '狀態'];\nexport function all_view(data) {\n  var temp = [];\n\n  for (let key in data) {\n    if (key !== '離職員工' && key !== '幹部') {\n      data[key].map((item, index) => {\n        temp.push(item);\n        return item;\n      });\n    }\n  }\n\n  return temp;\n}\nexport function select_emp_name_id(number) {\n  const emp_arr = [];\n\n  if (number === 1) {\n    for (let i = 0; i < 40; i++) {\n      emp_arr.push([i, 'name: ' + i, 'goal' + i, 'attitude', 'efficiency', 'professional', 2000 + i, 'directions' + i, i, 0, 0]);\n    }\n\n    return emp_arr;\n  } else if (number === 2) {\n    for (let i = 0; i < 40; i++) {\n      emp_arr.push([i, 'name: ' + i, 'goal' + i, 80 + i]);\n    }\n\n    return emp_arr;\n  } else {\n    for (let i = 0; i < 40; i++) {\n      emp_arr.push([i, 'name: ' + i]);\n    }\n\n    return emp_arr;\n  }\n}\nexport function select_route(navigate) {\n  var permession = window.sessionStorage.getItem('permession');\n\n  if (permession === \"admin\") {\n    console.log('\\nRoute==>', permession);\n    navigate(`/backend/admin/${admin_sidebar()[0]}`); //跳過 組別管理\n  } else if (permession === \"manager\") {\n    console.log('\\nRoute==>', permession);\n    navigate(`/backend/manager/${manager_sidebar()[0]}`);\n  } else if (permession === 'personal') {\n    console.log('\\nRoute==>', permession);\n    navigate(`/backend/personal/${personal_sidebar[0]}`);\n  } else {\n    navigate('/');\n  }\n}\nexport async function change_banch_name(token, data) {\n  return await axios({\n    method: 'POST',\n    url: config.url + config.urlChangeBanchName,\n    data: JSON.stringify({\n      'data': data\n    }),\n    headers: {\n      'token': token,\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    console.log(response);\n    return response.data;\n  }).catch(error => {\n    console.log(error);\n    return false;\n  });\n}\nexport async function performance_banch_change(token, data) {\n  return await axios({\n    method: 'POST',\n    url: config.url + config.urlPerformanceBanchChange,\n    data: JSON.stringify({\n      'data': data\n    }),\n    headers: {\n      'token': token,\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    console.log(response);\n    return response.data;\n  }).catch(error => {\n    console.log(error);\n    return false;\n  });\n}\nexport async function group_change(token, data) {\n  return await axios({\n    method: 'POST',\n    url: config.url + config.urlGroupChange,\n    data: JSON.stringify({\n      'data': data\n    }),\n    headers: {\n      'token': token,\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    console.log(response);\n    return true;\n  }).catch(error => {\n    console.log(error);\n    return false;\n  });\n}\nexport async function updata_performance_table(data, token) {\n  return await axios({\n    method: 'POST',\n    url: config.url + config.urlUpdatePerformance,\n    data: JSON.stringify({\n      'data': data\n    }),\n    headers: {\n      'token': token,\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    console.log(response);\n    return true;\n  }).catch(error => {\n    console.log(error);\n    return false;\n  });\n}\n;\nexport async function new_emp_insert_performance_table(token, data) {\n  return await axios({\n    method: 'POST',\n    url: config.url + config.urlNewEmpInsertPerformanceTable,\n    data: JSON.stringify({\n      'data': data\n    }),\n    headers: {\n      'token': token,\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    console.log('NewEmpInsertPerformanceTable', response);\n    return response.data;\n  }).catch(error => {\n    console.log(error);\n    return error;\n  });\n}\nexport async function insert_performance_table(token, data) {\n  return await axios({\n    method: 'POST',\n    url: config.url + config.urlInsertPerformanceTable,\n    data: JSON.stringify({\n      'data': data\n    }),\n    headers: {\n      'token': token,\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    console.log('InsertPerformanceTable', response);\n    return response.data;\n  }).catch(error => {\n    console.log(error);\n    return error;\n  });\n}\nexport async function insert_banch_table(token, data) {\n  return await axios({\n    method: 'POST',\n    url: config.url + config.urlInsertBanchTable,\n    data: JSON.stringify({\n      'data': data\n    }),\n    headers: {\n      'token': token,\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    console.log('response data===>', response.data['data']);\n    return response.data['data']; //data=>insert or update\n    //insert=>tell you that this people is a new create.\n    //updata=>tell you that this people is exist.\n  }).catch(error => {\n    console.log(error);\n    return false;\n  });\n}\nexport async function backend(token) {\n  return await axios({\n    method: 'POST',\n    url: config.url + config.urlBackEnd,\n    headers: {\n      'token': token,\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    var data = response.data;\n    console.log('每月績效', data);\n    var result = all_view(data);\n    data['總覽'] = result;\n    window.sessionStorage.setItem('data', JSON.stringify(data));\n    return true;\n  }).catch(error => {\n    console.log(error);\n    console.log('token error =>backend');\n    return false;\n  });\n}\nexport async function banch_index(token) {\n  return await axios({\n    method: 'POST',\n    url: config.url + config.urlBanchIndex,\n    headers: {\n      'token': token,\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    var data = response.data;\n    console.log('組員資料', data);\n    var result = all_view(data);\n    data['總覽'] = result;\n    window.sessionStorage.setItem('banch_index', JSON.stringify(data));\n    return true;\n  }).catch(error => {\n    console.log(error);\n    console.log('token error =>banch_index');\n    return false;\n  });\n}\nexport async function year_performance(token) {\n  return await axios({\n    method: 'POST',\n    url: config.url + config.urlYearPerformance,\n    headers: {\n      'token': token,\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    var data = response.data;\n    var result = all_view(data);\n    data['總覽'] = result;\n    console.log('年度績效', data);\n    window.sessionStorage.setItem('year_performance', JSON.stringify(data));\n    return true;\n  }).catch(error => {\n    console.log(error);\n    console.log('token error =>year_performance');\n    return false;\n  });\n}\nexport async function select_all_banch(token) {\n  return await axios({\n    method: 'POST',\n    url: config.url + config.urlSelectAllBanch,\n    headers: {\n      'token': token,\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    var data = response.data;\n    console.log('所有組別', data);\n    window.sessionStorage.setItem('all_banch', JSON.stringify(data));\n    return true;\n  }).catch(error => {\n    console.log(error);\n    console.log('token error =>select_all_banch');\n    return false;\n  });\n}\nexport async function login(login_data) {\n  return await axios({\n    method: 'POST',\n    url: config.url,\n    data: JSON.stringify({\n      'account': login_data.account,\n      'password': login_data.password\n    }),\n    headers: {\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    var data = response.data;\n    window.sessionStorage.setItem('token', data.token);\n    window.sessionStorage.setItem('user_name', data.user_name);\n    window.sessionStorage.setItem('banch', data.banch);\n    window.sessionStorage.setItem('permession', data.permession); //connectBasicSocket(data.token)\n\n    new Promise((resolve, reject) => {\n      const socket = connectBasicSocket(data.token);\n      resolve(socket);\n    }).then(socket => {\n      socket.emit();\n    });\n    connectBasicSocket(data.token).then(result => result.emit('connect', {}));\n    return true;\n  }).catch(error => {\n    console.log(error);\n    alert('帳號或密碼輸入錯誤');\n    return false;\n  });\n}","map":{"version":3,"sources":["/Users/siou/Downloads/code/performance/frontend_dev/src/page/api.js"],"names":["axios","ip","connectMainSocket","connectBasicSocket","config","url","urlYearPerformance","urlBanchIndex","urlBackEnd","urlInsertBanchTable","urlInsertPerformanceTable","urlUpdatePerformance","urlGroupChange","urlSelectAllBanch","urlPerformanceBanchChange","urlNewEmpInsertPerformanceTable","urlChangeBanchName","article_bar_arr","log_out","personal_sidebar","admin_sidebar","admin_sidebar_orignal","banch","JSON","parse","window","sessionStorage","getItem","undefined","item","length","splice","manager_sidebar","manager","position_arr","fixed_title","fixed_title_emp","all_view","data","temp","key","map","index","push","select_emp_name_id","number","emp_arr","i","select_route","navigate","permession","console","log","change_banch_name","token","method","stringify","headers","then","response","catch","error","performance_banch_change","group_change","updata_performance_table","new_emp_insert_performance_table","insert_performance_table","insert_banch_table","backend","result","setItem","banch_index","year_performance","select_all_banch","login","login_data","account","password","user_name","Promise","resolve","reject","socket","emit","alert"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport { ip } from \"../config\";\nimport { connectMainSocket, connectBasicSocket } from \"./socketIo\";\nexport const config = {\n    url: `http://${ip}:5001/`,\n    urlYearPerformance: 'backend/year_performance',\n    urlBanchIndex: 'backend/banch_index',\n    urlBackEnd: 'backend',\n    urlInsertBanchTable: 'backend/InsertBanchTable',\n    urlInsertPerformanceTable: 'backend/InsertPerformanceTable',\n    urlUpdatePerformance: 'backend/UpdatePerformanceTable',\n    urlGroupChange: 'backend/GroupChange',\n    urlSelectAllBanch: 'backend/SelectAllBanch',\n    urlPerformanceBanchChange: 'backend/PerformanceBanchChange',\n    urlNewEmpInsertPerformanceTable: 'backend/NewEmpInsertPerformanceTable',\n    urlChangeBanchName: 'backend/ChangeBanchName'\n};\nexport const article_bar_arr = ['首頁', '年度考核分數', '每月考核績效']\nexport const log_out = ['登出']\nexport const personal_sidebar = ['每月考核績效', '年度考核分數'];\n\nexport function admin_sidebar() {\n    const admin_sidebar_orignal = ['組別管理', '總覽', '幹部', '離職員工', '新增年度'];\n    var banch = JSON.parse(window.sessionStorage.getItem('all_banch'))\n    //console.log(banch)\n    if (banch === null || banch === undefined) {\n        return admin_sidebar_orignal\n    }\n    for (let item = 0; item < banch.length; item++) {\n        admin_sidebar_orignal.splice(item + 2, 0, banch[item])\n    }\n    //console.log(admin_sidebar_orignal)\n    return admin_sidebar_orignal\n\n}\nexport function manager_sidebar() {\n    var banch = window.sessionStorage.getItem('banch');\n    const manager = [banch];\n    return manager\n}\n\nexport const position_arr = ['', '管理員', '主管', '一般職員']\nexport const fixed_title = ['id', '姓名', '年度目標', '年度', '月份', '態度', '效率', '專業', '績效獎金', '績效描述', '遲到', '不當請假', '分數']\nexport const fixed_title_emp = ['id', '姓名', '組別', '帳號', '密碼', '入職日', '職位權限', '狀態']\n\n\nexport function all_view(data) {\n    var temp = []\n\n    for (let key in data) {\n        if (key !== '離職員工' && key !== '幹部') {\n            data[key].map((item, index) => {\n                temp.push(item)\n                return item\n            })\n        }\n    }\n    return temp\n}\n\n\n\n\nexport function select_emp_name_id(number) {\n\n    const emp_arr = []\n    if (number === 1) {\n        for (let i = 0; i < 40; i++) {\n            emp_arr.push([i, 'name: ' + i, 'goal' + i, 'attitude', 'efficiency', 'professional', 2000 + i, 'directions' + i, i, 0, 0])\n        }\n        return (emp_arr)\n    }\n    else if (number === 2) {\n        for (let i = 0; i < 40; i++) {\n            emp_arr.push([i, 'name: ' + i, 'goal' + i, 80 + i])\n        }\n        return (emp_arr)\n\n    }\n    else {\n        for (let i = 0; i < 40; i++) {\n            emp_arr.push([i, 'name: ' + i])\n        }\n        return (emp_arr)\n    }\n\n\n\n}\n\nexport function select_route(navigate) {\n\n    var permession = window.sessionStorage.getItem('permession')\n    if (permession === \"admin\") {\n        console.log('\\nRoute==>', permession)\n        navigate(`/backend/admin/${admin_sidebar()[0]}`)//跳過 組別管理\n    }\n    else if (permession === \"manager\") {\n        console.log('\\nRoute==>', permession)\n        navigate(`/backend/manager/${manager_sidebar()[0]}`)\n    }\n    else if (permession === 'personal') {\n        console.log('\\nRoute==>', permession)\n        navigate(`/backend/personal/${personal_sidebar[0]}`)\n    }\n    else { navigate('/') }\n}\n\n\nexport async function change_banch_name(token, data) {\n    return await axios({\n        method: 'POST',\n        url: config.url + config.urlChangeBanchName,\n        data: JSON.stringify({\n            'data': data\n        }),\n        headers: {\n            'token': token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n        }\n    }).then((response) => {\n        console.log(response)\n        return response.data\n    }).catch((error) => {\n        console.log(error)\n        return false\n    })\n}\n\nexport async function performance_banch_change(token, data) {\n    return await axios({\n        method: 'POST',\n        url: config.url + config.urlPerformanceBanchChange,\n        data: JSON.stringify({\n            'data': data\n        }),\n        headers: {\n            'token': token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n        }\n    }).then((response) => {\n        console.log(response)\n        return response.data\n    }).catch((error) => {\n        console.log(error)\n        return false\n    })\n}\n\n\nexport async function group_change(token, data) {\n    return await axios({\n        method: 'POST',\n        url: config.url + config.urlGroupChange,\n        data: JSON.stringify({\n            'data': data\n        }),\n        headers: {\n            'token': token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n        }\n    }).then((response) => {\n        console.log(response)\n        return true\n    }).catch((error) => {\n        console.log(error)\n        return false\n    })\n}\n\nexport async function updata_performance_table(data, token) {\n    return await axios({\n        method: 'POST',\n        url: config.url + config.urlUpdatePerformance,\n        data: JSON.stringify({\n            'data': data\n        }),\n        headers: {\n            'token': token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n        }\n    }).then((response) => {\n        console.log(response)\n        return true\n    }).catch((error) => {\n        console.log(error)\n        return false\n    })\n};\n\nexport async function new_emp_insert_performance_table(token, data) {\n    return await axios({\n        method: 'POST',\n        url: config.url + config.urlNewEmpInsertPerformanceTable,\n        data: JSON.stringify({\n            'data': data\n        }),\n        headers: {\n            'token': token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n        }\n\n    }).then((response) => {\n        console.log('NewEmpInsertPerformanceTable', response)\n        return response.data\n    }).catch((error) => {\n        console.log(error)\n        return error\n    })\n}\n\nexport async function insert_performance_table(token, data) {\n    return await axios({\n        method: 'POST',\n        url: config.url + config.urlInsertPerformanceTable,\n        data: JSON.stringify({\n            'data': data\n        }),\n        headers: {\n            'token': token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n        }\n\n    }).then((response) => {\n        console.log('InsertPerformanceTable', response)\n        return response.data\n    }).catch((error) => {\n        console.log(error)\n        return error\n    })\n}\n\nexport async function insert_banch_table(token, data) {\n\n    return await axios({\n        method: 'POST',\n        url: config.url + config.urlInsertBanchTable,\n        data: JSON.stringify({\n            'data': data,\n        }),\n        headers: {\n            'token': token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n        }\n    }).then((response) => {\n        console.log('response data===>', response.data['data'])\n        return response.data['data']//data=>insert or update\n        //insert=>tell you that this people is a new create.\n        //updata=>tell you that this people is exist.\n    }).catch((error) => {\n        console.log(error)\n\n        return false\n    })\n}\n\n\nexport async function backend(token) {\n    return await axios({\n        method: 'POST',\n        url: config.url + config.urlBackEnd,\n        headers: {\n            'token': token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n        }\n    }).then((response) => {\n        var data = response.data\n        console.log('每月績效', data)\n        var result = all_view(data)\n        data['總覽'] = result\n        window.sessionStorage.setItem('data', JSON.stringify(data))\n        return true\n\n    }).catch((error) => {\n\n        console.log(error)\n        console.log('token error =>backend')\n        return false\n\n    })\n}\n\nexport async function banch_index(token) {\n    return await axios({\n        method: 'POST',\n        url: config.url + config.urlBanchIndex,\n        headers: {\n            'token': token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n        }\n    }).then((response) => {\n        var data = response.data\n        console.log('組員資料', data)\n        var result = all_view(data)\n\n        data['總覽'] = result\n        window.sessionStorage.setItem('banch_index', JSON.stringify(data))\n        return true\n    }).catch((error) => {\n        console.log(error)\n        console.log('token error =>banch_index')\n        return false\n    })\n}\n\nexport async function year_performance(token) {\n    return await axios({\n        method: 'POST',\n        url: config.url + config.urlYearPerformance,\n        headers: {\n            'token': token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n        }\n    }).then((response) => {\n        var data = response.data\n        var result = all_view(data)\n        data['總覽'] = result\n        console.log('年度績效', data)\n        window.sessionStorage.setItem('year_performance', JSON.stringify(data))\n\n        return true\n    }).catch((error) => {\n        console.log(error)\n        console.log('token error =>year_performance')\n        return false\n    })\n}\n\nexport async function select_all_banch(token) {\n    return await axios({\n        method: 'POST',\n        url: config.url + config.urlSelectAllBanch,\n        headers: {\n            'token': token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n        }\n    }).then((response) => {\n        var data = response.data\n        console.log('所有組別', data)\n        window.sessionStorage.setItem('all_banch', JSON.stringify(data))\n        return true\n    }).catch((error) => {\n        console.log(error)\n        console.log('token error =>select_all_banch')\n        return false\n    })\n}\n\n\nexport async function login(login_data) {\n    return await axios({\n        method: 'POST',\n        url: config.url,\n        data: JSON.stringify({\n            'account': login_data.account,\n            'password': login_data.password\n        }),\n        headers: {\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n        }\n    }).then((response) => {\n        var data = response.data\n\n        window.sessionStorage.setItem('token', data.token)\n        window.sessionStorage.setItem('user_name', data.user_name)\n        window.sessionStorage.setItem('banch', data.banch)\n        window.sessionStorage.setItem('permession', data.permession)\n        //connectBasicSocket(data.token)\n        new Promise((resolve, reject) => {\n            const socket = connectBasicSocket(data.token)\n            resolve(socket)\n        }).then((socket) => {\n            socket.emit()\n        })\n        connectBasicSocket(data.token).then((result) => result.emit('connect',{}))\n        return true\n\n    }).catch((error) => {\n        console.log(error)\n        alert('帳號或密碼輸入錯誤')\n        return false\n\n    })\n}\n"]},"metadata":{},"sourceType":"module"}