{"ast":null,"code":"import _classPrivateFieldLooseBase from \"/Users/siou/Downloads/code/performance/frontend_dev/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseBase.js\";\nimport _classPrivateFieldLooseKey from \"/Users/siou/Downloads/code/performance/frontend_dev/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseKey.js\";\nimport { io, Manager } from 'socket.io-client';\nimport { ip } from '../config';\nimport session from './method/storage';\nimport { socketUrl, socketNameSpace } from '../config';\n\nvar _connection = /*#__PURE__*/_classPrivateFieldLooseKey(\"_connection\");\n\nvar _disconnection = /*#__PURE__*/_classPrivateFieldLooseKey(\"_disconnection\");\n\nvar _emitBasicEvent = /*#__PURE__*/_classPrivateFieldLooseKey(\"_emitBasicEvent\");\n\nvar _emitMainEvent = /*#__PURE__*/_classPrivateFieldLooseKey(\"_emitMainEvent\");\n\nexport default class SocketIO extends Manager {\n  constructor() {\n    super(socketUrl.url, {\n      transports: ['websocket'],\n      autoConnect: true,\n      forceNew: true,\n      query: `${session.getItem('token')}siousiou`\n    });\n  }\n\n  static async action() {\n    let event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    let params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    let nameSpace = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '/';\n\n    if (!SocketIO.instance) {\n      SocketIO.instance = new SocketIO();\n    }\n\n    _classPrivateFieldLooseBase(this, _connection)[_connection](SocketIO.instance);\n\n    _classPrivateFieldLooseBase(this, _disconnection)[_disconnection](SocketIO.instance);\n\n    if (event) {\n      if (nameSpace === socketNameSpace.basic) {\n        _classPrivateFieldLooseBase(this, _emitBasicEvent)[_emitBasicEvent](SocketIO.instance, event, params);\n      } else if (nameSpace === socketNameSpace.main) {\n        _classPrivateFieldLooseBase(this, _emitMainEvent)[_emitMainEvent](SocketIO.instance, event, params);\n      }\n    }\n\n    return await SocketIO.instance;\n  }\n\n}\n\nfunction _connection2(instance) {\n  instance.socket(socketNameSpace.basic).on(name, () => {\n    console.log('socket io is connected');\n  });\n}\n\nfunction _disconnection2(instance) {\n  instance.socket(socketNameSpace.basic).on('disconnect', () => {\n    console.log('has already been disconnected');\n  });\n}\n\nfunction _emitBasicEvent2(instance, event, params) {\n  instance.socket(socketNameSpace.basic).emit(event, params);\n}\n\nfunction _emitMainEvent2(instance, event, params) {\n  instance.socket(socketNameSpace.main).emit(event, params);\n}\n\nObject.defineProperty(SocketIO, _emitMainEvent, {\n  value: _emitMainEvent2\n});\nObject.defineProperty(SocketIO, _emitBasicEvent, {\n  value: _emitBasicEvent2\n});\nObject.defineProperty(SocketIO, _disconnection, {\n  value: _disconnection2\n});\nObject.defineProperty(SocketIO, _connection, {\n  value: _connection2\n});","map":{"version":3,"sources":["/Users/siou/Downloads/code/performance/frontend_dev/src/page/socketIo.js"],"names":["io","Manager","ip","session","socketUrl","socketNameSpace","SocketIO","constructor","url","transports","autoConnect","forceNew","query","getItem","action","event","params","nameSpace","instance","basic","main","socket","on","name","console","log","emit"],"mappings":";;AAAA,SAAQA,EAAR,EAAWC,OAAX,QAAyB,kBAAzB;AACA,SAAQC,EAAR,QAAiB,WAAjB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,SAASC,SAAT,EAAoBC,eAApB,QAA2C,WAA3C;;;;;;;;;;AAEA,eAAe,MAAMC,QAAN,SAAuBL,OAAvB,CAA8B;AACzCM,EAAAA,WAAW,GAAG;AACV,UAAMH,SAAS,CAACI,GAAhB,EAAoB;AAChBC,MAAAA,UAAU,EAAE,CAAC,WAAD,CADI;AAEhBC,MAAAA,WAAW,EAAE,IAFG;AAGhBC,MAAAA,QAAQ,EAAE,IAHM;AAIhBC,MAAAA,KAAK,EAAG,GAAET,OAAO,CAACU,OAAR,CAAgB,OAAhB,CAAyB;AAJnB,KAApB;AAMH;;AAEkB,eAANC,MAAM,GAA+C;AAAA,QAA9CC,KAA8C,uEAAtC,IAAsC;AAAA,QAAhCC,MAAgC,uEAAvB,IAAuB;AAAA,QAAjBC,SAAiB,uEAAL,GAAK;;AAC9D,QAAI,CAACX,QAAQ,CAACY,QAAd,EAAwB;AACpBZ,MAAAA,QAAQ,CAACY,QAAT,GAAoB,IAAIZ,QAAJ,EAApB;AACH;;AACD,gEAAkBA,QAAQ,CAACY,QAA3B;;AACA,sEAAqBZ,QAAQ,CAACY,QAA9B;;AACA,QAAIH,KAAJ,EAAW;AACP,UAAIE,SAAS,KAAKZ,eAAe,CAACc,KAAlC,EAAyC;AACrC,4EAAsBb,QAAQ,CAACY,QAA/B,EAAyCH,KAAzC,EAAgDC,MAAhD;AACH,OAFD,MAGK,IAAGC,SAAS,KAAKZ,eAAe,CAACe,IAAjC,EAAsC;AACvC,0EAAqBd,QAAQ,CAACY,QAA9B,EAAwCH,KAAxC,EAA+CC,MAA/C;AACH;AACJ;;AACD,WAAO,MAAMV,QAAQ,CAACY,QAAtB;AACH;;AAzBwC;;sBA2BrBA,Q,EAAU;AAC1BA,EAAAA,QAAQ,CAACG,MAAT,CAAgBhB,eAAe,CAACc,KAAhC,EAAuCG,EAAvC,CAA0CC,IAA1C,EAAgD,MAAM;AAClDC,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACH,GAFD;AAGH;;yBAEsBP,Q,EAAU;AAC7BA,EAAAA,QAAQ,CAACG,MAAT,CAAgBhB,eAAe,CAACc,KAAhC,EAAuCG,EAAvC,CAA0C,YAA1C,EAAwD,MAAM;AAC1DE,IAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AACH,GAFD;AAGH;;0BAEuBP,Q,EAAUH,K,EAAOC,M,EAAQ;AAC7CE,EAAAA,QAAQ,CAACG,MAAT,CAAgBhB,eAAe,CAACc,KAAhC,EAAuCO,IAAvC,CAA4CX,KAA5C,EAAmDC,MAAnD;AACH;;yBAEsBE,Q,EAAUH,K,EAAOC,M,EAAQ;AAC5CE,EAAAA,QAAQ,CAACG,MAAT,CAAgBhB,eAAe,CAACe,IAAhC,EAAsCM,IAAtC,CAA2CX,KAA3C,EAAkDC,MAAlD;AACH;;sBA7CgBV,Q;;;sBAAAA,Q;;;sBAAAA,Q;;;sBAAAA,Q","sourcesContent":["import {io,Manager} from 'socket.io-client';\nimport {ip} from '../config';\nimport session from './method/storage';\nimport { socketUrl, socketNameSpace } from '../config';\n\nexport default class SocketIO extends Manager{\n    constructor() {\n        super(socketUrl.url,{\n            transports: ['websocket'],\n            autoConnect: true,\n            forceNew: true,\n            query: `${session.getItem('token')}siousiou`,\n        })\n    }\n\n    static async action(event = null, params = null, nameSpace = '/') {\n        if (!SocketIO.instance) {\n            SocketIO.instance = new SocketIO()\n        }\n        this.#_connection(SocketIO.instance)\n        this.#_disconnection(SocketIO.instance)\n        if (event) {\n            if (nameSpace === socketNameSpace.basic) {\n                this.#_emitBasicEvent(SocketIO.instance, event, params)\n            }\n            else if(nameSpace === socketNameSpace.main){\n                this.#_emitMainEvent(SocketIO.instance, event, params)\n            }\n        }\n        return await SocketIO.instance;\n    }\n\n    static #_connection(instance) {\n        instance.socket(socketNameSpace.basic).on(name, () => {\n            console.log('socket io is connected')\n        });\n    }\n\n    static #_disconnection(instance) {\n        instance.socket(socketNameSpace.basic).on('disconnect', () => {\n            console.log('has already been disconnected')\n        })\n    }\n\n    static #_emitBasicEvent(instance, event, params) {\n        instance.socket(socketNameSpace.basic).emit(event, params);\n    }\n    \n    static #_emitMainEvent(instance, event, params) {\n        instance.socket(socketNameSpace.main).emit(event, params);\n    }\n\n}\n"]},"metadata":{},"sourceType":"module"}