{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Downloads/code/dajia/frontend/src/page/backend_component/data_input.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { select_emp_name_id } from \"../api\";\nimport { Loading } from \"./loading\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function virtual_table(arr, itemSize, screenHeight, scrollTop) {}\nexport function Return_component(_ref) {\n  _s();\n\n  let {\n    number,\n    page,\n    arr_params\n  } = _ref;\n  const arr = arr_params[page];\n  const ele = useRef(null);\n  const {\n    article_page\n  } = useParams();\n  const itemSize = 4;\n  const screenHeight = 80;\n  const visibleCount = screenHeight / itemSize;\n  const arrHeight = itemSize * arr.length;\n  const [now_item, set_now_item] = useState();\n  const [startIndex, setStartIndex] = useState(0);\n  const [endIndex, setEndIndex] = useState(visibleCount);\n  const [offset, setoffset] = useState(0);\n  useEffect(() => {\n    console.log(startIndex, endIndex, offset);\n  }, []);\n\n  function onScroll(e) {\n    var Top = ele.current.scrollTop;\n    var startidx = Math.floor(Top / itemSize);\n    var endidx = startidx + visibleCount;\n    var startoffset = Top - Top % itemSize;\n    console.log(startIndex, endIndex, offset);\n\n    if (endidx <= arr.length - 1) {\n      setStartIndex(startidx);\n      setEndIndex(endidx);\n      setoffset(startoffset);\n    }\n  }\n\n  ;\n\n  function render_display() {\n    const content = [];\n\n    for (let i = startIndex; i <= endIndex; ++i) {\n      content.push({\n        index: i,\n        Style: {\n          width: '100%',\n          height: itemSize * 5 + 'px',\n          position: \"absolute\",\n          left: 0,\n          right: 0,\n          top: i * itemSize * 5 + 'px'\n        }\n      });\n    }\n\n    return content;\n  }\n\n  if (endIndex <= arr.length - 1) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: ele,\n        onScroll: onScroll,\n        className: \"all_employee\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            minHeight: `${arrHeight}vh`\n          },\n          className: \"employee\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              transition: `translateY(${offset}vh)`\n            },\n            className: \"employee_container\",\n            children: arr.slice(startIndex, endIndex).map((item, index) => {\n              return /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(Id_name, {\n                  style: render_display()[index].Style,\n                  startIndex: startIndex,\n                  set: set_now_item,\n                  now_item: now_item,\n                  component_state: number,\n                  item: item,\n                  index: index\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this)\n    }, void 0, false);\n  }\n}\n\n_s(Return_component, \"T/NKb8qoYxyI11rpjE6EbQigltQ=\", false, function () {\n  return [useParams];\n});\n\n_c = Return_component;\nexport function Id_name(_ref2) {\n  _s2();\n\n  let {\n    set,\n    now_item,\n    item,\n    index,\n    component_state,\n    style,\n    startIndex\n  } = _ref2;\n  const [height, set_height] = useState('2vh');\n  useEffect(() => {\n    if (now_item === index) {\n      set_height('');\n    } else {\n      set_height('4vh');\n    }\n  }, [now_item]);\n\n  if (component_state === 1) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row_container\",\n        onClick: () => {\n          set(index);\n        },\n        style: style,\n        children: startIndex\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 29\n      }, this)\n    }, void 0, false);\n  } else if (component_state === 2) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: item[0],\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: item[1],\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: item[2],\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: item[3],\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 59\n      }, this)]\n    }, void 0, true);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: item[0],\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: item[1],\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 59\n      }, this)]\n    }, void 0, true);\n  }\n}\n\n_s2(Id_name, \"m69MQuyTz3tIpdAhMOjmAOZhBiI=\");\n\n_c2 = Id_name;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Return_component\");\n$RefreshReg$(_c2, \"Id_name\");","map":{"version":3,"sources":["/Users/admin/Downloads/code/dajia/frontend/src/page/backend_component/data_input.js"],"names":["React","useEffect","useRef","useState","useParams","select_emp_name_id","Loading","virtual_table","arr","itemSize","screenHeight","scrollTop","Return_component","number","page","arr_params","ele","article_page","visibleCount","arrHeight","length","now_item","set_now_item","startIndex","setStartIndex","endIndex","setEndIndex","offset","setoffset","console","log","onScroll","e","Top","current","startidx","Math","floor","endidx","startoffset","render_display","content","i","push","index","Style","width","height","position","left","right","top","minHeight","transition","slice","map","item","Id_name","set","component_state","style","set_height"],"mappings":"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","sourcesContent":["import React, { useEffect,useRef,useState} from \"react\"\nimport { useParams } from \"react-router-dom\"\nimport { select_emp_name_id } from \"../api\"\nimport { Loading } from \"./loading\"\n\n\n\nexport function virtual_table(arr,itemSize,screenHeight,scrollTop){\n\n\n}\n\n\nexport function Return_component({number,page,arr_params}){\n    const arr=arr_params[page]\n    const ele=useRef(null)\n    const {article_page}=useParams()\n    const itemSize=4\n    const screenHeight=80\n    const visibleCount=screenHeight/itemSize\n    const arrHeight=itemSize*arr.length\n\n    const [now_item,set_now_item]=useState()\n\n    const [startIndex,setStartIndex]=useState(0)\n    const [endIndex,setEndIndex]=useState(visibleCount)\n    const [offset,setoffset]=useState(0)\n    useEffect(()=>{\n        console.log(startIndex,endIndex,offset)\n    },[])\n\n\n    function onScroll(e){\n        var Top=ele.current.scrollTop\n        var startidx=Math.floor(Top/itemSize)\n        var endidx=startidx+visibleCount\n        var startoffset=Top - (Top % itemSize);\n        \n        console.log(startIndex,endIndex,offset)\n\n\n        if(endidx<=arr.length-1){\n            setStartIndex(startidx)\n            setEndIndex(endidx)\n            setoffset(startoffset)\n        }\n    };\n    function render_display(){\n        const content = [];\n        for(let i=startIndex;i<=endIndex;++i){\n            content.push({\n                index:i,\n                Style:\n                {\n                    width: '100%',\n                    height: itemSize*5+'px',\n                    position: \"absolute\",\n                    left: 0,\n                    right: 0,\n                    top: i * itemSize*5+'px',\n                }\n            }\n            )\n            \n        }\n        return content\n    }\n\n    \n\n\n    if(endIndex<=arr.length-1){\n        return(                \n            <>\n            <div ref={ele} onScroll={onScroll} className=\"all_employee\">\n                <div style={{minHeight:`${arrHeight}vh`}} className=\"employee\">\n                    <div style={{transition:`translateY(${offset}vh)`}} className=\"employee_container\">\n                        \n                                {\n                                    arr.slice(startIndex,endIndex).map((item,index)=>{\n                                        \n                                        \n                                        return(\n                                            <>\n                                            <Id_name \n                                            style={render_display()[index].Style}\n                                            startIndex={startIndex}\n                                            set={set_now_item}\n                                            now_item={now_item}\n                                            component_state={number} \n                                            key={index} \n                                            item={item} \n                                            index={index} />\n                                            </>\n                                        )\n                                    })\n                                }\n                    </div>\n                </div>\n            </div>\n            </>)\n    }\n\n    \n}\n\nexport function Id_name({set,now_item,item,index,component_state,style,startIndex}){\n    const [height,set_height]=useState('2vh')\n\n    useEffect(()=>{\n        if(now_item===index){\n            set_height('')\n        }\n        else{\n            set_height('4vh')\n        }\n    },[now_item])\n        if(component_state===1){\n            return(\n                <>\n                        \n                            <div className=\"row_container\" onClick={()=>{set(index)}} style={style}>\n                                \n                                {startIndex}\n                                {}\n                                {/*\n                                <div style={{width:'1vw'}}>{item[0]}</div> \n                                <div style={{width:'5vw',overflow:\"hidden\",height:height}}>{item[1]}</div>\n                                <div style={{width:'20vw',overflow:'hidden',height:height}}>{item[2]}</div>\n                                <input style={{width:'2vw'}} placeholder={item[4]} type='text'/>\n                                <input style={{width:'2vw'}} placeholder={item[5]} type='text'/>\n                                <input style={{width:'2vw'}} placeholder={item[6]} type='text'/>\n                                <input style={{width:'2vw'}} placeholder={item[7]} type='text'/>\n                                <input style={{width:'2vw'}} placeholder={item[8]} type='text'/>\n                                <input style={{width:'4vw'}} placeholder={item[9]} type='text'/>\n                                <textarea defaultValue={item[10]} maxLength={50} style={{width:'20vw',overflow:'hidden',height:height}}></textarea>\n                                <input style={{width:'2vw'}} placeholder={item[11]} type='text'/>\n                                <input style={{width:'2vw'}} vplaceholder={item[12]} type='text'/>\n                                 */}\n                            </div>\n                        \n                </>\n            )\n        }\n        else if(component_state===2){\n            return(\n                <>\n                <input placeholder={item[0]}  type='text'/>\n                <input placeholder={item[1]} type='text'/>\n                <input placeholder={item[2]} type='text'/>\n                <input placeholder={item[3]} type='text'/><br/>\n                </>\n            )\n\n        }\n        else{\n            return(\n                <>\n                <input placeholder={item[0]}  type='text'/>\n                <input placeholder={item[1]} type='text'/><br/>\n                </>\n            )\n            \n        }\n\n\n}"]},"metadata":{},"sourceType":"module"}