{"ast":null,"code":"import { io, Manager } from 'socket.io-client';\nimport { ip } from '../config';\nconst socketUrl = {\n  url: `http://${ip}:5002`,\n  urlMain: '/main'\n};\nlet socketManager = new Manager(socketUrl.url, {\n  transports: ['websocket'],\n  autoConnect: true,\n  forceNew: true,\n  query: `${token}siousiou`\n});\nlet socketBasic = socketManager.socket('/');\nlet socketMain = socketManager.socket(socketUrl.urlMain);\nexport const connectBasicSocket = token => {\n  var _socketBasic;\n\n  if ((_socketBasic = socketBasic) !== null && _socketBasic !== void 0 && _socketBasic.connected) return;\n  socketBasic = io.connect(socketUrl.url, {\n    transports: ['websocket'],\n    autoConnect: true,\n    forceNew: true,\n    query: `${token}siousiou`\n  });\n  socketBasic.on('connect', data => {\n    console.log('connect data => ', data);\n  });\n};\nexport const disconnectSocket = () => {\n  var _socketBasic2;\n\n  if (!socketBasic) return;\n  (_socketBasic2 = socketBasic) === null || _socketBasic2 === void 0 ? void 0 : _socketBasic2.disconnect();\n};\nexport const connectMainSocket = async token => {\n  console.log(\"it is main socket\");\n  socketMain = io.connect(socketUrl.url + socketUrl.urlMain, {\n    transports: ['websocket'],\n    autoConnect: true,\n    forceNew: true,\n    query: `${token}siousiou`\n  });\n  socketMain.on('DataBaseChange', data => {\n    console.log('hihi data => ', data);\n  });\n};","map":{"version":3,"sources":["/Users/siou/Downloads/code/performance/frontend_dev/src/page/socketIo.js"],"names":["io","Manager","ip","socketUrl","url","urlMain","socketManager","transports","autoConnect","forceNew","query","token","socketBasic","socket","socketMain","connectBasicSocket","connected","connect","on","data","console","log","disconnectSocket","disconnect","connectMainSocket"],"mappings":"AAAA,SAAQA,EAAR,EAAWC,OAAX,QAAyB,kBAAzB;AACA,SAAQC,EAAR,QAAiB,WAAjB;AACA,MAAMC,SAAS,GAAG;AACdC,EAAAA,GAAG,EAAG,UAASF,EAAG,OADJ;AAEdG,EAAAA,OAAO,EAAE;AAFK,CAAlB;AAIA,IAAIC,aAAa,GAAI,IAAIL,OAAJ,CAAYE,SAAS,CAACC,GAAtB,EAA0B;AAC3CG,EAAAA,UAAU,EAAE,CAAC,WAAD,CAD+B;AAE3CC,EAAAA,WAAW,EAAE,IAF8B;AAG3CC,EAAAA,QAAQ,EAAE,IAHiC;AAI3CC,EAAAA,KAAK,EAAG,GAAEC,KAAM;AAJ2B,CAA1B,CAArB;AAMA,IAAIC,WAAW,GAAGN,aAAa,CAACO,MAAd,CAAqB,GAArB,CAAlB;AACA,IAAIC,UAAU,GAAGR,aAAa,CAACO,MAAd,CAAqBV,SAAS,CAACE,OAA/B,CAAjB;AAEA,OAAO,MAAMU,kBAAkB,GAAIJ,KAAD,IAAW;AAAA;;AACzC,sBAAIC,WAAJ,yCAAI,aAAaI,SAAjB,EAA4B;AAE5BJ,EAAAA,WAAW,GAAGZ,EAAE,CAACiB,OAAH,CAAWd,SAAS,CAACC,GAArB,EAA0B;AACpCG,IAAAA,UAAU,EAAE,CAAC,WAAD,CADwB;AAEpCC,IAAAA,WAAW,EAAE,IAFuB;AAGpCC,IAAAA,QAAQ,EAAE,IAH0B;AAIpCC,IAAAA,KAAK,EAAG,GAAEC,KAAM;AAJoB,GAA1B,CAAd;AAOAC,EAAAA,WAAW,CAACM,EAAZ,CAAe,SAAf,EAA2BC,IAAD,IAAU;AAChCC,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAA+BF,IAA/B;AACH,GAFD;AAGH,CAbM;AAeP,OAAO,MAAMG,gBAAgB,GAAG,MAAM;AAAA;;AAClC,MAAI,CAACV,WAAL,EAAkB;AAClB,mBAAAA,WAAW,UAAX,sDAAaW,UAAb;AACH,CAHM;AAKP,OAAO,MAAMC,iBAAiB,GAAE,MAAOb,KAAP,IAAiB;AAC7CS,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACAP,EAAAA,UAAU,GAAGd,EAAE,CAACiB,OAAH,CAAWd,SAAS,CAACC,GAAV,GAAgBD,SAAS,CAACE,OAArC,EAA8C;AACvDE,IAAAA,UAAU,EAAE,CAAC,WAAD,CAD2C;AAEvDC,IAAAA,WAAW,EAAE,IAF0C;AAGvDC,IAAAA,QAAQ,EAAE,IAH6C;AAIvDC,IAAAA,KAAK,EAAG,GAAEC,KAAM;AAJuC,GAA9C,CAAb;AAOAG,EAAAA,UAAU,CAACI,EAAX,CAAc,gBAAd,EAAiCC,IAAD,IAAU;AACtCC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BF,IAA7B;AACH,GAFD;AAGH,CAZM","sourcesContent":["import {io,Manager} from 'socket.io-client';\nimport {ip} from '../config';\nconst socketUrl = {\n    url: `http://${ip}:5002`,\n    urlMain: '/main',\n}\nlet socketManager =  new Manager(socketUrl.url,{\n    transports: ['websocket'],\n    autoConnect: true,\n    forceNew: true,\n    query: `${token}siousiou`,\n})\nlet socketBasic = socketManager.socket('/');\nlet socketMain = socketManager.socket(socketUrl.urlMain);\n\nexport const connectBasicSocket = (token) => {\n    if (socketBasic?.connected) return;\n\n    socketBasic = io.connect(socketUrl.url, {\n        transports: ['websocket'],\n        autoConnect: true,\n        forceNew: true,\n        query: `${token}siousiou`,\n    });\n\n    socketBasic.on('connect', (data) => {\n        console.log('connect data => ',data)\n    });\n}\n\nexport const disconnectSocket = () => {\n    if (!socketBasic) return;\n    socketBasic?.disconnect();\n};\n\nexport const connectMainSocket =async (token) => {\n    console.log(\"it is main socket\")\n    socketMain = io.connect(socketUrl.url + socketUrl.urlMain, {\n        transports: ['websocket'],\n        autoConnect: true,\n        forceNew: true,\n        query: `${token}siousiou`,\n    });\n\n    socketMain.on('DataBaseChange', (data) => {\n        console.log('hihi data => ', data)\n    });\n}"]},"metadata":{},"sourceType":"module"}