{"ast":null,"code":"import axios from \"axios\";\nexport const ip = '127.0.0.1';\nexport const config = {\n  url: `http://${ip}:5000/`,\n  urlYearPerformance: 'backend/year_performance',\n  urlBanchIndex: 'backend/banch_index',\n  urlBackEnd: 'backend',\n  urlInsertBanchTable: 'backend/InsertBanchTable',\n  urlInsertPerformanceTable: 'backend/InsertPerformanceTable',\n  urlUpdatePerformance: 'backend/UpdatePerformanceTable',\n  urlGroupChange: 'backend/GroupChange',\n  urlSelectAllBanch: 'backend/SelectAllBanch',\n  urlPerformanceBanchChange: 'backend/PerformanceBanchChange'\n};\nexport const article_bar_arr = ['首頁', '年度考核分數', '每月考核績效'];\nexport const log_out = ['登出'];\nexport const personal_sidebar = ['每月考核績效', '年度考核分數'];\nexport function admin_sidebar() {\n  const admin_sidebar_orignal = ['組別管理', '總覽', '幹部', '離職員工', '新增年度'];\n  var banch = JSON.parse(window.sessionStorage.getItem('all_banch')); //console.log(banch)\n\n  if (banch === null || banch === undefined) {\n    return admin_sidebar_orignal;\n  }\n\n  for (let item = 0; item < banch.length; item++) {\n    admin_sidebar_orignal.splice(item + 2, 0, banch[item]);\n  } //console.log(admin_sidebar_orignal)\n\n\n  return admin_sidebar_orignal;\n}\nexport function manager_sidebar() {\n  var banch = window.sessionStorage.getItem('banch');\n  const manager = [banch];\n  return manager;\n}\nexport const position_arr = ['', '管理員', '主管', '一般職員'];\nexport const fixed_title = ['id', '姓名', '年度目標', '年度', '月份', '態度', '效率', '專業', '績效獎金', '績效描述', '遲到', '不當請假', '分數'];\nexport const fixed_title_emp = ['id', '姓名', '組別', '帳號', '密碼', '入職日', '職位權限', '狀態'];\nexport function all_view(data, state) {\n  var temp = [];\n\n  for (let key in data) {\n    if (key !== '離職員工' && key !== '幹部') {\n      data[key].map((item, index) => {\n        var find_it = false;\n\n        if (state === true) {\n          //檢查年度\n          for (let i = 0; i < temp.length; i++) {\n            if (temp[i][5] === item[5] && temp[i][3] === item[3]) {\n              find_it = true;\n              temp[i][4] += item[4];\n              console.log(temp[i][5], item[5]);\n              break;\n            }\n          }\n\n          temp.map(temp_item => {});\n        }\n\n        if (state === false || find_it === false) {\n          temp.push(item);\n          return item;\n        }\n      });\n    }\n  }\n\n  return temp;\n}\nexport function select_emp_name_id(number) {\n  const emp_arr = [];\n\n  if (number === 1) {\n    for (let i = 0; i < 40; i++) {\n      emp_arr.push([i, 'name: ' + i, 'goal' + i, 'attitude', 'efficiency', 'professional', 2000 + i, 'directions' + i, i, 0, 0]);\n    }\n\n    return emp_arr;\n  } else if (number === 2) {\n    for (let i = 0; i < 40; i++) {\n      emp_arr.push([i, 'name: ' + i, 'goal' + i, 80 + i]);\n    }\n\n    return emp_arr;\n  } else {\n    for (let i = 0; i < 40; i++) {\n      emp_arr.push([i, 'name: ' + i]);\n    }\n\n    return emp_arr;\n  }\n}\nexport function select_route(navigate) {\n  var permession = window.sessionStorage.getItem('permession');\n\n  if (permession === \"admin\") {\n    console.log('\\nRoute==>', permession);\n    navigate(`/backend/admin/${admin_sidebar()[0]}`); //跳過 組別管理\n  } else if (permession === \"manager\") {\n    console.log('\\nRoute==>', permession);\n    navigate(`/backend/manager/${manager_sidebar()[0]}`);\n  } else if (permession === 'personal') {\n    console.log('\\nRoute==>', permession);\n    navigate(`/backend/personal/${personal_sidebar[0]}`);\n  } else {\n    navigate('/');\n  }\n}\nexport async function performance_banch_change(token, data) {\n  return await axios({\n    method: 'POST',\n    url: config.url + config.urlPerformanceBanchChange,\n    data: JSON.stringify({\n      'data': data\n    }),\n    headers: {\n      'token': token,\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    console.log(response);\n    return response.data;\n  }).catch(error => {\n    console.log(error);\n    return false;\n  });\n}\nexport async function group_change(token, data) {\n  return await axios({\n    method: 'POST',\n    url: config.url + config.urlGroupChange,\n    data: JSON.stringify({\n      'data': data\n    }),\n    headers: {\n      'token': token,\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    console.log(response);\n    return true;\n  }).catch(error => {\n    console.log(error);\n    return false;\n  });\n}\nexport async function updata_performance_table(data, token) {\n  return await axios({\n    method: 'POST',\n    url: config.url + config.urlUpdatePerformance,\n    data: JSON.stringify({\n      'data': data\n    }),\n    headers: {\n      'token': token,\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    console.log(response);\n    return true;\n  }).catch(error => {\n    console.log(error);\n    return false;\n  });\n}\n;\nexport async function insert_performance_table(token, data) {\n  return await axios({\n    method: 'POST',\n    url: config.url + config.urlInsertPerformanceTable,\n    data: JSON.stringify({\n      'data': data\n    }),\n    headers: {\n      'token': token,\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    console.log('InsertPerformanceTable', response);\n    return response.data;\n  }).catch(error => {\n    console.log(error);\n    return error;\n  });\n}\nexport async function insert_banch_table(token, data) {\n  return await axios({\n    method: 'POST',\n    url: config.url + config.urlInsertBanchTable,\n    data: JSON.stringify({\n      'data': data\n    }),\n    headers: {\n      'token': token,\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    console.log('response data===>', response.data['data']);\n    return response.data['data']; //data=>insert or update\n    //insert=>tell you that this people is a new create.\n    //updata=>tell you that this people is exist.\n  }).catch(error => {\n    console.log(error);\n    return false;\n  });\n}\nexport async function backend(token) {\n  return await axios({\n    method: 'POST',\n    url: config.url + config.urlBackEnd,\n    headers: {\n      'token': token,\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    var data = response.data;\n    console.log('每月績效', data);\n    var result = all_view(data, false);\n    data['總覽'] = result;\n    window.sessionStorage.setItem('data', JSON.stringify(data));\n    return true;\n  }).catch(error => {\n    console.log(error);\n    console.log('token error =>backend');\n    return false;\n  });\n}\nexport async function banch_index(token) {\n  return await axios({\n    method: 'POST',\n    url: config.url + config.urlBanchIndex,\n    headers: {\n      'token': token,\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    var data = response.data;\n    console.log('組員資料', data);\n    var result = all_view(data, false);\n    data['總覽'] = result;\n    window.sessionStorage.setItem('banch_index', JSON.stringify(data));\n    return true;\n  }).catch(error => {\n    console.log(error);\n    console.log('token error =>banch_index');\n    return false;\n  });\n}\nexport async function year_performance(token) {\n  return await axios({\n    method: 'POST',\n    url: config.url + config.urlYearPerformance,\n    headers: {\n      'token': token,\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    var data = response.data;\n    console.log('年度績效', data);\n    var result = all_view(data, true);\n    data['總覽'] = result;\n    window.sessionStorage.setItem('year_performance', JSON.stringify(data));\n    return true;\n  }).catch(error => {\n    console.log(error);\n    console.log('token error =>year_performance');\n    return false;\n  });\n}\nexport async function select_all_banch(token) {\n  return await axios({\n    method: 'POST',\n    url: config.url + config.urlSelectAllBanch,\n    headers: {\n      'token': token,\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    var data = response.data;\n    console.log('所有組別', data);\n    window.sessionStorage.setItem('all_banch', JSON.stringify(data));\n    return true;\n  }).catch(error => {\n    console.log(error);\n    console.log('token error =>select_all_banch');\n    return false;\n  });\n}\nexport async function login(login_data) {\n  return await axios({\n    method: 'POST',\n    url: config.url,\n    data: JSON.stringify({\n      'account': login_data.account,\n      'password': login_data.password\n    }),\n    headers: {\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  }).then(response => {\n    var data = response.data;\n    console.log(data);\n    window.sessionStorage.setItem('token', data.token);\n    window.sessionStorage.setItem('user_name', data.user_name);\n    window.sessionStorage.setItem('banch', data.banch);\n    window.sessionStorage.setItem('permession', data.permession);\n    console.log(data.token);\n    return true;\n  }).catch(error => {\n    console.log(error);\n    alert('帳號或密碼輸入錯誤');\n    return false;\n  });\n}","map":{"version":3,"sources":["/Users/admin/Downloads/code/dajia/frontend/src/page/api.js"],"names":["axios","ip","config","url","urlYearPerformance","urlBanchIndex","urlBackEnd","urlInsertBanchTable","urlInsertPerformanceTable","urlUpdatePerformance","urlGroupChange","urlSelectAllBanch","urlPerformanceBanchChange","article_bar_arr","log_out","personal_sidebar","admin_sidebar","admin_sidebar_orignal","banch","JSON","parse","window","sessionStorage","getItem","undefined","item","length","splice","manager_sidebar","manager","position_arr","fixed_title","fixed_title_emp","all_view","data","state","temp","key","map","index","find_it","i","console","log","temp_item","push","select_emp_name_id","number","emp_arr","select_route","navigate","permession","performance_banch_change","token","method","stringify","headers","then","response","catch","error","group_change","updata_performance_table","insert_performance_table","insert_banch_table","backend","result","setItem","banch_index","year_performance","select_all_banch","login","login_data","account","password","user_name","alert"],"mappings":"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","sourcesContent":["import axios from \"axios\"\n\n\nexport const ip='127.0.0.1'\nexport const config={\n    url:`http://${ip}:5000/`,\n    urlYearPerformance:'backend/year_performance',\n    urlBanchIndex:'backend/banch_index',\n    urlBackEnd:'backend',\n    urlInsertBanchTable:'backend/InsertBanchTable',\n    urlInsertPerformanceTable:'backend/InsertPerformanceTable',\n    urlUpdatePerformance:'backend/UpdatePerformanceTable',\n    urlGroupChange:'backend/GroupChange',\n    urlSelectAllBanch:'backend/SelectAllBanch',\n    urlPerformanceBanchChange:'backend/PerformanceBanchChange'\n};\nexport const article_bar_arr=['首頁','年度考核分數','每月考核績效']\nexport const log_out=['登出']\nexport const personal_sidebar=['每月考核績效','年度考核分數'];\n \nexport function admin_sidebar(){\n    const admin_sidebar_orignal=['組別管理','總覽','幹部','離職員工','新增年度'];\n    var banch=JSON.parse(window.sessionStorage.getItem('all_banch'))\n    //console.log(banch)\n    if(banch===null||banch===undefined){\n        return admin_sidebar_orignal\n    }\n    for(let item=0;item<banch.length;item++){\n        admin_sidebar_orignal.splice(item+2,0,banch[item])\n    }\n    //console.log(admin_sidebar_orignal)\n    return  admin_sidebar_orignal\n    \n}\nexport function manager_sidebar(){\n    var banch=window.sessionStorage.getItem('banch');\n    const manager= [banch];\n    return manager\n}\n\nexport const position_arr=['','管理員','主管','一般職員']\nexport const fixed_title=['id','姓名','年度目標','年度','月份','態度','效率','專業','績效獎金','績效描述','遲到','不當請假','分數']\nexport const fixed_title_emp=['id','姓名','組別','帳號','密碼','入職日','職位權限','狀態']\n\n\nexport function all_view(data,state){\n    var temp=[]\n\n    for(let key in data){\n        if(key!=='離職員工'&&key!=='幹部'){\n            data[key].map((item,index)=>{\n                var find_it=false\n                if(state===true){\n                    //檢查年度\n                    for(let i=0;i<temp.length;i++){\n                        \n                        if(temp[i][5]===item[5]&&temp[i][3]===item[3]){\n                            find_it=true\n                            temp[i][4]+=item[4]\n                            console.log(temp[i][5],item[5])\n                            break\n                        }\n                    }\n                    temp.map((temp_item)=>{\n\n                    })                    \n                }\n                if(state===false||find_it===false){\n                    temp.push(item)\n                    return item\n                }\n            })\n        }\n    }\n    return temp\n}\n\n\nexport function select_emp_name_id(number){\n\n    const emp_arr=[]\n    if(number===1){\n        for(let i=0;i<40;i++){\n            emp_arr.push([i,'name: '+i,'goal'+i,'attitude','efficiency','professional',2000+i,'directions'+i,i,0,0])\n        }\n        return(emp_arr)\n    }\n    else if(number===2){\n        for(let i=0;i<40;i++){\n            emp_arr.push([i,'name: '+i,'goal'+i,80+i])\n        }\n        return(emp_arr)\n\n    }\n    else{\n        for(let i=0;i<40;i++){\n            emp_arr.push([i,'name: '+i])\n        }\n        return(emp_arr)\n    }\n    \n\n\n}\n\nexport function select_route(navigate){\n\n    var permession=window.sessionStorage.getItem('permession')\n    if(permession===\"admin\"){\n        console.log('\\nRoute==>',permession)\n        navigate(`/backend/admin/${admin_sidebar()[0]}`)//跳過 組別管理\n    }\n    else if(permession===\"manager\"){\n        console.log('\\nRoute==>',permession)\n        navigate(`/backend/manager/${manager_sidebar()[0]}`)\n    }\n    else if(permession==='personal'){\n        console.log('\\nRoute==>',permession)\n        navigate(`/backend/personal/${personal_sidebar[0]}`)\n    }\n    else{navigate('/')}\n}\n\nexport async function performance_banch_change(token,data){\n    return await axios({\n        method:'POST',\n        url:config.url+config.urlPerformanceBanchChange,\n        data:JSON.stringify({\n            'data':data\n        }),\n        headers:{\n            'token':token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin':'*'\n        }\n    }).then((response)=>{\n        console.log(response)\n        return response.data\n    }).catch((error)=>{\n        console.log(error)\n        return false\n    })\n}\n\n\nexport async function group_change(token,data){\n    return await axios({\n        method:'POST',\n        url:config.url+config.urlGroupChange,\n        data:JSON.stringify({\n            'data':data\n        }),\n        headers:{\n            'token':token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin':'*'\n        }\n    }).then((response)=>{\n        console.log(response)\n        return true\n    }).catch((error)=>{\n        console.log(error)\n        return false\n    })\n}\n\nexport async function updata_performance_table(data,token){\n    return await axios({\n        method:'POST',\n        url:config.url+config.urlUpdatePerformance,\n        data:JSON.stringify({\n            'data':data\n        }),\n        headers:{\n            'token':token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin':'*'\n        }\n    }).then((response)=>{\n        console.log(response)\n        return true\n    }).catch((error)=>{\n        console.log(error)\n        return false\n    })\n};\n\nexport async function insert_performance_table(token,data){\n    return await axios({\n        method:'POST',\n        url:config.url+config.urlInsertPerformanceTable,\n        data:JSON.stringify({\n            'data':data\n        }),\n        headers:{\n            'token':token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin':'*'\n        }\n\n    }).then((response)=>{\n        console.log('InsertPerformanceTable',response)\n        return response.data\n    }).catch((error)=>{\n        console.log(error)\n        return error\n    })\n}\n\nexport async function insert_banch_table(token,data){\n    \n    return await axios({\n            method:'POST',\n            url:config.url+config.urlInsertBanchTable,\n            data:JSON.stringify({\n                'data':data,\n            }),\n            headers:{\n                'token':token,\n                'Content-Type': 'application/json',\n                'Access-Control-Allow-Origin':'*'\n            }\n    }).then((response)=>{\n        console.log('response data===>',response.data['data'])\n        return response.data['data']//data=>insert or update\n        //insert=>tell you that this people is a new create.\n        //updata=>tell you that this people is exist.\n    }).catch((error)=>{\n        console.log(error)\n        \n        return false\n    })\n}\n\n\nexport async function backend(token){\n    return await axios({\n        method:'POST',\n        url:config.url+config.urlBackEnd,\n        headers:{\n            'token':token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin':'*'\n        }\n    }).then((response)=>{\n        var data=response.data\n        console.log('每月績效',data)\n        var result= all_view(data,false)\n        data['總覽']=result\n        window.sessionStorage.setItem('data',JSON.stringify(data))\n        return true\n\n    }).catch((error)=>{\n\n        console.log(error)\n        console.log('token error =>backend')\n        return false\n        \n    })\n}\n\nexport async function banch_index(token){\n    return await axios({\n        method:'POST',\n        url:config.url+config.urlBanchIndex,\n        headers:{\n            'token':token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin':'*'\n        }\n    }).then((response)=>{\n        var data=response.data\n        console.log('組員資料',data)\n        var result= all_view(data,false)\n\n        data['總覽']=result\n        window.sessionStorage.setItem('banch_index',JSON.stringify(data))\n        return true\n    }).catch((error)=>{\n        console.log(error)\n        console.log('token error =>banch_index')\n        return false\n    })\n}\n\nexport async function year_performance(token){\n    return await axios({\n        method:'POST',\n        url:config.url+config.urlYearPerformance,\n        headers:{\n            'token':token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin':'*'\n        }\n    }).then((response)=>{\n        var data=response.data\n        console.log('年度績效',data)\n        var result= all_view(data,true)\n        data['總覽']=result\n        window.sessionStorage.setItem('year_performance',JSON.stringify(data))\n\n        return true\n    }).catch((error)=>{\n        console.log(error)\n        console.log('token error =>year_performance')\n        return false\n    })\n}\n\nexport async function select_all_banch(token){\n    return await axios({\n        method:'POST',\n        url:config.url+config.urlSelectAllBanch,\n        headers:{\n            'token':token,\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin':'*'\n        }\n    }).then((response)=>{\n        var data=response.data\n        console.log('所有組別',data)\n        window.sessionStorage.setItem('all_banch',JSON.stringify(data))\n        return true\n    }).catch((error)=>{\n        console.log(error)\n        console.log('token error =>select_all_banch')\n        return false\n    })\n}\n\n\nexport async function login(login_data){\n    return await axios({\n        method:'POST',\n        url:config.url,\n        data:JSON.stringify({\n            'account':login_data.account,\n            'password':login_data.password\n        }),\n        headers:{\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin':'*'\n        }\n    }).then((response)=>{\n        var data=response.data\n\n        console.log(data)\n        window.sessionStorage.setItem('token',data.token)\n        window.sessionStorage.setItem('user_name',data.user_name)\n        window.sessionStorage.setItem('banch',data.banch)\n        window.sessionStorage.setItem('permession',data.permession)\n        console.log(data.token)\n        return true\n \n    }).catch((error)=>{\n        console.log(error)\n        alert('帳號或密碼輸入錯誤')\n        return false\n        \n    })\n}\n"]},"metadata":{},"sourceType":"module"}