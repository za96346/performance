{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Downloads/code/dajia/frontend/src/page/article_page/group_manage.js\",\n    _s = $RefreshSig$();\n\nimport { Loading } from \"../backend_component/loading\";\nimport { Return_component } from \"../backend_component/data_input\";\nimport { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { change_banch_name } from \"../api\";\nimport { check_and_recatch_data } from \"../method/method_func\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Group_manage = _ref => {\n  _s();\n\n  let {\n    data,\n    synchronize_update,\n    synchronize\n  } = _ref;\n  const {\n    page\n  } = useParams();\n  var token = window.sessionStorage.getItem('token');\n  const {\n    article_page\n  } = useParams();\n  const [page_data_arr, set_page_data_arr] = useState([]);\n  const [new_arr, set_new_arr] = useState(['', '']);\n  const [commit, set_commit] = useState([]);\n  const [btn, set_btn] = useState('block');\n  useEffect(() => {\n    //當input更改資料的時候\n    //new_arr=[原來的組,更改名稱後的組]\n    var original_group = new_arr[0];\n    var change_group = new_arr[1];\n    console.log('new_arr', new_arr);\n\n    if (change_group !== '' && change_group !== '新增') {\n      var temp = commit.map(item => {\n        //item [原來的組,更改名稱後的組]\n        if (original_group === item[0]) {\n          return [item[0], change_group];\n        } else {\n          return item;\n        }\n      });\n      set_commit(temp);\n    }\n  }, [new_arr]);\n  useEffect(() => {\n    console.log('commit', commit);\n  }, [commit]);\n  useEffect(() => {\n    if (data.length !== 0) {\n      set_page_data_arr(data);\n      var temp = data.map(item => {\n        return [item, item];\n      });\n      set_commit(temp);\n    } else {\n      set_commit(['', '']);\n      set_page_data_arr([]);\n    }\n  }, [page, article_page, data]);\n\n  if (!page_data_arr || synchronize === true) {\n    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [page_data_arr.length > 0 ? /*#__PURE__*/_jsxDEV(Return_component, {\n      page_data_arr: page_data_arr,\n      set_page_data_arr: set_page_data_arr,\n      number: 6,\n      synchronize_update: synchronize_update,\n      page: page,\n      set_new_arr: set_new_arr\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 18\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: \"\\u67E5\\u7121\\u7D50\\u679C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 18\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        overflow: 'auto',\n        width: '100%',\n        alignItems: 'center',\n        justifyContent: 'center',\n        display: 'flex'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          display: btn\n        },\n        onClick: () => {\n          set_page_data_arr([...page_data_arr, `新增`]);\n          set_commit([...commit, [`新增`, '新增']]);\n          set_btn('none');\n        },\n        children: \"\\u65B0\\u589E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          change_banch_name(token, commit);\n          check_and_recatch_data;\n        },\n        children: \"\\u5132\\u5B58\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Group_manage, \"m5Nntldq2eBCWTbfs+utl1zajLE=\", false, function () {\n  return [useParams, useParams];\n});\n\n_c = Group_manage;\nexport default Group_manage;\n\nvar _c;\n\n$RefreshReg$(_c, \"Group_manage\");","map":{"version":3,"sources":["/Users/admin/Downloads/code/dajia/frontend/src/page/article_page/group_manage.js"],"names":["Loading","Return_component","useState","useEffect","useParams","change_banch_name","check_and_recatch_data","Group_manage","data","synchronize_update","synchronize","page","token","window","sessionStorage","getItem","article_page","page_data_arr","set_page_data_arr","new_arr","set_new_arr","commit","set_commit","btn","set_btn","original_group","change_group","console","log","temp","map","item","length","overflow","width","alignItems","justifyContent","display"],"mappings":"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","sourcesContent":["import { Loading } from \"../backend_component/loading\";\nimport { Return_component } from \"../backend_component/data_input\";\nimport { useState,useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { change_banch_name } from \"../api\";\nimport { check_and_recatch_data } from \"../method/method_func\";\n\nconst Group_manage=({data,synchronize_update,synchronize})=>{\n    const {page}=useParams()\n    var token=window.sessionStorage.getItem('token')\n\n    const {article_page}=useParams()\n    const [page_data_arr,set_page_data_arr]=useState([])\n    const [new_arr,set_new_arr]=useState(['',''])\n    const [commit,set_commit]=useState([])\n    const [btn,set_btn]=useState('block')\n    useEffect(()=>{\n        //當input更改資料的時候\n        //new_arr=[原來的組,更改名稱後的組]\n        var original_group=new_arr[0]\n        var change_group=new_arr[1]\n        console.log('new_arr',new_arr)\n        if(change_group!==''&&change_group!=='新增'){\n            var temp=commit.map((item)=>{\n                //item [原來的組,更改名稱後的組]\n                if(original_group===item[0]){\n                    return [item[0],change_group]\n                }\n                else{\n                    return item\n                }\n            })\n            set_commit(temp)\n        }\n        \n    },[new_arr])\n    useEffect(()=>{\n        console.log('commit',commit)\n    },[commit])\n\n\n    useEffect(()=>{\n\n        if(data.length!==0){\n            set_page_data_arr(data)\n            var temp=data.map((item)=>{\n                return [item,item]\n            })\n            set_commit(temp)\n        }\n        else{\n            set_commit(['',''])\n            set_page_data_arr([])\n        }\n    },[page,article_page,data])\n\n    if(!page_data_arr||synchronize===true){\n        return(<Loading/>)\n    }\n    return(\n        <>\n            \n            {\n                page_data_arr.length>0\n                ?<Return_component\n                page_data_arr={page_data_arr}\n                set_page_data_arr={set_page_data_arr}\n                number={6} \n                synchronize_update={synchronize_update}\n                page={page}\n                set_new_arr={set_new_arr}\n                />\n                :<div className=\"container\">查無結果</div>\n            }\n            <div style={{overflow:'auto',width:'100%',alignItems:'center',justifyContent:'center',display:'flex'}}>\n                <button \n                    style={{display:btn}}\n                    onClick={()=>{\n                        set_page_data_arr([...page_data_arr,`新增`])\n                        set_commit([...commit,[`新增`,'新增']])\n                        set_btn('none')\n                    }}>\n                    新增</button>\n                <button\n                onClick={()=>{\n                    change_banch_name(token,commit)\n                    check_and_recatch_data\n                }}\n                >儲存</button>\n            </div>\n        </>\n    )\n\n}\nexport default Group_manage;"]},"metadata":{},"sourceType":"module"}